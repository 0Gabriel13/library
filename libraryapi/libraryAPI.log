2025-03-31T10:32:51.185-03:00  INFO 18332 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 18332 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T10:32:51.188-03:00  INFO 18332 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T10:32:55.540-03:00  INFO 18332 --- [libraryapi] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-31T10:32:55.706-03:00  INFO 18332 --- [libraryapi] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 149 ms. Found 4 JPA repository interfaces.
2025-03-31T10:32:57.326-03:00  INFO 18332 --- [libraryapi] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-31T10:32:57.359-03:00  INFO 18332 --- [libraryapi] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-31T10:32:57.360-03:00  INFO 18332 --- [libraryapi] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-03-31T10:32:57.486-03:00  INFO 18332 --- [libraryapi] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-31T10:32:57.487-03:00  INFO 18332 --- [libraryapi] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6209 ms
2025-03-31T10:32:58.021-03:00  INFO 18332 --- [libraryapi] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-31T10:32:58.156-03:00  INFO 18332 --- [libraryapi] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2025-03-31T10:32:58.224-03:00  INFO 18332 --- [libraryapi] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-31T10:32:58.432-03:00  INFO 18332 --- [libraryapi] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-31T10:32:58.759-03:00  INFO 18332 --- [libraryapi] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@27053257
2025-03-31T10:32:58.763-03:00  INFO 18332 --- [libraryapi] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-31T10:32:59.323-03:00  INFO 18332 --- [libraryapi] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-31T10:33:00.705-03:00  INFO 18332 --- [libraryapi] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-31T10:33:00.710-03:00  INFO 18332 --- [libraryapi] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-31T10:33:01.428-03:00  INFO 18332 --- [libraryapi] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-31T10:33:02.728-03:00  WARN 18332 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-31T10:33:02.808-03:00  INFO 18332 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-31T10:33:03.933-03:00  INFO 18332 --- [libraryapi] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-03-31T10:33:04.094-03:00  WARN 18332 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T10:33:04.094-03:00  WARN 18332 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T10:33:04.094-03:00  WARN 18332 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T10:33:04.095-03:00  WARN 18332 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T10:33:04.095-03:00  WARN 18332 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T10:33:04.095-03:00  WARN 18332 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T10:33:05.087-03:00  INFO 18332 --- [libraryapi] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-31T10:33:05.108-03:00  INFO 18332 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 14.916 seconds (process running for 15.716)
2025-03-31T10:58:55.457-03:00  INFO 3396 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 3396 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T10:58:55.461-03:00 DEBUG 3396 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T10:58:55.463-03:00  INFO 3396 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T10:59:03.531-03:00 DEBUG 3396 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-31T10:59:03.534-03:00 DEBUG 3396 --- [libraryapi] [main] i.g.c.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-31T10:59:05.197-03:00  WARN 3396 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-31T10:59:05.271-03:00 TRACE 3396 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfiguration=io.github.cursosb.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@402d45c6}
2025-03-31T10:59:05.276-03:00  INFO 3396 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-31T10:59:06.266-03:00 DEBUG 3396 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028e81adcf20@dfb044a with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-31T10:59:06.432-03:00 DEBUG 3396 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-31T10:59:06.470-03:00 DEBUG 3396 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-31T10:59:06.516-03:00 DEBUG 3396 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-31T10:59:06.873-03:00 DEBUG 3396 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-31T10:59:06.892-03:00  WARN 3396 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T10:59:06.893-03:00 DEBUG 3396 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-31T10:59:06.894-03:00  WARN 3396 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T10:59:06.895-03:00 DEBUG 3396 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-31T10:59:06.895-03:00  WARN 3396 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T10:59:06.895-03:00 DEBUG 3396 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-31T10:59:06.895-03:00  WARN 3396 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T10:59:06.896-03:00 DEBUG 3396 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-31T10:59:06.896-03:00  WARN 3396 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T10:59:06.896-03:00 DEBUG 3396 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-31T10:59:06.896-03:00  WARN 3396 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T10:59:06.896-03:00 DEBUG 3396 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-31T10:59:07.040-03:00 DEBUG 3396 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-31T10:59:07.112-03:00 DEBUG 3396 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-31T10:59:08.011-03:00  INFO 3396 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 13.24 seconds (process running for 13.858)
2025-03-31T10:59:24.454-03:00  INFO 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-31T10:59:24.455-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-31T10:59:24.456-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-31T10:59:24.456-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-31T10:59:24.461-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2a6e710e
2025-03-31T10:59:24.463-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1c8020c6
2025-03-31T10:59:24.464-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-31T10:59:24.464-03:00  INFO 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2025-03-31T10:59:24.546-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T10:59:24.551-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T10:59:24.552-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T10:59:24.553-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T10:59:24.556-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T10:59:24.558-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T10:59:24.558-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028e81adcf20@dfb044a, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3a60771b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4848fc0f, org.springframework.security.web.context.SecurityContextHolderFilter@1b232da1, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@530daa7e, org.springframework.security.web.header.HeaderWriterFilter@25b5aa20, org.springframework.security.web.csrf.CsrfFilter@1f4863e0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5b3915b, org.springframework.security.web.authentication.logout.LogoutFilter@7d432f4e, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@134b19ae, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@3b900a81, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@361a1ec3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@38187be6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2cd9488b, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6764a6d4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@630793f3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6d60c9e6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7b48451b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@102a1a4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556916f8, org.springframework.security.web.access.ExceptionTranslationFilter@1ea29e40, org.springframework.security.web.access.intercept.AuthorizationFilter@3484b8db, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@17699e35, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2c15ced4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@39716249, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4d7687f9, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@5bd8b901]] (7/8)
2025-03-31T10:59:24.561-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-31T10:59:24.571-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-31T10:59:24.587-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-31T10:59:24.592-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-31T10:59:24.600-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-31T10:59:24.622-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-31T10:59:24.630-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-31T10:59:24.635-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028e81adcf20@dfb044a, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@5fada492]]]
2025-03-31T10:59:24.637-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-31T10:59:24.638-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-31T10:59:24.638-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-31T10:59:24.638-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-31T10:59:24.639-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-31T10:59:24.651-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-03-31T10:59:24.652-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T10:59:24.652-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T10:59:24.660-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-31T10:59:25.162-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-31T10:59:25.169-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-31T10:59:25.171-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-03-31T10:59:25.175-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-03-31T10:59:25.176-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-03-31T10:59:25.177-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-03-31T10:59:25.178-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-03-31T10:59:25.179-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-03-31T10:59:25.180-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T10:59:25.181-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-03-31T10:59:25.182-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T10:59:25.183-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-03-31T10:59:25.184-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T10:59:25.185-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-03-31T10:59:25.189-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-03-31T10:59:25.190-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-03-31T10:59:25.191-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-03-31T10:59:25.198-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-31T10:59:25.199-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized using org.springframework.security.authorization.AuthenticatedAuthorizationManager@4e15a081
2025-03-31T10:59:25.200-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-31T10:59:25.216-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-31T10:59:25.295-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue to session
2025-03-31T10:59:25.296-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2025-03-31T10:59:25.305-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@5fada492, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@29a01820, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@29a01820, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@29a01820, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-03-31T10:59:25.309-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@29a01820, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-03-31T10:59:25.310-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@16224bd8
2025-03-31T10:59:25.313-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-03-31T10:59:25.315-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T10:59:25.354-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T10:59:25.357-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T10:59:25.358-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T10:59:25.358-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T10:59:25.358-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T10:59:25.359-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T10:59:25.360-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028e81adcf20@dfb044a, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3a60771b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4848fc0f, org.springframework.security.web.context.SecurityContextHolderFilter@1b232da1, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@530daa7e, org.springframework.security.web.header.HeaderWriterFilter@25b5aa20, org.springframework.security.web.csrf.CsrfFilter@1f4863e0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5b3915b, org.springframework.security.web.authentication.logout.LogoutFilter@7d432f4e, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@134b19ae, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@3b900a81, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@361a1ec3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@38187be6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2cd9488b, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6764a6d4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@630793f3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6d60c9e6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7b48451b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@102a1a4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556916f8, org.springframework.security.web.access.ExceptionTranslationFilter@1ea29e40, org.springframework.security.web.access.intercept.AuthorizationFilter@3484b8db, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@17699e35, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2c15ced4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@39716249, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4d7687f9, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@5bd8b901]] (7/8)
2025-03-31T10:59:25.361-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7c649bc2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33df88f1, org.springframework.security.web.context.SecurityContextHolderFilter@a3ece9d, org.springframework.security.web.header.HeaderWriterFilter@53c7c937, org.springframework.security.web.authentication.logout.LogoutFilter@67a725fe, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@340a5c52, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1a6c32a2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@e124366, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@b7461ac, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@21139739, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4893b980, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ecd9708, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4383db17, org.springframework.security.web.access.ExceptionTranslationFilter@3925aa6a, org.springframework.security.web.access.intercept.AuthorizationFilter@3d3efa54]] (8/8)
2025-03-31T10:59:25.361-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-03-31T10:59:25.362-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T10:59:25.363-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T10:59:25.365-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T10:59:25.367-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T10:59:25.368-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T10:59:25.369-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T10:59:25.370-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T10:59:25.370-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T10:59:25.371-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T10:59:25.371-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T10:59:25.372-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T10:59:25.373-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T10:59:25.373-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T10:59:25.373-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T10:59:25.374-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 1E5C8A7B01EF2D68571EBDC1067EF383 using the SPRING_SECURITY_CONTEXT session attribute
2025-03-31T10:59:25.374-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T10:59:25.374-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T10:59:25.375-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T10:59:25.375-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T10:59:25.375-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T10:59:25.376-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T10:59:25.377-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T10:59:25.377-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T10:59:25.378-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-03-31T10:59:25.382-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000028e81add570@6845ab06
2025-03-31T10:59:25.388-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-03-31T10:59:25.397-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-03-31T10:59:25.402-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-03-31T10:59:26.378-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T10:59:26.388-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-31T10:59:26.390-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1E5C8A7B01EF2D68571EBDC1067EF383], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-31T10:59:31.029-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T10:59:31.030-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T10:59:31.031-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T10:59:31.031-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T10:59:31.032-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T10:59:31.033-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T10:59:31.034-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028e81adcf20@dfb044a, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3a60771b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4848fc0f, org.springframework.security.web.context.SecurityContextHolderFilter@1b232da1, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@530daa7e, org.springframework.security.web.header.HeaderWriterFilter@25b5aa20, org.springframework.security.web.csrf.CsrfFilter@1f4863e0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5b3915b, org.springframework.security.web.authentication.logout.LogoutFilter@7d432f4e, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@134b19ae, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@3b900a81, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@361a1ec3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@38187be6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2cd9488b, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6764a6d4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@630793f3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6d60c9e6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7b48451b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@102a1a4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556916f8, org.springframework.security.web.access.ExceptionTranslationFilter@1ea29e40, org.springframework.security.web.access.intercept.AuthorizationFilter@3484b8db, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@17699e35, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2c15ced4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@39716249, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4d7687f9, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@5bd8b901]] (7/8)
2025-03-31T10:59:31.036-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7c649bc2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33df88f1, org.springframework.security.web.context.SecurityContextHolderFilter@a3ece9d, org.springframework.security.web.header.HeaderWriterFilter@53c7c937, org.springframework.security.web.authentication.logout.LogoutFilter@67a725fe, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@340a5c52, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1a6c32a2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@e124366, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@b7461ac, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@21139739, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4893b980, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ecd9708, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4383db17, org.springframework.security.web.access.ExceptionTranslationFilter@3925aa6a, org.springframework.security.web.access.intercept.AuthorizationFilter@3d3efa54]] (8/8)
2025-03-31T10:59:31.036-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-03-31T10:59:31.037-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T10:59:31.037-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T10:59:31.037-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T10:59:31.037-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T10:59:31.038-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T10:59:31.038-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T10:59:31.039-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T10:59:31.040-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T10:59:31.041-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T10:59:31.043-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T10:59:31.050-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-03-31T10:59:31.408-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-03-31T10:59:31.410-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 1E5C8A7B01EF2D68571EBDC1067EF383
2025-03-31T10:59:31.415-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=io.github.cursosb.libraryapi.security.CustomAuthentication@167e603f] to HttpSession [org.apache.catalina.session.StandardSessionFacade@4affa449]
2025-03-31T10:59:31.415-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to io.github.cursosb.libraryapi.security.CustomAuthentication@167e603f
2025-03-31T10:59:31.417-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2025-03-31T10:59:31.419-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T10:59:31.452-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T10:59:31.453-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T10:59:31.453-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T10:59:31.453-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T10:59:31.454-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T10:59:31.454-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T10:59:31.454-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028e81adcf20@dfb044a, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3a60771b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4848fc0f, org.springframework.security.web.context.SecurityContextHolderFilter@1b232da1, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@530daa7e, org.springframework.security.web.header.HeaderWriterFilter@25b5aa20, org.springframework.security.web.csrf.CsrfFilter@1f4863e0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5b3915b, org.springframework.security.web.authentication.logout.LogoutFilter@7d432f4e, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@134b19ae, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@3b900a81, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@361a1ec3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@38187be6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2cd9488b, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6764a6d4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@630793f3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6d60c9e6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7b48451b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@102a1a4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556916f8, org.springframework.security.web.access.ExceptionTranslationFilter@1ea29e40, org.springframework.security.web.access.intercept.AuthorizationFilter@3484b8db, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@17699e35, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2c15ced4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@39716249, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4d7687f9, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@5bd8b901]] (7/8)
2025-03-31T10:59:31.455-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2025-03-31T10:59:31.456-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-31T10:59:31.466-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-31T10:59:31.468-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-31T10:59:31.469-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-31T10:59:31.469-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-31T10:59:31.470-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-31T10:59:31.470-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028e81adcf20@dfb044a, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@5fada492]]]
2025-03-31T10:59:31.470-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-31T10:59:31.471-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-31T10:59:31.471-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-31T10:59:31.472-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-31T10:59:31.472-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-31T10:59:31.476-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=io.github.cursosb.libraryapi.security.CustomAuthentication@167e603f] from SPRING_SECURITY_CONTEXT
2025-03-31T10:59:31.477-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-31T10:59:31.484-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-31T10:59:31.485-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-31T10:59:31.514-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-03-31T10:59:31.523-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Saved authorization
2025-03-31T10:59:31.524-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-03-31T10:59:31.526-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/authorized?code=c2jNu4GkJSigbxIurwUdiA-67PaZPwWcxKXlr26EleidNdC0hV-qsDwMoPiStRXFPxXIg9_bTs3bcccBYm8VRVB_dFQ94qrf89cHMG1Y9u0tC24ZkXk3oO9n3-ROdNQ0
2025-03-31T10:59:31.526-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T10:59:32.345-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T10:59:32.346-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T10:59:32.347-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T10:59:32.347-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T10:59:32.348-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T10:59:32.349-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T10:59:32.351-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028e81adcf20@dfb044a, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3a60771b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4848fc0f, org.springframework.security.web.context.SecurityContextHolderFilter@1b232da1, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@530daa7e, org.springframework.security.web.header.HeaderWriterFilter@25b5aa20, org.springframework.security.web.csrf.CsrfFilter@1f4863e0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5b3915b, org.springframework.security.web.authentication.logout.LogoutFilter@7d432f4e, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@134b19ae, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@3b900a81, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@361a1ec3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@38187be6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2cd9488b, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6764a6d4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@630793f3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6d60c9e6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7b48451b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@102a1a4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556916f8, org.springframework.security.web.access.ExceptionTranslationFilter@1ea29e40, org.springframework.security.web.access.intercept.AuthorizationFilter@3484b8db, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@17699e35, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2c15ced4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@39716249, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4d7687f9, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@5bd8b901]] (7/8)
2025-03-31T10:59:32.351-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-03-31T10:59:32.352-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-31T10:59:32.353-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-31T10:59:32.354-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-31T10:59:32.354-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-31T10:59:32.355-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-31T10:59:32.355-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-31T10:59:32.356-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028e81adcf20@dfb044a, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@5fada492]]]
2025-03-31T10:59:32.357-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-31T10:59:32.358-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-31T10:59:32.358-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-31T10:59:32.359-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-31T10:59:32.359-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-31T10:59:32.359-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-03-31T10:59:32.360-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-03-31T10:59:32.361-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-03-31T10:59:32.362-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-03-31T10:59:32.368-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-03-31T10:59:32.368-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-03-31T10:59:32.368-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-03-31T10:59:32.377-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-03-31T10:59:32.607-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-03-31T10:59:32.608-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Retrieved authorization with authorization code
2025-03-31T10:59:32.608-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Did not authenticate code verifier since requireProofKey=false
2025-03-31T10:59:32.609-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-03-31T10:59:32.611-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2025-03-31T10:59:32.612-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-03-31T10:59:32.612-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T10:59:32.613-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-03-31T10:59:32.613-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T10:59:32.614-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-03-31T10:59:32.614-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T10:59:32.614-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-03-31T10:59:32.614-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-03-31T10:59:32.615-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-03-31T10:59:32.615-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-03-31T10:59:32.617-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-03-31T10:59:32.617-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@4e15a081
2025-03-31T10:59:32.618-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=meu-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-31T10:59:32.619-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (22/26)
2025-03-31T10:59:32.623-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeAuthenticationProvider (1/20)
2025-03-31T10:59:32.624-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] 2AuthorizationCodeAuthenticationProvider : Retrieved registered client
2025-03-31T10:59:32.625-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] 2AuthorizationCodeAuthenticationProvider : Retrieved authorization with authorization code
2025-03-31T10:59:32.627-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] 2AuthorizationCodeAuthenticationProvider : Validated token request parameters
2025-03-31T10:59:32.853-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] 2AuthorizationCodeAuthenticationProvider : Generated access token
2025-03-31T10:59:32.858-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] 2AuthorizationCodeAuthenticationProvider : Generated refresh token
2025-03-31T10:59:32.859-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] 2AuthorizationCodeAuthenticationProvider : Saved authorization
2025-03-31T10:59:32.860-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] 2AuthorizationCodeAuthenticationProvider : Authenticated token request
2025-03-31T10:59:32.959-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T11:00:23.683-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T11:00:23.684-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T11:00:23.684-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T11:00:23.685-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T11:00:23.685-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T11:00:23.685-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T11:00:23.686-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028e81adcf20@dfb044a, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3a60771b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4848fc0f, org.springframework.security.web.context.SecurityContextHolderFilter@1b232da1, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@530daa7e, org.springframework.security.web.header.HeaderWriterFilter@25b5aa20, org.springframework.security.web.csrf.CsrfFilter@1f4863e0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5b3915b, org.springframework.security.web.authentication.logout.LogoutFilter@7d432f4e, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@134b19ae, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@3b900a81, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@361a1ec3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@38187be6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2cd9488b, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6764a6d4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@630793f3, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6d60c9e6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7b48451b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@102a1a4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556916f8, org.springframework.security.web.access.ExceptionTranslationFilter@1ea29e40, org.springframework.security.web.access.intercept.AuthorizationFilter@3484b8db, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@17699e35, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2c15ced4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@39716249, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4d7687f9, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@5bd8b901]] (7/8)
2025-03-31T11:00:23.686-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7c649bc2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33df88f1, org.springframework.security.web.context.SecurityContextHolderFilter@a3ece9d, org.springframework.security.web.header.HeaderWriterFilter@53c7c937, org.springframework.security.web.authentication.logout.LogoutFilter@67a725fe, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@340a5c52, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1a6c32a2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@e124366, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@b7461ac, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@21139739, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4893b980, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ecd9708, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4383db17, org.springframework.security.web.access.ExceptionTranslationFilter@3925aa6a, org.springframework.security.web.access.intercept.AuthorizationFilter@3d3efa54]] (8/8)
2025-03-31T11:00:23.686-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /autores?nome=a
2025-03-31T11:00:23.686-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T11:00:23.686-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T11:00:23.686-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T11:00:23.688-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T11:00:23.688-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T11:00:23.688-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T11:00:23.688-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T11:00:23.689-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T11:00:23.690-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T11:00:23.691-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T11:00:23.691-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T11:00:23.691-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T11:00:23.693-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-03-31T11:00:23.722-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Returning no authorities since could not find any claims that might contain scopes
2025-03-31T11:00:23.723-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-03-31T11:00:23.725-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@ea5aab96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-31T11:00:23.726-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T11:00:23.734-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T11:00:23.735-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T11:00:23.735-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T11:00:23.736-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T11:00:23.736-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T11:00:23.736-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T11:00:23.737-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /autores?nome=a
2025-03-31T11:00:23.737-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /autores?nome=a using org.springframework.security.authorization.AuthenticatedAuthorizationManager@21b43d2a
2025-03-31T11:00:23.737-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated io.github.cursosb.libraryapi.security.CustomAuthentication@4e193987
2025-03-31T11:00:23.738-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /autores?nome=a
2025-03-31T11:00:23.739-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/autores?nome=a", parameters={masked}
2025-03-31T11:00:23.740-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to io.github.cursosb.libraryapi.controller.AutorController#pesquisar(String, String)
2025-03-31T11:00:23.812-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity io.github.cursosb.libraryapi.controller.AutorController.pesquisar(java.lang.String,java.lang.String); target is of class [io.github.cursosb.libraryapi.controller.AutorController]
2025-03-31T11:00:23.848-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity io.github.cursosb.libraryapi.controller.AutorController.pesquisar(java.lang.String,java.lang.String); target is of class [io.github.cursosb.libraryapi.controller.AutorController]
2025-03-31T11:00:23.848-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] i.g.c.l.controller.AutorController       : Pesquisa autores
2025-03-31T11:00:23.848-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-8] i.g.c.l.controller.AutorController       : Pesquisa autores
2025-03-31T11:00:23.848-03:00  INFO 3396 --- [libraryapi] [http-nio-8080-exec-8] i.g.c.l.controller.AutorController       : Pesquisa autores
2025-03-31T11:00:23.849-03:00  WARN 3396 --- [libraryapi] [http-nio-8080-exec-8] i.g.c.l.controller.AutorController       : Pesquisa autores
2025-03-31T11:00:23.849-03:00 ERROR 3396 --- [libraryapi] [http-nio-8080-exec-8] i.g.c.l.controller.AutorController       : Pesquisa autores
2025-03-31T11:00:24.033-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-31T11:00:24.041-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[AutorDTO[id=65c316d5-3a9a-4cb8-a9c0-a69ea68d02f4, nome=Clarice Lispector, dataNascimento=1920-12-10 (truncated)...]
2025-03-31T11:00:24.129-03:00 TRACE 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T11:00:24.136-03:00 DEBUG 3396 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-31T11:41:07.557-03:00  INFO 5820 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 5820 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T11:41:07.560-03:00 DEBUG 5820 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T11:41:07.561-03:00  INFO 5820 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T11:41:21.760-03:00 DEBUG 5820 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-31T11:41:21.764-03:00 DEBUG 5820 --- [libraryapi] [main] i.g.c.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-31T11:41:23.375-03:00  WARN 5820 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-31T11:41:23.444-03:00 TRACE 5820 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfiguration=io.github.cursosb.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@4cdb7fd9}
2025-03-31T11:41:23.449-03:00  INFO 5820 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-31T11:41:24.256-03:00 DEBUG 5820 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015490ad8670@50d640dd with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-31T11:41:24.421-03:00 DEBUG 5820 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-31T11:41:24.457-03:00 DEBUG 5820 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-31T11:41:24.517-03:00 DEBUG 5820 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-31T11:41:24.911-03:00 DEBUG 5820 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-31T11:41:24.928-03:00  WARN 5820 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:41:24.928-03:00 DEBUG 5820 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-31T11:41:24.928-03:00  WARN 5820 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:41:24.928-03:00 DEBUG 5820 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-31T11:41:24.929-03:00  WARN 5820 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:41:24.929-03:00 DEBUG 5820 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-31T11:41:24.929-03:00  WARN 5820 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:41:24.929-03:00 DEBUG 5820 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-31T11:41:24.929-03:00  WARN 5820 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:41:24.929-03:00 DEBUG 5820 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-31T11:41:24.930-03:00  WARN 5820 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:41:24.931-03:00 DEBUG 5820 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-31T11:41:25.050-03:00 DEBUG 5820 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-31T11:41:25.132-03:00 DEBUG 5820 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-31T11:41:26.063-03:00  INFO 5820 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 19.095 seconds (process running for 19.635)
2025-03-31T11:41:47.050-03:00  INFO 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-31T11:41:47.051-03:00 DEBUG 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-31T11:41:47.051-03:00 DEBUG 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-31T11:41:47.051-03:00 DEBUG 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-31T11:41:47.054-03:00 DEBUG 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@21af717b
2025-03-31T11:41:47.056-03:00 DEBUG 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3b310465
2025-03-31T11:41:47.056-03:00 DEBUG 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-31T11:41:47.056-03:00  INFO 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-03-31T11:41:47.083-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T11:41:47.086-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T11:41:47.086-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T11:41:47.087-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T11:41:47.087-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T11:41:47.087-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T11:41:47.088-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015490ad8670@50d640dd, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@238fe794, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@50ae0606, org.springframework.security.web.context.SecurityContextHolderFilter@6fa741b5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@71c31fdd, org.springframework.security.web.header.HeaderWriterFilter@77431f12, org.springframework.security.web.csrf.CsrfFilter@c940eab, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7226747d, org.springframework.security.web.authentication.logout.LogoutFilter@102a1a4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@7b80cc47, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@2f57fc23, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@14fda568, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2c6c67e0, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@7cfe97db, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@396d630, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7548d0d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@530daa7e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7aeb4c8a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@422ecb83, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b0bbea0, org.springframework.security.web.access.ExceptionTranslationFilter@65c58330, org.springframework.security.web.access.intercept.AuthorizationFilter@50f77992, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7ffe0471, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@244cdad1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@2de08488, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@1172d47, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@8c41677]] (7/8)
2025-03-31T11:41:47.089-03:00 DEBUG 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-31T11:41:47.092-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-31T11:41:47.100-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-31T11:41:47.102-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-31T11:41:47.106-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-31T11:41:47.116-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-31T11:41:47.119-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-31T11:41:47.121-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015490ad8670@50d640dd, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@59a6a709]]]
2025-03-31T11:41:47.122-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-31T11:41:47.122-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-31T11:41:47.123-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-31T11:41:47.123-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-31T11:41:47.124-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-31T11:41:47.129-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-03-31T11:41:47.129-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T11:41:47.130-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T11:41:47.133-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-31T11:41:47.336-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-31T11:41:47.338-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-31T11:41:47.339-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-03-31T11:41:47.340-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-03-31T11:41:47.341-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-03-31T11:41:47.341-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-03-31T11:41:47.341-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-03-31T11:41:47.341-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-03-31T11:41:47.342-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T11:41:47.342-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-03-31T11:41:47.342-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T11:41:47.342-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-03-31T11:41:47.343-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T11:41:47.343-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-03-31T11:41:47.344-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-03-31T11:41:47.346-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-03-31T11:41:47.347-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-03-31T11:41:47.350-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-31T11:41:47.350-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized using org.springframework.security.authorization.AuthenticatedAuthorizationManager@735dec69
2025-03-31T11:41:47.351-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-31T11:41:47.358-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-31T11:41:47.409-03:00 DEBUG 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue to session
2025-03-31T11:41:47.409-03:00 DEBUG 5820 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2025-03-31T11:41:47.413-03:00 DEBUG 5820 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@59a6a709, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4bec8704, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4bec8704, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4bec8704, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-03-31T11:41:47.415-03:00 DEBUG 5820 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4bec8704, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-03-31T11:41:47.416-03:00 DEBUG 5820 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@3caf87e6
2025-03-31T11:41:47.417-03:00 DEBUG 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-03-31T11:41:47.419-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T11:41:47.440-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T11:41:47.441-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T11:41:47.442-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T11:41:47.442-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T11:41:47.442-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T11:41:47.442-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T11:41:47.443-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015490ad8670@50d640dd, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@238fe794, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@50ae0606, org.springframework.security.web.context.SecurityContextHolderFilter@6fa741b5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@71c31fdd, org.springframework.security.web.header.HeaderWriterFilter@77431f12, org.springframework.security.web.csrf.CsrfFilter@c940eab, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7226747d, org.springframework.security.web.authentication.logout.LogoutFilter@102a1a4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@7b80cc47, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@2f57fc23, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@14fda568, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2c6c67e0, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@7cfe97db, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@396d630, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7548d0d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@530daa7e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7aeb4c8a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@422ecb83, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b0bbea0, org.springframework.security.web.access.ExceptionTranslationFilter@65c58330, org.springframework.security.web.access.intercept.AuthorizationFilter@50f77992, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7ffe0471, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@244cdad1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@2de08488, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@1172d47, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@8c41677]] (7/8)
2025-03-31T11:41:47.444-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@ef4bda0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47cc8bd, org.springframework.security.web.context.SecurityContextHolderFilter@10aa4210, org.springframework.security.web.header.HeaderWriterFilter@480a5088, org.springframework.security.web.authentication.logout.LogoutFilter@b0bb7f1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@c5ed57e, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33d6bdb7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@58f0d3b6, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7df7b502, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@66e5441e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@aebd00f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a7243e1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@532c4cb, org.springframework.security.web.access.ExceptionTranslationFilter@33650678, org.springframework.security.web.access.intercept.AuthorizationFilter@302f535b]] (8/8)
2025-03-31T11:41:47.445-03:00 DEBUG 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-03-31T11:41:47.445-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T11:41:47.446-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T11:41:47.446-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T11:41:47.446-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T11:41:47.446-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T11:41:47.446-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T11:41:47.447-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T11:41:47.447-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T11:41:47.447-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T11:41:47.447-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T11:41:47.447-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T11:41:47.447-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T11:41:47.449-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T11:41:47.449-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T11:41:47.450-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 3777B263432873C0E9AA81F545A7C634 using the SPRING_SECURITY_CONTEXT session attribute
2025-03-31T11:41:47.450-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T11:41:47.450-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T11:41:47.450-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T11:41:47.450-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T11:41:47.450-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T11:41:47.451-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T11:41:47.451-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T11:41:47.451-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T11:41:47.451-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-03-31T11:41:47.452-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000015490ad8cc0@74c08743
2025-03-31T11:41:47.456-03:00 DEBUG 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-03-31T11:41:47.459-03:00 DEBUG 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-03-31T11:41:47.463-03:00 DEBUG 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-03-31T11:41:47.844-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T11:41:47.848-03:00 DEBUG 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-31T11:41:47.850-03:00 TRACE 5820 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3777B263432873C0E9AA81F545A7C634], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-31T11:43:25.520-03:00  INFO 4192 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 4192 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T11:43:25.522-03:00 DEBUG 4192 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T11:43:25.524-03:00  INFO 4192 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T11:43:40.493-03:00 DEBUG 4192 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-31T11:43:40.508-03:00 DEBUG 4192 --- [libraryapi] [main] i.g.c.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-31T11:43:43.401-03:00  WARN 4192 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-31T11:43:43.545-03:00 TRACE 4192 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfiguration=io.github.cursosb.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@38c7ad43}
2025-03-31T11:43:43.553-03:00  INFO 4192 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-31T11:43:45.052-03:00 DEBUG 4192 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000016681adaf20@13d8d105 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-31T11:43:45.332-03:00 DEBUG 4192 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-31T11:43:45.403-03:00 DEBUG 4192 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-31T11:43:45.500-03:00 DEBUG 4192 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-31T11:43:46.293-03:00 DEBUG 4192 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-31T11:43:46.334-03:00  WARN 4192 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:43:46.337-03:00 DEBUG 4192 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-31T11:43:46.342-03:00  WARN 4192 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:43:46.343-03:00 DEBUG 4192 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-31T11:43:46.343-03:00  WARN 4192 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:43:46.343-03:00 DEBUG 4192 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-31T11:43:46.343-03:00  WARN 4192 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:43:46.344-03:00 DEBUG 4192 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-31T11:43:46.346-03:00  WARN 4192 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:43:46.347-03:00 DEBUG 4192 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-31T11:43:46.348-03:00  WARN 4192 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:43:46.348-03:00 DEBUG 4192 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-31T11:43:46.583-03:00 DEBUG 4192 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-31T11:43:46.716-03:00 DEBUG 4192 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-31T11:43:48.427-03:00  INFO 4192 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 24.248 seconds (process running for 25.445)
2025-03-31T11:45:03.522-03:00  INFO 15488 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 15488 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T11:45:03.524-03:00 DEBUG 15488 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T11:45:03.525-03:00  INFO 15488 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T11:45:10.577-03:00 DEBUG 15488 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-31T11:45:10.580-03:00 DEBUG 15488 --- [libraryapi] [main] i.g.c.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-31T11:45:11.879-03:00  WARN 15488 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-31T11:45:11.942-03:00 TRACE 15488 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfiguration=io.github.cursosb.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@58178b69}
2025-03-31T11:45:11.946-03:00  INFO 15488 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-31T11:45:13.024-03:00 DEBUG 15488 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015e90ae0450@6ffac1f3 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-31T11:45:13.184-03:00 DEBUG 15488 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-31T11:45:13.226-03:00 DEBUG 15488 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-31T11:45:13.270-03:00 DEBUG 15488 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-31T11:45:13.578-03:00 DEBUG 15488 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-31T11:45:13.595-03:00  WARN 15488 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:45:13.595-03:00 DEBUG 15488 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-31T11:45:13.596-03:00  WARN 15488 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:45:13.596-03:00 DEBUG 15488 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-31T11:45:13.596-03:00  WARN 15488 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:45:13.596-03:00 DEBUG 15488 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-31T11:45:13.596-03:00  WARN 15488 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:45:13.596-03:00 DEBUG 15488 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-31T11:45:13.597-03:00  WARN 15488 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:45:13.597-03:00 DEBUG 15488 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-31T11:45:13.597-03:00  WARN 15488 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:45:13.597-03:00 DEBUG 15488 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-31T11:45:13.695-03:00 DEBUG 15488 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-31T11:45:13.747-03:00 DEBUG 15488 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-31T11:45:14.498-03:00  INFO 15488 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 11.592 seconds (process running for 12.105)
2025-03-31T11:45:51.426-03:00  INFO 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-31T11:45:51.427-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-31T11:45:51.427-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-31T11:45:51.428-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-31T11:45:51.434-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4f1dd46b
2025-03-31T11:45:51.437-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@247dad0f
2025-03-31T11:45:51.439-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-31T11:45:51.439-03:00  INFO 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms
2025-03-31T11:45:51.514-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T11:45:51.519-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T11:45:51.520-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T11:45:51.521-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T11:45:51.523-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T11:45:51.524-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T11:45:51.524-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015e90ae0450@6ffac1f3, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5c378663, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@385eb006, org.springframework.security.web.context.SecurityContextHolderFilter@44ef04ac, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@630793f3, org.springframework.security.web.header.HeaderWriterFilter@508d0d9a, org.springframework.security.web.csrf.CsrfFilter@5ca01e01, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@54c78734, org.springframework.security.web.authentication.logout.LogoutFilter@5593dd2b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@aa7bda6, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4ed2eee1, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7053d6e2, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@379ddfda, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366a5b35, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3d65e8c5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6d3e720e, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@76d11298, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13a590f3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b5a6a1c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3065ae6c, org.springframework.security.web.access.ExceptionTranslationFilter@a10723a, org.springframework.security.web.access.intercept.AuthorizationFilter@44d39d83, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@4faf32a7, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@4f1d97d8, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@476bdad6, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@6b0fece4, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@50d640dd]] (7/8)
2025-03-31T11:45:51.528-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-31T11:45:51.536-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-31T11:45:51.556-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-31T11:45:51.567-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-31T11:45:51.575-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-31T11:45:51.593-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-31T11:45:51.601-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-31T11:45:51.609-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015e90ae0450@6ffac1f3, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@1a6804d1]]]
2025-03-31T11:45:51.610-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-31T11:45:51.611-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-31T11:45:51.611-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-31T11:45:51.612-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-31T11:45:51.612-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-31T11:45:51.623-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-03-31T11:45:51.623-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T11:45:51.626-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T11:45:51.633-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-31T11:45:52.057-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-31T11:45:52.062-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-31T11:45:52.063-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-03-31T11:45:52.066-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-03-31T11:45:52.069-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-03-31T11:45:52.070-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-03-31T11:45:52.070-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-03-31T11:45:52.071-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-03-31T11:45:52.072-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T11:45:52.073-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-03-31T11:45:52.074-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T11:45:52.075-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-03-31T11:45:52.076-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T11:45:52.077-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-03-31T11:45:52.080-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-03-31T11:45:52.082-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-03-31T11:45:52.084-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-03-31T11:45:52.089-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-31T11:45:52.090-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6cb7941
2025-03-31T11:45:52.092-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-31T11:45:52.106-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-31T11:45:52.180-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue to session
2025-03-31T11:45:52.181-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2025-03-31T11:45:52.192-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@1a6804d1, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@20821620, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@20821620, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@20821620, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-03-31T11:45:52.195-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@20821620, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-03-31T11:45:52.196-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@613c829c
2025-03-31T11:45:52.199-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-03-31T11:45:52.202-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T11:45:52.229-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T11:45:52.233-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T11:45:52.234-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T11:45:52.235-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T11:45:52.235-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T11:45:52.236-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T11:45:52.237-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015e90ae0450@6ffac1f3, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5c378663, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@385eb006, org.springframework.security.web.context.SecurityContextHolderFilter@44ef04ac, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@630793f3, org.springframework.security.web.header.HeaderWriterFilter@508d0d9a, org.springframework.security.web.csrf.CsrfFilter@5ca01e01, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@54c78734, org.springframework.security.web.authentication.logout.LogoutFilter@5593dd2b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@aa7bda6, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4ed2eee1, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7053d6e2, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@379ddfda, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366a5b35, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3d65e8c5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6d3e720e, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@76d11298, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13a590f3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b5a6a1c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3065ae6c, org.springframework.security.web.access.ExceptionTranslationFilter@a10723a, org.springframework.security.web.access.intercept.AuthorizationFilter@44d39d83, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@4faf32a7, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@4f1d97d8, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@476bdad6, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@6b0fece4, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@50d640dd]] (7/8)
2025-03-31T11:45:52.238-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@531c6f82, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@32103394, org.springframework.security.web.context.SecurityContextHolderFilter@714f3e27, org.springframework.security.web.header.HeaderWriterFilter@65cae15a, org.springframework.security.web.authentication.logout.LogoutFilter@c5ed57e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@76da91cf, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@42cb7c94, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1485c961, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@4d2eb4c6, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@5ce045e3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f9739e0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ef342c2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5eb29861, org.springframework.security.web.access.ExceptionTranslationFilter@53a86a22, org.springframework.security.web.access.intercept.AuthorizationFilter@1a6c32a2]] (8/8)
2025-03-31T11:45:52.239-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-03-31T11:45:52.239-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T11:45:52.240-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T11:45:52.241-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T11:45:52.241-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T11:45:52.243-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T11:45:52.245-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T11:45:52.245-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T11:45:52.245-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T11:45:52.245-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T11:45:52.246-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T11:45:52.247-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T11:45:52.247-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T11:45:52.249-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T11:45:52.249-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T11:45:52.249-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession B089172A8396D74D83875875581AE731 using the SPRING_SECURITY_CONTEXT session attribute
2025-03-31T11:45:52.250-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T11:45:52.250-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T11:45:52.251-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T11:45:52.251-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T11:45:52.252-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T11:45:52.252-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T11:45:52.252-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T11:45:52.253-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T11:45:52.254-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-03-31T11:45:52.256-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000015e90ae0aa0@efd1c70
2025-03-31T11:45:52.262-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-03-31T11:45:52.268-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-03-31T11:45:52.273-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-03-31T11:45:53.054-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T11:45:53.061-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-31T11:45:53.063-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B089172A8396D74D83875875581AE731], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-31T11:46:17.182-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T11:46:17.183-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T11:46:17.184-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T11:46:17.185-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T11:46:17.185-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T11:46:17.185-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T11:46:17.186-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015e90ae0450@6ffac1f3, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5c378663, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@385eb006, org.springframework.security.web.context.SecurityContextHolderFilter@44ef04ac, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@630793f3, org.springframework.security.web.header.HeaderWriterFilter@508d0d9a, org.springframework.security.web.csrf.CsrfFilter@5ca01e01, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@54c78734, org.springframework.security.web.authentication.logout.LogoutFilter@5593dd2b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@aa7bda6, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4ed2eee1, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7053d6e2, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@379ddfda, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366a5b35, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3d65e8c5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6d3e720e, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@76d11298, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13a590f3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b5a6a1c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3065ae6c, org.springframework.security.web.access.ExceptionTranslationFilter@a10723a, org.springframework.security.web.access.intercept.AuthorizationFilter@44d39d83, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@4faf32a7, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@4f1d97d8, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@476bdad6, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@6b0fece4, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@50d640dd]] (7/8)
2025-03-31T11:46:17.187-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@531c6f82, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@32103394, org.springframework.security.web.context.SecurityContextHolderFilter@714f3e27, org.springframework.security.web.header.HeaderWriterFilter@65cae15a, org.springframework.security.web.authentication.logout.LogoutFilter@c5ed57e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@76da91cf, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@42cb7c94, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1485c961, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@4d2eb4c6, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@5ce045e3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f9739e0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ef342c2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5eb29861, org.springframework.security.web.access.ExceptionTranslationFilter@53a86a22, org.springframework.security.web.access.intercept.AuthorizationFilter@1a6c32a2]] (8/8)
2025-03-31T11:46:17.187-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-03-31T11:46:17.188-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T11:46:17.189-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T11:46:17.190-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T11:46:17.191-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T11:46:17.191-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T11:46:17.192-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T11:46:17.192-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T11:46:17.193-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T11:46:17.193-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T11:46:17.193-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T11:46:17.195-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-03-31T11:46:17.585-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-03-31T11:46:17.586-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B089172A8396D74D83875875581AE731
2025-03-31T11:46:17.594-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=io.github.cursosb.libraryapi.security.CustomAuthentication@1f58281c] to HttpSession [org.apache.catalina.session.StandardSessionFacade@12df2f0d]
2025-03-31T11:46:17.595-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to io.github.cursosb.libraryapi.security.CustomAuthentication@1f58281c
2025-03-31T11:46:17.597-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2025-03-31T11:46:17.597-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T11:46:17.628-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T11:46:17.629-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T11:46:17.629-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T11:46:17.629-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T11:46:17.629-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T11:46:17.630-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T11:46:17.631-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015e90ae0450@6ffac1f3, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5c378663, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@385eb006, org.springframework.security.web.context.SecurityContextHolderFilter@44ef04ac, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@630793f3, org.springframework.security.web.header.HeaderWriterFilter@508d0d9a, org.springframework.security.web.csrf.CsrfFilter@5ca01e01, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@54c78734, org.springframework.security.web.authentication.logout.LogoutFilter@5593dd2b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@aa7bda6, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4ed2eee1, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7053d6e2, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@379ddfda, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366a5b35, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3d65e8c5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6d3e720e, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@76d11298, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13a590f3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b5a6a1c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3065ae6c, org.springframework.security.web.access.ExceptionTranslationFilter@a10723a, org.springframework.security.web.access.intercept.AuthorizationFilter@44d39d83, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@4faf32a7, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@4f1d97d8, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@476bdad6, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@6b0fece4, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@50d640dd]] (7/8)
2025-03-31T11:46:17.633-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2025-03-31T11:46:17.634-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-31T11:46:17.634-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-31T11:46:17.635-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-31T11:46:17.636-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-31T11:46:17.636-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-31T11:46:17.637-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-31T11:46:17.638-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015e90ae0450@6ffac1f3, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@1a6804d1]]]
2025-03-31T11:46:17.638-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-31T11:46:17.639-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-31T11:46:17.639-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-31T11:46:17.640-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-31T11:46:17.640-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-31T11:46:17.641-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=io.github.cursosb.libraryapi.security.CustomAuthentication@1f58281c] from SPRING_SECURITY_CONTEXT
2025-03-31T11:46:17.642-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-31T11:46:17.649-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-31T11:46:17.650-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-31T11:46:17.687-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-03-31T11:46:17.689-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Saved authorization
2025-03-31T11:46:17.690-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-03-31T11:46:17.692-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/authorized?code=Lou0Q1eN6X-VeZ0dvVUkCuc2Nuw3DSFJrrYvZe2HSt6RjRR-qFDHvf_vY4OVMvtk5qRCkUqpZYz_EWsXm_CMLC5-zKA2Me5XpnTw2euBJV5KXe2x8Ugd8bm_VkJEHqXV
2025-03-31T11:46:17.694-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T11:46:18.239-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T11:46:18.239-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T11:46:18.240-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T11:46:18.240-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T11:46:18.240-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T11:46:18.240-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T11:46:18.241-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015e90ae0450@6ffac1f3, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5c378663, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@385eb006, org.springframework.security.web.context.SecurityContextHolderFilter@44ef04ac, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@630793f3, org.springframework.security.web.header.HeaderWriterFilter@508d0d9a, org.springframework.security.web.csrf.CsrfFilter@5ca01e01, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@54c78734, org.springframework.security.web.authentication.logout.LogoutFilter@5593dd2b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@aa7bda6, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4ed2eee1, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7053d6e2, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@379ddfda, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@366a5b35, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@3d65e8c5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6d3e720e, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@76d11298, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13a590f3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b5a6a1c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3065ae6c, org.springframework.security.web.access.ExceptionTranslationFilter@a10723a, org.springframework.security.web.access.intercept.AuthorizationFilter@44d39d83, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@4faf32a7, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@4f1d97d8, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@476bdad6, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@6b0fece4, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@50d640dd]] (7/8)
2025-03-31T11:46:18.241-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-03-31T11:46:18.242-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-31T11:46:18.242-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-31T11:46:18.243-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-31T11:46:18.244-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-31T11:46:18.244-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-31T11:46:18.244-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-31T11:46:18.244-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015e90ae0450@6ffac1f3, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@1a6804d1]]]
2025-03-31T11:46:18.244-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-31T11:46:18.245-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-31T11:46:18.245-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-31T11:46:18.245-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-31T11:46:18.246-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-31T11:46:18.247-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-03-31T11:46:18.247-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-03-31T11:46:18.248-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-03-31T11:46:18.248-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-03-31T11:46:18.252-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-03-31T11:46:18.252-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-03-31T11:46:18.253-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-03-31T11:46:18.259-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-03-31T11:46:18.491-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-03-31T11:46:18.492-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Retrieved authorization with authorization code
2025-03-31T11:46:18.492-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Did not authenticate code verifier since requireProofKey=false
2025-03-31T11:46:18.492-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-03-31T11:46:18.493-03:00 DEBUG 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2025-03-31T11:46:18.494-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-03-31T11:46:18.494-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T11:46:18.495-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-03-31T11:46:18.495-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T11:46:18.495-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-03-31T11:46:18.495-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T11:46:18.496-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-03-31T11:46:18.496-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-03-31T11:46:18.496-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-03-31T11:46:18.496-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-03-31T11:46:18.497-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-03-31T11:46:18.497-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6cb7941
2025-03-31T11:46:18.499-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=meu-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-31T11:46:18.501-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (22/26)
2025-03-31T11:46:18.505-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeAuthenticationProvider (1/20)
2025-03-31T11:46:18.506-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Retrieved registered client
2025-03-31T11:46:18.507-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Retrieved authorization with authorization code
2025-03-31T11:46:18.508-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Validated token request parameters
2025-03-31T11:46:18.714-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Generated access token
2025-03-31T11:46:18.718-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Generated refresh token
2025-03-31T11:46:18.720-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Saved authorization
2025-03-31T11:46:18.720-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Authenticated token request
2025-03-31T11:46:18.806-03:00 TRACE 15488 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T11:47:01.495-03:00  INFO 14996 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 14996 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T11:47:01.498-03:00 DEBUG 14996 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T11:47:01.499-03:00  INFO 14996 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T11:47:10.871-03:00 DEBUG 14996 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-31T11:47:10.876-03:00 DEBUG 14996 --- [libraryapi] [main] i.g.c.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-31T11:47:12.371-03:00  WARN 14996 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-31T11:47:12.439-03:00 TRACE 14996 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfiguration=io.github.cursosb.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@4d7f3adf}
2025-03-31T11:47:12.442-03:00  INFO 14996 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-31T11:47:13.457-03:00 DEBUG 14996 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017fd7ad9348@26499067 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-31T11:47:13.595-03:00 DEBUG 14996 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-31T11:47:13.625-03:00 DEBUG 14996 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-31T11:47:13.671-03:00 DEBUG 14996 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-31T11:47:13.974-03:00 DEBUG 14996 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-31T11:47:13.993-03:00  WARN 14996 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:47:13.993-03:00 DEBUG 14996 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-31T11:47:13.994-03:00  WARN 14996 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:47:13.994-03:00 DEBUG 14996 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-31T11:47:13.994-03:00  WARN 14996 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:47:13.994-03:00 DEBUG 14996 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-31T11:47:13.995-03:00  WARN 14996 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:47:13.995-03:00 DEBUG 14996 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-31T11:47:13.995-03:00  WARN 14996 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:47:13.995-03:00 DEBUG 14996 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-31T11:47:13.995-03:00  WARN 14996 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T11:47:13.995-03:00 DEBUG 14996 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-31T11:47:14.099-03:00 DEBUG 14996 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-31T11:47:14.156-03:00 DEBUG 14996 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-31T11:47:15.602-03:00  INFO 14996 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 14.782 seconds (process running for 15.304)
2025-03-31T11:47:33.903-03:00  INFO 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-31T11:47:33.906-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-31T11:47:33.907-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-31T11:47:33.907-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-31T11:47:33.913-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@90d4173
2025-03-31T11:47:33.915-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@17ae4b7c
2025-03-31T11:47:33.918-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-31T11:47:33.918-03:00  INFO 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2025-03-31T11:47:33.985-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T11:47:33.991-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T11:47:33.992-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T11:47:33.993-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T11:47:33.995-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T11:47:33.995-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T11:47:33.996-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017fd7ad9348@26499067, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5c0f1d6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f1a488d, org.springframework.security.web.context.SecurityContextHolderFilter@7aeb4c8a, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@13d8d105, org.springframework.security.web.header.HeaderWriterFilter@4ff19f87, org.springframework.security.web.csrf.CsrfFilter@26781ebb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75e39b41, org.springframework.security.web.authentication.logout.LogoutFilter@7b7d69d1, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@336f70a6, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@56e46791, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@45571cc9, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5c1a728, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5390bdee, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@58b8ee01, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@f4694f8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@393489c3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ca01e01, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11f30fc6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@593e879e, org.springframework.security.web.access.ExceptionTranslationFilter@77431f12, org.springframework.security.web.access.intercept.AuthorizationFilter@29932728, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@1d73ddb0, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4d0c609, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4731c9af, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@10762309]] (7/8)
2025-03-31T11:47:33.999-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-31T11:47:34.006-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-31T11:47:34.019-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-31T11:47:34.028-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-31T11:47:34.034-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-31T11:47:34.053-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-31T11:47:34.059-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-31T11:47:34.068-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017fd7ad9348@26499067, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@77368eaf]]]
2025-03-31T11:47:34.069-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-31T11:47:34.069-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-31T11:47:34.069-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-31T11:47:34.070-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-31T11:47:34.071-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-31T11:47:34.080-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-03-31T11:47:34.081-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T11:47:34.081-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T11:47:34.087-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-31T11:47:34.532-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-31T11:47:34.538-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-31T11:47:34.538-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-03-31T11:47:34.542-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-03-31T11:47:34.543-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-03-31T11:47:34.544-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-03-31T11:47:34.545-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-03-31T11:47:34.546-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-03-31T11:47:34.547-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T11:47:34.547-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-03-31T11:47:34.548-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T11:47:34.549-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-03-31T11:47:34.550-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T11:47:34.550-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-03-31T11:47:34.554-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-03-31T11:47:34.556-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-03-31T11:47:34.557-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-03-31T11:47:34.562-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-31T11:47:34.563-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3753369
2025-03-31T11:47:34.565-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-31T11:47:34.582-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-31T11:47:34.648-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue to session
2025-03-31T11:47:34.648-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2025-03-31T11:47:34.656-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@77368eaf, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@ae8aade, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@ae8aade, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@ae8aade, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-03-31T11:47:34.659-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@ae8aade, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-03-31T11:47:34.661-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@409e0e69
2025-03-31T11:47:34.663-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-03-31T11:47:34.664-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T11:47:34.692-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T11:47:34.694-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T11:47:34.695-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T11:47:34.695-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T11:47:34.696-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T11:47:34.697-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T11:47:34.697-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017fd7ad9348@26499067, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5c0f1d6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f1a488d, org.springframework.security.web.context.SecurityContextHolderFilter@7aeb4c8a, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@13d8d105, org.springframework.security.web.header.HeaderWriterFilter@4ff19f87, org.springframework.security.web.csrf.CsrfFilter@26781ebb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75e39b41, org.springframework.security.web.authentication.logout.LogoutFilter@7b7d69d1, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@336f70a6, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@56e46791, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@45571cc9, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5c1a728, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5390bdee, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@58b8ee01, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@f4694f8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@393489c3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ca01e01, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11f30fc6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@593e879e, org.springframework.security.web.access.ExceptionTranslationFilter@77431f12, org.springframework.security.web.access.intercept.AuthorizationFilter@29932728, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@1d73ddb0, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4d0c609, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4731c9af, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@10762309]] (7/8)
2025-03-31T11:47:34.698-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@ff32f76, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f470fc7, org.springframework.security.web.context.SecurityContextHolderFilter@5a5fb5ea, org.springframework.security.web.header.HeaderWriterFilter@6c4d8b04, org.springframework.security.web.authentication.logout.LogoutFilter@675d209c, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2d05291f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7bfb46b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@34a5dc29, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1485c961, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@2150dc64, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@143211f1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c336d66, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1202bdfc, org.springframework.security.web.access.ExceptionTranslationFilter@6aa2ffd3, org.springframework.security.web.access.intercept.AuthorizationFilter@b2b3a40]] (8/8)
2025-03-31T11:47:34.698-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-03-31T11:47:34.698-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T11:47:34.699-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T11:47:34.700-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T11:47:34.701-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T11:47:34.701-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T11:47:34.702-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T11:47:34.703-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T11:47:34.704-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T11:47:34.704-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T11:47:34.705-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T11:47:34.705-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T11:47:34.706-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T11:47:34.706-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T11:47:34.706-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T11:47:34.707-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 5081A849BB5F150FE091BE8549548493 using the SPRING_SECURITY_CONTEXT session attribute
2025-03-31T11:47:34.707-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T11:47:34.707-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T11:47:34.707-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T11:47:34.708-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T11:47:34.708-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T11:47:34.708-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T11:47:34.709-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T11:47:34.710-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T11:47:34.711-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-03-31T11:47:34.714-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000017fd7ad9998@146e8da6
2025-03-31T11:47:34.719-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-03-31T11:47:34.727-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-03-31T11:47:34.731-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-03-31T11:47:35.785-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T11:47:35.792-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-31T11:47:35.795-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5081A849BB5F150FE091BE8549548493], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-31T11:47:44.518-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T11:47:44.519-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T11:47:44.519-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T11:47:44.519-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T11:47:44.519-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T11:47:44.519-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T11:47:44.520-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017fd7ad9348@26499067, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5c0f1d6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f1a488d, org.springframework.security.web.context.SecurityContextHolderFilter@7aeb4c8a, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@13d8d105, org.springframework.security.web.header.HeaderWriterFilter@4ff19f87, org.springframework.security.web.csrf.CsrfFilter@26781ebb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75e39b41, org.springframework.security.web.authentication.logout.LogoutFilter@7b7d69d1, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@336f70a6, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@56e46791, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@45571cc9, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5c1a728, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5390bdee, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@58b8ee01, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@f4694f8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@393489c3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ca01e01, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11f30fc6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@593e879e, org.springframework.security.web.access.ExceptionTranslationFilter@77431f12, org.springframework.security.web.access.intercept.AuthorizationFilter@29932728, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@1d73ddb0, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4d0c609, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4731c9af, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@10762309]] (7/8)
2025-03-31T11:47:44.521-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@ff32f76, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f470fc7, org.springframework.security.web.context.SecurityContextHolderFilter@5a5fb5ea, org.springframework.security.web.header.HeaderWriterFilter@6c4d8b04, org.springframework.security.web.authentication.logout.LogoutFilter@675d209c, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2d05291f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7bfb46b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@34a5dc29, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1485c961, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@2150dc64, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@143211f1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c336d66, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1202bdfc, org.springframework.security.web.access.ExceptionTranslationFilter@6aa2ffd3, org.springframework.security.web.access.intercept.AuthorizationFilter@b2b3a40]] (8/8)
2025-03-31T11:47:44.521-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-03-31T11:47:44.522-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T11:47:44.522-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T11:47:44.522-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T11:47:44.522-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T11:47:44.522-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T11:47:44.523-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T11:47:44.523-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T11:47:44.523-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T11:47:44.523-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T11:47:44.523-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T11:47:44.525-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-03-31T11:47:44.843-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-03-31T11:47:44.843-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 5081A849BB5F150FE091BE8549548493
2025-03-31T11:47:44.847-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=io.github.cursosb.libraryapi.security.CustomAuthentication@413752f9] to HttpSession [org.apache.catalina.session.StandardSessionFacade@5253e741]
2025-03-31T11:47:44.849-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to io.github.cursosb.libraryapi.security.CustomAuthentication@413752f9
2025-03-31T11:47:44.851-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2025-03-31T11:47:44.851-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T11:47:44.877-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T11:47:44.877-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T11:47:44.878-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T11:47:44.879-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T11:47:44.880-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T11:47:44.881-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T11:47:44.886-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017fd7ad9348@26499067, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5c0f1d6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f1a488d, org.springframework.security.web.context.SecurityContextHolderFilter@7aeb4c8a, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@13d8d105, org.springframework.security.web.header.HeaderWriterFilter@4ff19f87, org.springframework.security.web.csrf.CsrfFilter@26781ebb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75e39b41, org.springframework.security.web.authentication.logout.LogoutFilter@7b7d69d1, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@336f70a6, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@56e46791, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@45571cc9, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5c1a728, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5390bdee, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@58b8ee01, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@f4694f8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@393489c3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ca01e01, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11f30fc6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@593e879e, org.springframework.security.web.access.ExceptionTranslationFilter@77431f12, org.springframework.security.web.access.intercept.AuthorizationFilter@29932728, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@1d73ddb0, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4d0c609, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4731c9af, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@10762309]] (7/8)
2025-03-31T11:47:44.887-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2025-03-31T11:47:44.887-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-31T11:47:44.887-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-31T11:47:44.887-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-31T11:47:44.887-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-31T11:47:44.888-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-31T11:47:44.888-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-31T11:47:44.889-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017fd7ad9348@26499067, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@77368eaf]]]
2025-03-31T11:47:44.889-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-31T11:47:44.889-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-31T11:47:44.890-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-31T11:47:44.890-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-31T11:47:44.890-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-31T11:47:44.894-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=io.github.cursosb.libraryapi.security.CustomAuthentication@413752f9] from SPRING_SECURITY_CONTEXT
2025-03-31T11:47:44.895-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-31T11:47:44.902-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-31T11:47:44.902-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-31T11:47:44.936-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-03-31T11:47:44.939-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Saved authorization
2025-03-31T11:47:44.941-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-03-31T11:47:44.943-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/authorized?code=trvxn_NGad2Sb2J0eOJS2Tq2OsufiA7tNbG2e9VyyM4jBNWcmyszLIV2gATm9756RYxIsZJYX62tdz43cEK2TxbRMKKoS1re-mu3RL7GWAwSP8PUZ_EdMI9HFAowhneo
2025-03-31T11:47:44.944-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T11:47:45.451-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T11:47:45.452-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T11:47:45.453-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T11:47:45.454-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T11:47:45.454-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T11:47:45.455-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T11:47:45.456-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017fd7ad9348@26499067, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5c0f1d6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f1a488d, org.springframework.security.web.context.SecurityContextHolderFilter@7aeb4c8a, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@13d8d105, org.springframework.security.web.header.HeaderWriterFilter@4ff19f87, org.springframework.security.web.csrf.CsrfFilter@26781ebb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75e39b41, org.springframework.security.web.authentication.logout.LogoutFilter@7b7d69d1, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@336f70a6, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@56e46791, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@45571cc9, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5c1a728, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5390bdee, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@58b8ee01, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@f4694f8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@393489c3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ca01e01, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11f30fc6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@593e879e, org.springframework.security.web.access.ExceptionTranslationFilter@77431f12, org.springframework.security.web.access.intercept.AuthorizationFilter@29932728, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@1d73ddb0, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4d0c609, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4731c9af, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@10762309]] (7/8)
2025-03-31T11:47:45.457-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-03-31T11:47:45.457-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-31T11:47:45.459-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-31T11:47:45.459-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-31T11:47:45.461-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-31T11:47:45.461-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-31T11:47:45.462-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-31T11:47:45.463-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017fd7ad9348@26499067, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@77368eaf]]]
2025-03-31T11:47:45.463-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-31T11:47:45.464-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-31T11:47:45.464-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-31T11:47:45.465-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-31T11:47:45.466-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-31T11:47:45.466-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-03-31T11:47:45.467-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-03-31T11:47:45.468-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-03-31T11:47:45.468-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-03-31T11:47:45.471-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-03-31T11:47:45.472-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-03-31T11:47:45.472-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-03-31T11:47:45.479-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-03-31T11:47:45.709-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-03-31T11:47:45.710-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Retrieved authorization with authorization code
2025-03-31T11:47:45.710-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Did not authenticate code verifier since requireProofKey=false
2025-03-31T11:47:45.710-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-03-31T11:47:45.712-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2025-03-31T11:47:45.712-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-03-31T11:47:45.712-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T11:47:45.712-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-03-31T11:47:45.713-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T11:47:45.713-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-03-31T11:47:45.713-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T11:47:45.713-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-03-31T11:47:45.714-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-03-31T11:47:45.714-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-03-31T11:47:45.714-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-03-31T11:47:45.715-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-03-31T11:47:45.715-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3753369
2025-03-31T11:47:45.717-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=meu-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-31T11:47:45.717-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (22/26)
2025-03-31T11:47:45.721-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeAuthenticationProvider (1/20)
2025-03-31T11:47:45.724-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Retrieved registered client
2025-03-31T11:47:45.725-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Retrieved authorization with authorization code
2025-03-31T11:47:45.725-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Validated token request parameters
2025-03-31T11:47:45.893-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Generated access token
2025-03-31T11:47:45.897-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Generated refresh token
2025-03-31T11:47:45.899-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Saved authorization
2025-03-31T11:47:45.899-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Authenticated token request
2025-03-31T11:47:45.989-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T11:48:24.063-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T11:48:24.063-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T11:48:24.063-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T11:48:24.063-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T11:48:24.063-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T11:48:24.064-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T11:48:24.065-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017fd7ad9348@26499067, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5c0f1d6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f1a488d, org.springframework.security.web.context.SecurityContextHolderFilter@7aeb4c8a, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@13d8d105, org.springframework.security.web.header.HeaderWriterFilter@4ff19f87, org.springframework.security.web.csrf.CsrfFilter@26781ebb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@75e39b41, org.springframework.security.web.authentication.logout.LogoutFilter@7b7d69d1, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@336f70a6, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@56e46791, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@45571cc9, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@5c1a728, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5390bdee, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@58b8ee01, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@f4694f8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@393489c3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ca01e01, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11f30fc6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@593e879e, org.springframework.security.web.access.ExceptionTranslationFilter@77431f12, org.springframework.security.web.access.intercept.AuthorizationFilter@29932728, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@1d73ddb0, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4d0c609, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4731c9af, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@10762309]] (7/8)
2025-03-31T11:48:24.065-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@ff32f76, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f470fc7, org.springframework.security.web.context.SecurityContextHolderFilter@5a5fb5ea, org.springframework.security.web.header.HeaderWriterFilter@6c4d8b04, org.springframework.security.web.authentication.logout.LogoutFilter@675d209c, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2d05291f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7bfb46b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@34a5dc29, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1485c961, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@2150dc64, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@143211f1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c336d66, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1202bdfc, org.springframework.security.web.access.ExceptionTranslationFilter@6aa2ffd3, org.springframework.security.web.access.intercept.AuthorizationFilter@b2b3a40]] (8/8)
2025-03-31T11:48:24.066-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /livros?pagina=0&tamanho-pagina=8
2025-03-31T11:48:24.067-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T11:48:24.067-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T11:48:24.067-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T11:48:24.068-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T11:48:24.068-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T11:48:24.069-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T11:48:24.070-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T11:48:24.070-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T11:48:24.070-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T11:48:24.070-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T11:48:24.071-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T11:48:24.071-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T11:48:24.074-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-03-31T11:48:24.100-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Returning no authorities since could not find any claims that might contain scopes
2025-03-31T11:48:24.101-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-03-31T11:48:24.103-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@b40a22d9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-31T11:48:24.103-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T11:48:24.109-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T11:48:24.109-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T11:48:24.109-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T11:48:24.110-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T11:48:24.110-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T11:48:24.110-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T11:48:24.111-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /livros?pagina=0&tamanho-pagina=8
2025-03-31T11:48:24.112-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /livros?pagina=0&tamanho-pagina=8 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@10227f87
2025-03-31T11:48:24.113-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated io.github.cursosb.libraryapi.security.CustomAuthentication@49edde7c
2025-03-31T11:48:24.113-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /livros?pagina=0&tamanho-pagina=8
2025-03-31T11:48:24.114-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/livros?pagina=0&tamanho-pagina=8", parameters={masked}
2025-03-31T11:48:24.115-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to io.github.cursosb.libraryapi.controller.LivroController#pesquisa(String, String, String, GeneroLivro, Integer, Integer, Integer)
2025-03-31T11:48:24.191-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity io.github.cursosb.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,io.github.cursosb.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [io.github.cursosb.libraryapi.controller.LivroController]
2025-03-31T11:48:24.230-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity io.github.cursosb.libraryapi.controller.LivroController.pesquisa(java.lang.String,java.lang.String,java.lang.String,io.github.cursosb.libraryapi.model.GeneroLivro,java.lang.Integer,java.lang.Integer,java.lang.Integer); target is of class [io.github.cursosb.libraryapi.controller.LivroController]
2025-03-31T11:48:24.524-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-31T11:48:24.527-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 2 containing io.github.cursosb.libraryapi.controller.dto.ResultadoPesquisaLivroDTO instanc (truncated)...]
2025-03-31T11:48:24.617-03:00 TRACE 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T11:48:24.622-03:00 DEBUG 14996 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-31T14:05:30.598-03:00  INFO 16160 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 16160 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T14:05:30.600-03:00 DEBUG 16160 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T14:05:30.602-03:00  INFO 16160 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T14:05:50.094-03:00 DEBUG 16160 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-31T14:05:50.100-03:00 DEBUG 16160 --- [libraryapi] [main] i.g.c.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-31T14:05:54.076-03:00  WARN 16160 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-31T14:05:54.513-03:00 TRACE 16160 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfiguration=io.github.cursosb.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@17c3e33}
2025-03-31T14:05:54.534-03:00  INFO 16160 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-31T14:05:57.475-03:00 DEBUG 16160 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025001ade788@2c1a48d6 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-31T14:05:57.795-03:00 DEBUG 16160 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-31T14:05:57.870-03:00 DEBUG 16160 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-31T14:05:57.953-03:00 DEBUG 16160 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-31T14:05:58.960-03:00 DEBUG 16160 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-31T14:05:59.004-03:00  WARN 16160 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:05:59.006-03:00 DEBUG 16160 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-31T14:05:59.008-03:00  WARN 16160 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:05:59.008-03:00 DEBUG 16160 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-31T14:05:59.008-03:00  WARN 16160 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:05:59.008-03:00 DEBUG 16160 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-31T14:05:59.008-03:00  WARN 16160 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:05:59.008-03:00 DEBUG 16160 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-31T14:05:59.008-03:00  WARN 16160 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:05:59.009-03:00 DEBUG 16160 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-31T14:05:59.009-03:00  WARN 16160 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:05:59.009-03:00 DEBUG 16160 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-31T14:05:59.236-03:00 DEBUG 16160 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-31T14:05:59.367-03:00 DEBUG 16160 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-31T14:06:01.166-03:00  INFO 16160 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 31.897 seconds (process running for 32.867)
2025-03-31T14:27:56.623-03:00  INFO 15252 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 15252 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T14:27:56.624-03:00 DEBUG 15252 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T14:27:56.625-03:00  INFO 15252 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T14:28:03.368-03:00 DEBUG 15252 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-31T14:28:03.370-03:00 DEBUG 15252 --- [libraryapi] [main] i.g.c.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-31T14:28:04.562-03:00  WARN 15252 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-31T14:28:04.618-03:00 TRACE 15252 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfiguration=io.github.cursosb.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@53d94a6b}
2025-03-31T14:28:04.621-03:00  INFO 15252 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-31T14:28:05.268-03:00 DEBUG 15252 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000022ccfad9e00@7548d0d with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-31T14:28:05.399-03:00 DEBUG 15252 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-31T14:28:05.433-03:00 DEBUG 15252 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-31T14:28:05.469-03:00 DEBUG 15252 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-31T14:28:05.760-03:00 DEBUG 15252 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-31T14:28:05.773-03:00  WARN 15252 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:28:05.774-03:00 DEBUG 15252 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-31T14:28:05.774-03:00  WARN 15252 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:28:05.774-03:00 DEBUG 15252 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-31T14:28:05.775-03:00  WARN 15252 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:28:05.775-03:00 DEBUG 15252 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-31T14:28:05.775-03:00  WARN 15252 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:28:05.775-03:00 DEBUG 15252 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-31T14:28:05.775-03:00  WARN 15252 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:28:05.775-03:00 DEBUG 15252 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-31T14:28:05.775-03:00  WARN 15252 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:28:05.775-03:00 DEBUG 15252 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-31T14:28:05.875-03:00 DEBUG 15252 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-31T14:28:05.923-03:00 DEBUG 15252 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-31T14:28:06.588-03:00  INFO 15252 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 10.523 seconds (process running for 10.944)
2025-03-31T14:28:12.698-03:00  INFO 11988 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 11988 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T14:28:12.701-03:00 DEBUG 11988 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T14:28:12.703-03:00  INFO 11988 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T14:28:24.750-03:00 DEBUG 11988 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-31T14:28:24.753-03:00 DEBUG 11988 --- [libraryapi] [main] i.g.c.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-31T14:28:25.863-03:00  WARN 11988 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-31T14:28:25.921-03:00 TRACE 11988 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfiguration=io.github.cursosb.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@3f4fd0dc}
2025-03-31T14:28:25.923-03:00  INFO 11988 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-31T14:28:26.572-03:00 DEBUG 11988 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000021c81af9120@50d640dd with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-31T14:28:26.712-03:00 DEBUG 11988 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-31T14:28:26.740-03:00 DEBUG 11988 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-31T14:28:26.788-03:00 DEBUG 11988 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-31T14:28:27.059-03:00 DEBUG 11988 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-31T14:28:27.076-03:00  WARN 11988 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:28:27.076-03:00 DEBUG 11988 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-31T14:28:27.077-03:00  WARN 11988 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:28:27.077-03:00 DEBUG 11988 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-31T14:28:27.077-03:00  WARN 11988 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:28:27.077-03:00 DEBUG 11988 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-31T14:28:27.077-03:00  WARN 11988 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:28:27.077-03:00 DEBUG 11988 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-31T14:28:27.077-03:00  WARN 11988 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:28:27.077-03:00 DEBUG 11988 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-31T14:28:27.077-03:00  WARN 11988 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:28:27.077-03:00 DEBUG 11988 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-31T14:28:27.167-03:00 DEBUG 11988 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-31T14:28:27.218-03:00 DEBUG 11988 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-31T14:28:27.874-03:00  INFO 11988 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 15.756 seconds (process running for 16.56)
2025-03-31T14:28:44.431-03:00  INFO 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-31T14:28:44.432-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-31T14:28:44.433-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-31T14:28:44.434-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-31T14:28:44.438-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2683fbab
2025-03-31T14:28:44.440-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3f6f5e03
2025-03-31T14:28:44.441-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-31T14:28:44.442-03:00  INFO 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2025-03-31T14:28:44.506-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T14:28:44.510-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T14:28:44.511-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T14:28:44.512-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T14:28:44.513-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T14:28:44.514-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T14:28:44.516-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000021c81af9120@50d640dd, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2d86022e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@72f52a70, org.springframework.security.web.context.SecurityContextHolderFilter@6fa741b5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@71c31fdd, org.springframework.security.web.header.HeaderWriterFilter@77431f12, org.springframework.security.web.csrf.CsrfFilter@c940eab, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7226747d, org.springframework.security.web.authentication.logout.LogoutFilter@102a1a4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@7b80cc47, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@2f57fc23, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@14fda568, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2c6c67e0, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@7cfe97db, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@396d630, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7548d0d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@530daa7e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7aeb4c8a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@422ecb83, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75855f4e, org.springframework.security.web.access.ExceptionTranslationFilter@65c58330, org.springframework.security.web.access.intercept.AuthorizationFilter@50f77992, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7ffe0471, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@244cdad1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@2de08488, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@1172d47, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@8c41677]] (7/8)
2025-03-31T14:28:44.518-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-31T14:28:44.524-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-31T14:28:44.536-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-31T14:28:44.544-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-31T14:28:44.551-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-31T14:28:44.568-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-31T14:28:44.572-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-31T14:28:44.578-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000021c81af9120@50d640dd, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@59a6a709]]]
2025-03-31T14:28:44.578-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-31T14:28:44.579-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-31T14:28:44.580-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-31T14:28:44.581-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-31T14:28:44.581-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-31T14:28:44.590-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-03-31T14:28:44.591-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T14:28:44.592-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T14:28:44.598-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-31T14:28:45.038-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-31T14:28:45.045-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-31T14:28:45.045-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-03-31T14:28:45.051-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-03-31T14:28:45.053-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-03-31T14:28:45.054-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-03-31T14:28:45.055-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-03-31T14:28:45.055-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-03-31T14:28:45.056-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T14:28:45.056-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-03-31T14:28:45.057-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T14:28:45.057-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-03-31T14:28:45.058-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T14:28:45.058-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-03-31T14:28:45.062-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-03-31T14:28:45.064-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-03-31T14:28:45.065-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-03-31T14:28:45.072-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-31T14:28:45.073-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized using org.springframework.security.authorization.AuthenticatedAuthorizationManager@4c265a6e
2025-03-31T14:28:45.075-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-31T14:28:45.088-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-31T14:28:45.167-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue to session
2025-03-31T14:28:45.168-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2025-03-31T14:28:45.176-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@59a6a709, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@125ce4b7, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@125ce4b7, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@125ce4b7, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-03-31T14:28:45.178-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@125ce4b7, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-03-31T14:28:45.179-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@3caf87e6
2025-03-31T14:28:45.181-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-03-31T14:28:45.183-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T14:28:45.212-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T14:28:45.214-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T14:28:45.215-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T14:28:45.215-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T14:28:45.216-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T14:28:45.216-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T14:28:45.216-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000021c81af9120@50d640dd, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2d86022e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@72f52a70, org.springframework.security.web.context.SecurityContextHolderFilter@6fa741b5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@71c31fdd, org.springframework.security.web.header.HeaderWriterFilter@77431f12, org.springframework.security.web.csrf.CsrfFilter@c940eab, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7226747d, org.springframework.security.web.authentication.logout.LogoutFilter@102a1a4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@7b80cc47, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@2f57fc23, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@14fda568, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2c6c67e0, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@7cfe97db, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@396d630, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7548d0d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@530daa7e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7aeb4c8a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@422ecb83, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75855f4e, org.springframework.security.web.access.ExceptionTranslationFilter@65c58330, org.springframework.security.web.access.intercept.AuthorizationFilter@50f77992, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7ffe0471, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@244cdad1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@2de08488, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@1172d47, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@8c41677]] (7/8)
2025-03-31T14:28:45.217-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@68bd17ae, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ab0999, org.springframework.security.web.context.SecurityContextHolderFilter@611b2857, org.springframework.security.web.header.HeaderWriterFilter@6ec73d87, org.springframework.security.web.authentication.logout.LogoutFilter@116cad39, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@ac94285, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7e9ffdff, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5aca000e, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@433dd165, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@7fb02869, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@11d823a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@74575124, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c8a0b85, org.springframework.security.web.access.ExceptionTranslationFilter@b303504, org.springframework.security.web.access.intercept.AuthorizationFilter@480a5088]] (8/8)
2025-03-31T14:28:45.218-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-03-31T14:28:45.218-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T14:28:45.219-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T14:28:45.220-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T14:28:45.221-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T14:28:45.222-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T14:28:45.222-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T14:28:45.223-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T14:28:45.224-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T14:28:45.225-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T14:28:45.226-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T14:28:45.227-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T14:28:45.227-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T14:28:45.228-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T14:28:45.228-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T14:28:45.228-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 19C139181DBA1B41BC124B58459305A8 using the SPRING_SECURITY_CONTEXT session attribute
2025-03-31T14:28:45.229-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T14:28:45.229-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T14:28:45.230-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T14:28:45.230-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T14:28:45.230-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T14:28:45.230-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T14:28:45.231-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T14:28:45.231-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T14:28:45.232-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-03-31T14:28:45.234-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000021c81af9770@e065c59
2025-03-31T14:28:45.240-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-03-31T14:28:45.247-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-03-31T14:28:45.252-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-03-31T14:28:46.104-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T14:28:46.110-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-31T14:28:46.111-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=19C139181DBA1B41BC124B58459305A8], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-31T14:28:50.817-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T14:28:50.818-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T14:28:50.818-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T14:28:50.818-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T14:28:50.819-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T14:28:50.819-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T14:28:50.819-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000021c81af9120@50d640dd, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2d86022e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@72f52a70, org.springframework.security.web.context.SecurityContextHolderFilter@6fa741b5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@71c31fdd, org.springframework.security.web.header.HeaderWriterFilter@77431f12, org.springframework.security.web.csrf.CsrfFilter@c940eab, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7226747d, org.springframework.security.web.authentication.logout.LogoutFilter@102a1a4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@7b80cc47, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@2f57fc23, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@14fda568, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2c6c67e0, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@7cfe97db, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@396d630, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7548d0d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@530daa7e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7aeb4c8a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@422ecb83, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75855f4e, org.springframework.security.web.access.ExceptionTranslationFilter@65c58330, org.springframework.security.web.access.intercept.AuthorizationFilter@50f77992, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7ffe0471, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@244cdad1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@2de08488, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@1172d47, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@8c41677]] (7/8)
2025-03-31T14:28:50.821-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@68bd17ae, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ab0999, org.springframework.security.web.context.SecurityContextHolderFilter@611b2857, org.springframework.security.web.header.HeaderWriterFilter@6ec73d87, org.springframework.security.web.authentication.logout.LogoutFilter@116cad39, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@ac94285, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7e9ffdff, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5aca000e, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@433dd165, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@7fb02869, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@11d823a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@74575124, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c8a0b85, org.springframework.security.web.access.ExceptionTranslationFilter@b303504, org.springframework.security.web.access.intercept.AuthorizationFilter@480a5088]] (8/8)
2025-03-31T14:28:50.822-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-03-31T14:28:50.822-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T14:28:50.824-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T14:28:50.825-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T14:28:50.825-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T14:28:50.825-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T14:28:50.825-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T14:28:50.825-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T14:28:50.825-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T14:28:50.826-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T14:28:50.826-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T14:28:50.828-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-03-31T14:28:51.080-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-5] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-03-31T14:28:51.080-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 19C139181DBA1B41BC124B58459305A8
2025-03-31T14:28:51.081-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=io.github.cursosb.libraryapi.security.CustomAuthentication@7edeb72] to HttpSession [org.apache.catalina.session.StandardSessionFacade@18d98355]
2025-03-31T14:28:51.082-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to io.github.cursosb.libraryapi.security.CustomAuthentication@7edeb72
2025-03-31T14:28:51.085-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2025-03-31T14:28:51.086-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T14:28:51.105-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T14:28:51.109-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T14:28:51.109-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T14:28:51.109-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T14:28:51.110-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T14:28:51.110-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T14:28:51.110-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000021c81af9120@50d640dd, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2d86022e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@72f52a70, org.springframework.security.web.context.SecurityContextHolderFilter@6fa741b5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@71c31fdd, org.springframework.security.web.header.HeaderWriterFilter@77431f12, org.springframework.security.web.csrf.CsrfFilter@c940eab, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7226747d, org.springframework.security.web.authentication.logout.LogoutFilter@102a1a4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@7b80cc47, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@2f57fc23, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@14fda568, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2c6c67e0, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@7cfe97db, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@396d630, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7548d0d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@530daa7e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7aeb4c8a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@422ecb83, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75855f4e, org.springframework.security.web.access.ExceptionTranslationFilter@65c58330, org.springframework.security.web.access.intercept.AuthorizationFilter@50f77992, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7ffe0471, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@244cdad1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@2de08488, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@1172d47, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@8c41677]] (7/8)
2025-03-31T14:28:51.111-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2025-03-31T14:28:51.111-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-31T14:28:51.111-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-31T14:28:51.112-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-31T14:28:51.112-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-31T14:28:51.115-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-31T14:28:51.116-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-31T14:28:51.117-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000021c81af9120@50d640dd, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@59a6a709]]]
2025-03-31T14:28:51.117-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-31T14:28:51.117-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-31T14:28:51.117-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-31T14:28:51.118-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-31T14:28:51.118-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-31T14:28:51.118-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=io.github.cursosb.libraryapi.security.CustomAuthentication@7edeb72] from SPRING_SECURITY_CONTEXT
2025-03-31T14:28:51.119-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-31T14:28:51.128-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-31T14:28:51.129-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-31T14:28:51.166-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-03-31T14:28:51.168-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Saved authorization
2025-03-31T14:28:51.169-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-03-31T14:28:51.171-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/authorized?code=16K9NkUCvthEHDW19qSv721M8iALZoBCazBKC3vvHYiQnpJGY7lBS7lbuuiVhmmUYdolGglJY3K-bYwJZjscpgDWOeKkw27Ohv1RzMPYkXyO7-oJZVZNeTu3aeex4K1f
2025-03-31T14:28:51.174-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T14:28:51.751-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T14:28:51.751-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T14:28:51.751-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T14:28:51.752-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T14:28:51.752-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T14:28:51.752-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T14:28:51.753-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000021c81af9120@50d640dd, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2d86022e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@72f52a70, org.springframework.security.web.context.SecurityContextHolderFilter@6fa741b5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@71c31fdd, org.springframework.security.web.header.HeaderWriterFilter@77431f12, org.springframework.security.web.csrf.CsrfFilter@c940eab, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7226747d, org.springframework.security.web.authentication.logout.LogoutFilter@102a1a4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@7b80cc47, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@2f57fc23, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@14fda568, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2c6c67e0, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@7cfe97db, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@396d630, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7548d0d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@530daa7e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7aeb4c8a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@422ecb83, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75855f4e, org.springframework.security.web.access.ExceptionTranslationFilter@65c58330, org.springframework.security.web.access.intercept.AuthorizationFilter@50f77992, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7ffe0471, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@244cdad1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@2de08488, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@1172d47, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@8c41677]] (7/8)
2025-03-31T14:28:51.753-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-03-31T14:28:51.753-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-31T14:28:51.754-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-31T14:28:51.755-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-31T14:28:51.755-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-31T14:28:51.756-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-31T14:28:51.757-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-31T14:28:51.757-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000021c81af9120@50d640dd, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@59a6a709]]]
2025-03-31T14:28:51.758-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-31T14:28:51.758-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-31T14:28:51.758-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-31T14:28:51.759-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-31T14:28:51.759-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-31T14:28:51.759-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-03-31T14:28:51.759-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-03-31T14:28:51.760-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-03-31T14:28:51.760-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-03-31T14:28:51.765-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-03-31T14:28:51.766-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-03-31T14:28:51.766-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-03-31T14:28:51.773-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-03-31T14:28:51.996-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-03-31T14:28:51.997-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Retrieved authorization with authorization code
2025-03-31T14:28:51.998-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Did not authenticate code verifier since requireProofKey=false
2025-03-31T14:28:51.998-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-03-31T14:28:52.000-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2025-03-31T14:28:52.001-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-03-31T14:28:52.001-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T14:28:52.001-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-03-31T14:28:52.002-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T14:28:52.003-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-03-31T14:28:52.003-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T14:28:52.003-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-03-31T14:28:52.004-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-03-31T14:28:52.005-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-03-31T14:28:52.008-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-03-31T14:28:52.009-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-03-31T14:28:52.011-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@4c265a6e
2025-03-31T14:28:52.012-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=meu-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-31T14:28:52.014-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (22/26)
2025-03-31T14:28:52.018-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeAuthenticationProvider (1/20)
2025-03-31T14:28:52.020-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Retrieved registered client
2025-03-31T14:28:52.020-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Retrieved authorization with authorization code
2025-03-31T14:28:52.021-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Validated token request parameters
2025-03-31T14:28:52.228-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Generated access token
2025-03-31T14:28:52.231-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Generated refresh token
2025-03-31T14:28:52.233-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Saved authorization
2025-03-31T14:28:52.233-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Authenticated token request
2025-03-31T14:28:52.324-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T14:29:31.208-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T14:29:31.209-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T14:29:31.209-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T14:29:31.209-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T14:29:31.209-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T14:29:31.209-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T14:29:31.209-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000021c81af9120@50d640dd, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2d86022e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@72f52a70, org.springframework.security.web.context.SecurityContextHolderFilter@6fa741b5, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@71c31fdd, org.springframework.security.web.header.HeaderWriterFilter@77431f12, org.springframework.security.web.csrf.CsrfFilter@c940eab, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@7226747d, org.springframework.security.web.authentication.logout.LogoutFilter@102a1a4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@7b80cc47, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@2f57fc23, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@14fda568, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2c6c67e0, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@7cfe97db, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@396d630, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7548d0d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@530daa7e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7aeb4c8a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@422ecb83, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75855f4e, org.springframework.security.web.access.ExceptionTranslationFilter@65c58330, org.springframework.security.web.access.intercept.AuthorizationFilter@50f77992, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7ffe0471, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@244cdad1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@2de08488, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@1172d47, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@8c41677]] (7/8)
2025-03-31T14:29:31.209-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@68bd17ae, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ab0999, org.springframework.security.web.context.SecurityContextHolderFilter@611b2857, org.springframework.security.web.header.HeaderWriterFilter@6ec73d87, org.springframework.security.web.authentication.logout.LogoutFilter@116cad39, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@ac94285, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7e9ffdff, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5aca000e, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@433dd165, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@7fb02869, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@11d823a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@74575124, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c8a0b85, org.springframework.security.web.access.ExceptionTranslationFilter@b303504, org.springframework.security.web.access.intercept.AuthorizationFilter@480a5088]] (8/8)
2025-03-31T14:29:31.209-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /clients
2025-03-31T14:29:31.210-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T14:29:31.210-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T14:29:31.211-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T14:29:31.212-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T14:29:31.213-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T14:29:31.213-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T14:29:31.213-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T14:29:31.213-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T14:29:31.213-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T14:29:31.214-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T14:29:31.214-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T14:29:31.214-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T14:29:31.215-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-03-31T14:29:31.228-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Returning no authorities since could not find any claims that might contain scopes
2025-03-31T14:29:31.229-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-03-31T14:29:31.229-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3a2c6256, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-31T14:29:31.229-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T14:29:31.233-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T14:29:31.233-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T14:29:31.233-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T14:29:31.233-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T14:29:31.233-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T14:29:31.233-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T14:29:31.234-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing POST /clients
2025-03-31T14:29:31.234-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /clients using org.springframework.security.authorization.AuthenticatedAuthorizationManager@8088d9a
2025-03-31T14:29:31.234-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated io.github.cursosb.libraryapi.security.CustomAuthentication@2361ff3a
2025-03-31T14:29:31.235-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /clients
2025-03-31T14:29:31.235-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/clients", parameters={}
2025-03-31T14:29:31.235-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to io.github.cursosb.libraryapi.controller.ClientController#salvar(ClientDTO)
2025-03-31T14:29:31.358-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ClientDTO[clientId=gabriel-client, clientSecret=gabriel-secret, redirectURI=http://localhost:8080/au (truncated)...]
2025-03-31T14:29:31.409-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public void io.github.cursosb.libraryapi.controller.ClientController.salvar(io.github.cursosb.libraryapi.controller.dto.ClientDTO); target is of class [io.github.cursosb.libraryapi.controller.ClientController]
2025-03-31T14:29:31.427-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public void io.github.cursosb.libraryapi.controller.ClientController.salvar(io.github.cursosb.libraryapi.controller.dto.ClientDTO); target is of class [io.github.cursosb.libraryapi.controller.ClientController]
2025-03-31T14:29:31.427-03:00  INFO 11988 --- [libraryapi] [http-nio-8080-exec-8] i.g.c.l.controller.ClientController      : Registrando um novo Client: gabriel-client, com scope: GERENTE
2025-03-31T14:29:31.571-03:00 DEBUG 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-03-31T14:29:31.572-03:00 TRACE 11988 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T14:37:15.556-03:00  INFO 3372 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 3372 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T14:37:15.558-03:00 DEBUG 3372 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T14:37:15.559-03:00  INFO 3372 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T14:37:22.365-03:00 DEBUG 3372 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-31T14:37:22.367-03:00 DEBUG 3372 --- [libraryapi] [main] i.g.c.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-31T14:37:23.593-03:00  WARN 3372 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-31T14:37:23.656-03:00 TRACE 3372 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfiguration=io.github.cursosb.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@4a1cafb2}
2025-03-31T14:37:23.660-03:00  INFO 3372 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-31T14:37:24.286-03:00 DEBUG 3372 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000025cceadfa90@4a05902b with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-31T14:37:24.485-03:00 DEBUG 3372 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-31T14:37:24.507-03:00 DEBUG 3372 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-31T14:37:24.542-03:00 DEBUG 3372 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-31T14:37:24.810-03:00 DEBUG 3372 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-31T14:37:24.824-03:00  WARN 3372 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:37:24.824-03:00 DEBUG 3372 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-31T14:37:24.825-03:00  WARN 3372 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:37:24.825-03:00 DEBUG 3372 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-31T14:37:24.825-03:00  WARN 3372 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:37:24.825-03:00 DEBUG 3372 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-31T14:37:24.825-03:00  WARN 3372 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:37:24.826-03:00 DEBUG 3372 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-31T14:37:24.826-03:00  WARN 3372 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:37:24.826-03:00 DEBUG 3372 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-31T14:37:24.826-03:00  WARN 3372 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:37:24.826-03:00 DEBUG 3372 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-31T14:37:24.912-03:00 DEBUG 3372 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-31T14:37:24.963-03:00 DEBUG 3372 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-31T14:37:25.764-03:00  INFO 3372 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 10.745 seconds (process running for 11.251)
2025-03-31T14:38:07.312-03:00  INFO 4804 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 4804 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T14:38:07.314-03:00 DEBUG 4804 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T14:38:07.315-03:00  INFO 4804 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T14:38:13.990-03:00 DEBUG 4804 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-31T14:38:13.993-03:00 DEBUG 4804 --- [libraryapi] [main] i.g.c.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-31T14:38:15.325-03:00  WARN 4804 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-31T14:38:15.492-03:00 TRACE 4804 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfiguration=io.github.cursosb.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@608448e7}
2025-03-31T14:38:15.497-03:00  INFO 4804 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-31T14:38:16.347-03:00 DEBUG 4804 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020601afb9c8@5543800c with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-31T14:38:16.482-03:00 DEBUG 4804 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-31T14:38:16.506-03:00 DEBUG 4804 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-31T14:38:16.578-03:00 DEBUG 4804 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-31T14:38:16.861-03:00 DEBUG 4804 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-31T14:38:16.876-03:00  WARN 4804 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:38:16.877-03:00 DEBUG 4804 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-31T14:38:16.877-03:00  WARN 4804 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:38:16.877-03:00 DEBUG 4804 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-31T14:38:16.877-03:00  WARN 4804 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:38:16.877-03:00 DEBUG 4804 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-31T14:38:16.877-03:00  WARN 4804 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:38:16.877-03:00 DEBUG 4804 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-31T14:38:16.877-03:00  WARN 4804 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:38:16.877-03:00 DEBUG 4804 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-31T14:38:16.878-03:00  WARN 4804 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:38:16.879-03:00 DEBUG 4804 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-31T14:38:16.983-03:00 DEBUG 4804 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-31T14:38:17.032-03:00 DEBUG 4804 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-31T14:38:17.701-03:00  WARN 4804 --- [libraryapi] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-03-31T14:38:17.780-03:00 ERROR 4804 --- [libraryapi] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-03-31T14:40:05.938-03:00  INFO 5900 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 5900 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T14:40:05.940-03:00 DEBUG 5900 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T14:40:05.940-03:00  INFO 5900 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T14:40:11.674-03:00 DEBUG 5900 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-31T14:40:11.677-03:00 DEBUG 5900 --- [libraryapi] [main] i.g.c.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-31T14:40:12.713-03:00  WARN 5900 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-31T14:40:12.771-03:00 TRACE 5900 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfiguration=io.github.cursosb.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@2eb27091}
2025-03-31T14:40:12.774-03:00  INFO 5900 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-31T14:40:13.523-03:00 DEBUG 5900 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027c02aff468@19a4c648 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-31T14:40:13.667-03:00 DEBUG 5900 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-31T14:40:13.694-03:00 DEBUG 5900 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-31T14:40:13.730-03:00 DEBUG 5900 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-31T14:40:13.977-03:00 DEBUG 5900 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-31T14:40:13.992-03:00  WARN 5900 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:40:13.993-03:00 DEBUG 5900 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-31T14:40:13.993-03:00  WARN 5900 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:40:13.993-03:00 DEBUG 5900 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-31T14:40:13.993-03:00  WARN 5900 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:40:13.994-03:00 DEBUG 5900 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-31T14:40:13.994-03:00  WARN 5900 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:40:13.994-03:00 DEBUG 5900 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-31T14:40:13.994-03:00  WARN 5900 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:40:13.994-03:00 DEBUG 5900 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-31T14:40:13.994-03:00  WARN 5900 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:40:13.994-03:00 DEBUG 5900 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-31T14:40:14.089-03:00 DEBUG 5900 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-31T14:40:14.135-03:00 DEBUG 5900 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-31T14:40:14.877-03:00  INFO 5900 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 9.448 seconds (process running for 9.88)
2025-03-31T14:42:42.696-03:00  INFO 17880 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 17880 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T14:42:42.698-03:00 DEBUG 17880 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T14:42:42.699-03:00  INFO 17880 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T14:42:49.025-03:00 DEBUG 17880 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-31T14:42:49.028-03:00 DEBUG 17880 --- [libraryapi] [main] i.g.c.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-31T14:42:50.465-03:00  WARN 17880 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-31T14:42:50.524-03:00 TRACE 17880 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfiguration=io.github.cursosb.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@b42d1c8}
2025-03-31T14:42:50.527-03:00  INFO 17880 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-31T14:42:51.371-03:00 DEBUG 17880 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001cb81afa240@76656a25 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-31T14:42:51.491-03:00 DEBUG 17880 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-31T14:42:51.519-03:00 DEBUG 17880 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-31T14:42:51.559-03:00 DEBUG 17880 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-31T14:42:51.832-03:00 DEBUG 17880 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-31T14:42:51.854-03:00  WARN 17880 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:42:51.855-03:00 DEBUG 17880 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-31T14:42:51.855-03:00  WARN 17880 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:42:51.855-03:00 DEBUG 17880 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-31T14:42:51.856-03:00  WARN 17880 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:42:51.856-03:00 DEBUG 17880 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-31T14:42:51.856-03:00  WARN 17880 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:42:51.857-03:00 DEBUG 17880 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-31T14:42:51.857-03:00  WARN 17880 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:42:51.857-03:00 DEBUG 17880 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-31T14:42:51.857-03:00  WARN 17880 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:42:51.857-03:00 DEBUG 17880 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-31T14:42:51.976-03:00 DEBUG 17880 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-31T14:42:52.028-03:00 DEBUG 17880 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-31T14:42:52.662-03:00  WARN 17880 --- [libraryapi] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-03-31T14:42:52.729-03:00 ERROR 17880 --- [libraryapi] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-03-31T14:43:11.137-03:00  INFO 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-31T14:43:11.138-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-31T14:43:11.138-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-31T14:43:11.139-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-31T14:43:11.142-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@26b37ec
2025-03-31T14:43:11.144-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2a6e710e
2025-03-31T14:43:11.145-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-31T14:43:11.146-03:00  INFO 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2025-03-31T14:43:11.218-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T14:43:11.222-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T14:43:11.223-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T14:43:11.224-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T14:43:11.225-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T14:43:11.226-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T14:43:11.226-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027c02aff468@19a4c648, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5777c48, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2004171c, org.springframework.security.web.context.SecurityContextHolderFilter@13d63185, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7c0abd1, org.springframework.security.web.header.HeaderWriterFilter@157affc1, org.springframework.security.web.csrf.CsrfFilter@20a5bf0e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@323ebcc6, org.springframework.security.web.authentication.logout.LogoutFilter@3484b8db, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@749635e9, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@2c6c67e0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@791bdaff, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2af87d7a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@4af2f2ae, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4a05902b, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3f706310, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59053522, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50f77992, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c312ab7, org.springframework.security.web.access.ExceptionTranslationFilter@7b48451b, org.springframework.security.web.access.intercept.AuthorizationFilter@58b8ee01, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7d0e5fbb, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@46179420, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@511d31a6, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7d99846f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@12a16e42]] (7/8)
2025-03-31T14:43:11.229-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-31T14:43:11.234-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-31T14:43:11.245-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-31T14:43:11.252-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-31T14:43:11.257-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-31T14:43:11.278-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-31T14:43:11.283-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-31T14:43:11.287-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027c02aff468@19a4c648, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@6fa1dc0c]]]
2025-03-31T14:43:11.289-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-31T14:43:11.290-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-31T14:43:11.290-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-31T14:43:11.290-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-31T14:43:11.291-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-31T14:43:11.299-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-03-31T14:43:11.299-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T14:43:11.300-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T14:43:11.306-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-31T14:43:11.789-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-31T14:43:11.794-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-31T14:43:11.795-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-03-31T14:43:11.800-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-03-31T14:43:11.801-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-03-31T14:43:11.802-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-03-31T14:43:11.804-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-03-31T14:43:11.805-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-03-31T14:43:11.806-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T14:43:11.806-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-03-31T14:43:11.807-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T14:43:11.808-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-03-31T14:43:11.809-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T14:43:11.809-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-03-31T14:43:11.814-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-03-31T14:43:11.816-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-03-31T14:43:11.817-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-03-31T14:43:11.821-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-31T14:43:11.823-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3c1d804b
2025-03-31T14:43:11.825-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-31T14:43:11.839-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-31T14:43:11.920-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue to session
2025-03-31T14:43:11.921-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2025-03-31T14:43:11.929-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@6fa1dc0c, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4d47f547, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4d47f547, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4d47f547, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-03-31T14:43:11.931-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@4d47f547, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-03-31T14:43:11.933-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@6a4c9d1b
2025-03-31T14:43:11.936-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-03-31T14:43:11.938-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T14:43:11.964-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T14:43:11.966-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T14:43:11.967-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T14:43:11.967-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T14:43:11.967-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T14:43:11.968-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T14:43:11.969-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027c02aff468@19a4c648, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5777c48, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2004171c, org.springframework.security.web.context.SecurityContextHolderFilter@13d63185, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7c0abd1, org.springframework.security.web.header.HeaderWriterFilter@157affc1, org.springframework.security.web.csrf.CsrfFilter@20a5bf0e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@323ebcc6, org.springframework.security.web.authentication.logout.LogoutFilter@3484b8db, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@749635e9, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@2c6c67e0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@791bdaff, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2af87d7a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@4af2f2ae, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4a05902b, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3f706310, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59053522, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50f77992, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c312ab7, org.springframework.security.web.access.ExceptionTranslationFilter@7b48451b, org.springframework.security.web.access.intercept.AuthorizationFilter@58b8ee01, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7d0e5fbb, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@46179420, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@511d31a6, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7d99846f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@12a16e42]] (7/8)
2025-03-31T14:43:11.970-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@77de042e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73b0498b, org.springframework.security.web.context.SecurityContextHolderFilter@76aef382, org.springframework.security.web.header.HeaderWriterFilter@406794af, org.springframework.security.web.authentication.logout.LogoutFilter@65cae15a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@304c8f39, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@79948bcf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@714f3e27, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@703e8fe8, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@6def1699, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ac94285, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@384abf00, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f53994, org.springframework.security.web.access.ExceptionTranslationFilter@50c40f8f, org.springframework.security.web.access.intercept.AuthorizationFilter@27a18433]] (8/8)
2025-03-31T14:43:11.970-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-03-31T14:43:11.971-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T14:43:11.972-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T14:43:11.973-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T14:43:11.974-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T14:43:11.974-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T14:43:11.974-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T14:43:11.975-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T14:43:11.976-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T14:43:11.976-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T14:43:11.977-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T14:43:11.977-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T14:43:11.978-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T14:43:11.979-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T14:43:11.979-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T14:43:11.980-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 397540B77D54492781053DF0D337FB74 using the SPRING_SECURITY_CONTEXT session attribute
2025-03-31T14:43:11.981-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T14:43:11.981-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T14:43:11.981-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T14:43:11.982-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T14:43:11.982-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T14:43:11.983-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T14:43:11.983-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T14:43:11.984-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T14:43:11.985-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-03-31T14:43:11.988-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000027c02affab8@613f5022
2025-03-31T14:43:11.995-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-03-31T14:43:12.003-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-03-31T14:43:12.007-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-03-31T14:43:12.838-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T14:43:12.845-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-31T14:43:12.847-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=397540B77D54492781053DF0D337FB74], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-31T14:43:18.105-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T14:43:18.108-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T14:43:18.108-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T14:43:18.108-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T14:43:18.109-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T14:43:18.109-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T14:43:18.110-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027c02aff468@19a4c648, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5777c48, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2004171c, org.springframework.security.web.context.SecurityContextHolderFilter@13d63185, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7c0abd1, org.springframework.security.web.header.HeaderWriterFilter@157affc1, org.springframework.security.web.csrf.CsrfFilter@20a5bf0e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@323ebcc6, org.springframework.security.web.authentication.logout.LogoutFilter@3484b8db, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@749635e9, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@2c6c67e0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@791bdaff, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2af87d7a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@4af2f2ae, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4a05902b, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3f706310, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59053522, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50f77992, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c312ab7, org.springframework.security.web.access.ExceptionTranslationFilter@7b48451b, org.springframework.security.web.access.intercept.AuthorizationFilter@58b8ee01, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7d0e5fbb, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@46179420, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@511d31a6, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7d99846f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@12a16e42]] (7/8)
2025-03-31T14:43:18.111-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@77de042e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73b0498b, org.springframework.security.web.context.SecurityContextHolderFilter@76aef382, org.springframework.security.web.header.HeaderWriterFilter@406794af, org.springframework.security.web.authentication.logout.LogoutFilter@65cae15a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@304c8f39, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@79948bcf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@714f3e27, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@703e8fe8, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@6def1699, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ac94285, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@384abf00, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f53994, org.springframework.security.web.access.ExceptionTranslationFilter@50c40f8f, org.springframework.security.web.access.intercept.AuthorizationFilter@27a18433]] (8/8)
2025-03-31T14:43:18.113-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-03-31T14:43:18.114-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T14:43:18.115-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T14:43:18.115-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T14:43:18.115-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T14:43:18.115-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T14:43:18.116-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T14:43:18.116-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T14:43:18.116-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T14:43:18.116-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T14:43:18.116-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T14:43:18.118-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-03-31T14:43:18.396-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-5] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-03-31T14:43:18.397-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 397540B77D54492781053DF0D337FB74
2025-03-31T14:43:18.398-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=io.github.cursosb.libraryapi.security.CustomAuthentication@5b476a0a] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1bd900fb]
2025-03-31T14:43:18.399-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to io.github.cursosb.libraryapi.security.CustomAuthentication@5b476a0a
2025-03-31T14:43:18.400-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2025-03-31T14:43:18.401-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T14:43:18.424-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T14:43:18.425-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T14:43:18.426-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T14:43:18.426-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T14:43:18.426-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T14:43:18.426-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T14:43:18.427-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027c02aff468@19a4c648, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5777c48, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2004171c, org.springframework.security.web.context.SecurityContextHolderFilter@13d63185, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7c0abd1, org.springframework.security.web.header.HeaderWriterFilter@157affc1, org.springframework.security.web.csrf.CsrfFilter@20a5bf0e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@323ebcc6, org.springframework.security.web.authentication.logout.LogoutFilter@3484b8db, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@749635e9, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@2c6c67e0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@791bdaff, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2af87d7a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@4af2f2ae, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4a05902b, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3f706310, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59053522, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50f77992, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c312ab7, org.springframework.security.web.access.ExceptionTranslationFilter@7b48451b, org.springframework.security.web.access.intercept.AuthorizationFilter@58b8ee01, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7d0e5fbb, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@46179420, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@511d31a6, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7d99846f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@12a16e42]] (7/8)
2025-03-31T14:43:18.427-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2025-03-31T14:43:18.428-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-31T14:43:18.428-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-31T14:43:18.429-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-31T14:43:18.429-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-31T14:43:18.430-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-31T14:43:18.432-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-31T14:43:18.433-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027c02aff468@19a4c648, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@6fa1dc0c]]]
2025-03-31T14:43:18.433-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-31T14:43:18.434-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-31T14:43:18.434-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-31T14:43:18.434-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-31T14:43:18.434-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-31T14:43:18.435-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=io.github.cursosb.libraryapi.security.CustomAuthentication@5b476a0a] from SPRING_SECURITY_CONTEXT
2025-03-31T14:43:18.436-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-31T14:43:18.441-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-31T14:43:18.442-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-31T14:43:18.467-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-03-31T14:43:18.468-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Saved authorization
2025-03-31T14:43:18.468-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-03-31T14:43:18.470-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/authorized?code=L-BiydVcpUNbrKYs440NEk8bk-Ei92jJh6vYZ0wX-6tyJ8m8WETXTrKxEfqqCvCSVJts6wL7gs9TOtbzNK5Qp3HhhGiFGpnwBXoDEsVn-qwdKaJRZJkIhI8D85zrF32a
2025-03-31T14:43:18.471-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T14:43:18.945-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T14:43:18.946-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T14:43:18.946-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T14:43:18.947-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T14:43:18.947-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T14:43:18.947-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T14:43:18.948-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027c02aff468@19a4c648, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5777c48, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2004171c, org.springframework.security.web.context.SecurityContextHolderFilter@13d63185, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7c0abd1, org.springframework.security.web.header.HeaderWriterFilter@157affc1, org.springframework.security.web.csrf.CsrfFilter@20a5bf0e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@323ebcc6, org.springframework.security.web.authentication.logout.LogoutFilter@3484b8db, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@749635e9, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@2c6c67e0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@791bdaff, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2af87d7a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@4af2f2ae, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4a05902b, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3f706310, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59053522, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50f77992, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c312ab7, org.springframework.security.web.access.ExceptionTranslationFilter@7b48451b, org.springframework.security.web.access.intercept.AuthorizationFilter@58b8ee01, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7d0e5fbb, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@46179420, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@511d31a6, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7d99846f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@12a16e42]] (7/8)
2025-03-31T14:43:18.949-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-03-31T14:43:18.950-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-31T14:43:18.951-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-31T14:43:18.952-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-31T14:43:18.952-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-31T14:43:18.953-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-31T14:43:18.953-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-31T14:43:18.954-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027c02aff468@19a4c648, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@6fa1dc0c]]]
2025-03-31T14:43:18.954-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-31T14:43:18.955-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-31T14:43:18.955-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-31T14:43:18.955-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-31T14:43:18.955-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-31T14:43:18.956-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-03-31T14:43:18.956-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-03-31T14:43:18.957-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-03-31T14:43:18.957-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-03-31T14:43:18.961-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-03-31T14:43:18.962-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-03-31T14:43:18.962-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-03-31T14:43:18.970-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-03-31T14:43:19.191-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-03-31T14:43:19.191-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Retrieved authorization with authorization code
2025-03-31T14:43:19.192-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Did not authenticate code verifier since requireProofKey=false
2025-03-31T14:43:19.192-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-03-31T14:43:19.193-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2025-03-31T14:43:19.194-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-03-31T14:43:19.194-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T14:43:19.194-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-03-31T14:43:19.195-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T14:43:19.195-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-03-31T14:43:19.195-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T14:43:19.196-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-03-31T14:43:19.196-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-03-31T14:43:19.196-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-03-31T14:43:19.197-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-03-31T14:43:19.198-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-03-31T14:43:19.198-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3c1d804b
2025-03-31T14:43:19.199-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=meu-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-31T14:43:19.200-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (22/26)
2025-03-31T14:43:19.204-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeAuthenticationProvider (1/20)
2025-03-31T14:43:19.205-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Retrieved registered client
2025-03-31T14:43:19.206-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Retrieved authorization with authorization code
2025-03-31T14:43:19.206-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Validated token request parameters
2025-03-31T14:43:19.427-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Generated access token
2025-03-31T14:43:19.432-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Generated refresh token
2025-03-31T14:43:19.434-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Saved authorization
2025-03-31T14:43:19.434-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Authenticated token request
2025-03-31T14:43:19.527-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T14:43:49.743-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T14:43:49.744-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T14:43:49.744-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T14:43:49.744-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T14:43:49.744-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T14:43:49.744-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T14:43:49.744-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027c02aff468@19a4c648, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5777c48, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2004171c, org.springframework.security.web.context.SecurityContextHolderFilter@13d63185, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7c0abd1, org.springframework.security.web.header.HeaderWriterFilter@157affc1, org.springframework.security.web.csrf.CsrfFilter@20a5bf0e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@323ebcc6, org.springframework.security.web.authentication.logout.LogoutFilter@3484b8db, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@749635e9, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@2c6c67e0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@791bdaff, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2af87d7a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@4af2f2ae, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4a05902b, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3f706310, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59053522, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50f77992, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c312ab7, org.springframework.security.web.access.ExceptionTranslationFilter@7b48451b, org.springframework.security.web.access.intercept.AuthorizationFilter@58b8ee01, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7d0e5fbb, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@46179420, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@511d31a6, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7d99846f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@12a16e42]] (7/8)
2025-03-31T14:43:49.744-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@77de042e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73b0498b, org.springframework.security.web.context.SecurityContextHolderFilter@76aef382, org.springframework.security.web.header.HeaderWriterFilter@406794af, org.springframework.security.web.authentication.logout.LogoutFilter@65cae15a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@304c8f39, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@79948bcf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@714f3e27, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@703e8fe8, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@6def1699, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ac94285, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@384abf00, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f53994, org.springframework.security.web.access.ExceptionTranslationFilter@50c40f8f, org.springframework.security.web.access.intercept.AuthorizationFilter@27a18433]] (8/8)
2025-03-31T14:43:49.744-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /livros
2025-03-31T14:43:49.745-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T14:43:49.746-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T14:43:49.746-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T14:43:49.746-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T14:43:49.747-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T14:43:49.747-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T14:43:49.748-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T14:43:49.749-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T14:43:49.750-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T14:43:49.750-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T14:43:49.750-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T14:43:49.751-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T14:43:49.752-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-03-31T14:43:49.773-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Returning no authorities since could not find any claims that might contain scopes
2025-03-31T14:43:49.773-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-03-31T14:43:49.774-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@fb811612, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-31T14:43:49.775-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T14:43:49.782-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T14:43:49.782-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T14:43:49.782-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T14:43:49.782-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T14:43:49.782-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T14:43:49.782-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T14:43:49.783-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing POST /livros
2025-03-31T14:43:49.784-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /livros using org.springframework.security.authorization.AuthenticatedAuthorizationManager@671cf2c7
2025-03-31T14:43:49.784-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated io.github.cursosb.libraryapi.security.CustomAuthentication@7fd7efe6
2025-03-31T14:43:49.785-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /livros
2025-03-31T14:43:49.786-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/livros", parameters={}
2025-03-31T14:43:49.786-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to io.github.cursosb.libraryapi.controller.LivroController#salvar(CadastroLivroDTO)
2025-03-31T14:43:50.047-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CadastroLivroDTO[isbn=978-85-4650-157-1, titulo=Wagner Moura: Do Teatro ao Cinema Internacional, dat (truncated)...]
2025-03-31T14:43:50.171-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity io.github.cursosb.libraryapi.controller.LivroController.salvar(io.github.cursosb.libraryapi.controller.dto.CadastroLivroDTO); target is of class [io.github.cursosb.libraryapi.controller.LivroController]
2025-03-31T14:43:50.199-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity io.github.cursosb.libraryapi.controller.LivroController.salvar(io.github.cursosb.libraryapi.controller.dto.CadastroLivroDTO); target is of class [io.github.cursosb.libraryapi.controller.LivroController]
2025-03-31T14:43:50.320-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler io.github.cursosb.libraryapi.controller.common.GlobalExceptionHandler#handleRegistroDuplicadoException(RegistroDuplicadoException)
2025-03-31T14:43:50.345-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-31T14:43:50.352-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ErroResposta[status=409, mensagem=ISBN j cadastrado!, erros=[]]]
2025-03-31T14:43:50.359-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T14:43:50.361-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [io.github.cursosb.libraryapi.exceptions.RegistroDuplicadoException: ISBN j cadastrado!]
2025-03-31T14:43:50.364-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 409 CONFLICT
2025-03-31T14:44:05.968-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T14:44:05.968-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T14:44:05.968-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T14:44:05.968-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T14:44:05.968-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T14:44:05.968-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T14:44:05.968-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027c02aff468@19a4c648, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5777c48, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2004171c, org.springframework.security.web.context.SecurityContextHolderFilter@13d63185, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7c0abd1, org.springframework.security.web.header.HeaderWriterFilter@157affc1, org.springframework.security.web.csrf.CsrfFilter@20a5bf0e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@323ebcc6, org.springframework.security.web.authentication.logout.LogoutFilter@3484b8db, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@749635e9, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@2c6c67e0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@791bdaff, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2af87d7a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@4af2f2ae, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4a05902b, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3f706310, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59053522, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50f77992, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c312ab7, org.springframework.security.web.access.ExceptionTranslationFilter@7b48451b, org.springframework.security.web.access.intercept.AuthorizationFilter@58b8ee01, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7d0e5fbb, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@46179420, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@511d31a6, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7d99846f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@12a16e42]] (7/8)
2025-03-31T14:44:05.969-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@77de042e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73b0498b, org.springframework.security.web.context.SecurityContextHolderFilter@76aef382, org.springframework.security.web.header.HeaderWriterFilter@406794af, org.springframework.security.web.authentication.logout.LogoutFilter@65cae15a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@304c8f39, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@79948bcf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@714f3e27, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@703e8fe8, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@6def1699, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ac94285, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@384abf00, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f53994, org.springframework.security.web.access.ExceptionTranslationFilter@50c40f8f, org.springframework.security.web.access.intercept.AuthorizationFilter@27a18433]] (8/8)
2025-03-31T14:44:05.969-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /livros
2025-03-31T14:44:05.969-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T14:44:05.969-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T14:44:05.969-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T14:44:05.971-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T14:44:05.971-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T14:44:05.971-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T14:44:05.971-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T14:44:05.972-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T14:44:05.973-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T14:44:05.973-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T14:44:05.973-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T14:44:05.973-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T14:44:05.975-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-03-31T14:44:05.980-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Returning no authorities since could not find any claims that might contain scopes
2025-03-31T14:44:05.980-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-03-31T14:44:05.981-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@fb811612, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-31T14:44:05.981-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T14:44:05.989-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T14:44:05.989-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T14:44:05.990-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T14:44:05.990-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T14:44:05.990-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T14:44:05.991-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T14:44:05.991-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing POST /livros
2025-03-31T14:44:05.991-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /livros using org.springframework.security.authorization.AuthenticatedAuthorizationManager@671cf2c7
2025-03-31T14:44:05.992-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated io.github.cursosb.libraryapi.security.CustomAuthentication@2eadce2f
2025-03-31T14:44:05.993-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /livros
2025-03-31T14:44:05.993-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/livros", parameters={}
2025-03-31T14:44:05.994-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to io.github.cursosb.libraryapi.controller.LivroController#salvar(CadastroLivroDTO)
2025-03-31T14:44:05.998-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CadastroLivroDTO[isbn=, titulo=Wagner Moura: Do Teatro ao Cinema Internacional, dataPublicacao=2023- (truncated)...]
2025-03-31T14:44:06.070-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler io.github.cursosb.libraryapi.controller.common.GlobalExceptionHandler#handleMethodArgumentNotValidException(MethodArgumentNotValidException)
2025-03-31T14:44:06.072-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-31T14:44:06.077-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ErroResposta[status=422, mensagem=Erro de validao., erros=[ErroCampo[campo=isbn, erro=ISBN invlid (truncated)...]
2025-03-31T14:44:06.081-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T14:44:06.083-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> io.github.cursosb.libraryapi.controller.LivroController.salvar(io.github.cursosb.libraryapi.controller.dto.CadastroLivroDTO) with 2 errors: [Field error in object 'cadastroLivroDTO' on field 'isbn': rejected value []; codes [ISBN.cadastroLivroDTO.isbn,ISBN.isbn,ISBN.java.lang.String,ISBN]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [cadastroLivroDTO.isbn,isbn]; arguments []; default message [isbn],ISBN_13]; default message [ISBN invlido]] [Field error in object 'cadastroLivroDTO' on field 'isbn': rejected value []; codes [NotBlank.cadastroLivroDTO.isbn,NotBlank.isbn,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [cadastroLivroDTO.isbn,isbn]; arguments []; default message [isbn]]; default message [campo obrigatorio]] ]
2025-03-31T14:44:06.083-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 422 UNPROCESSABLE_ENTITY
2025-03-31T14:44:34.445-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T14:44:34.446-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T14:44:34.446-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T14:44:34.446-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T14:44:34.446-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T14:44:34.447-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T14:44:34.447-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027c02aff468@19a4c648, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5777c48, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2004171c, org.springframework.security.web.context.SecurityContextHolderFilter@13d63185, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7c0abd1, org.springframework.security.web.header.HeaderWriterFilter@157affc1, org.springframework.security.web.csrf.CsrfFilter@20a5bf0e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@323ebcc6, org.springframework.security.web.authentication.logout.LogoutFilter@3484b8db, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@749635e9, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@2c6c67e0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@791bdaff, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2af87d7a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@4af2f2ae, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4a05902b, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3f706310, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59053522, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50f77992, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c312ab7, org.springframework.security.web.access.ExceptionTranslationFilter@7b48451b, org.springframework.security.web.access.intercept.AuthorizationFilter@58b8ee01, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7d0e5fbb, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@46179420, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@511d31a6, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7d99846f, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@12a16e42]] (7/8)
2025-03-31T14:44:34.448-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@77de042e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73b0498b, org.springframework.security.web.context.SecurityContextHolderFilter@76aef382, org.springframework.security.web.header.HeaderWriterFilter@406794af, org.springframework.security.web.authentication.logout.LogoutFilter@65cae15a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@304c8f39, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@79948bcf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@714f3e27, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@703e8fe8, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@6def1699, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ac94285, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@384abf00, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f53994, org.springframework.security.web.access.ExceptionTranslationFilter@50c40f8f, org.springframework.security.web.access.intercept.AuthorizationFilter@27a18433]] (8/8)
2025-03-31T14:44:34.448-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /livros
2025-03-31T14:44:34.448-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T14:44:34.449-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T14:44:34.449-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T14:44:34.451-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T14:44:34.451-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T14:44:34.451-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T14:44:34.451-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T14:44:34.451-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T14:44:34.452-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T14:44:34.452-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T14:44:34.452-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T14:44:34.452-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T14:44:34.454-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-03-31T14:44:34.458-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Returning no authorities since could not find any claims that might contain scopes
2025-03-31T14:44:34.459-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-03-31T14:44:34.460-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@fb811612, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-31T14:44:34.460-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T14:44:34.466-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T14:44:34.467-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T14:44:34.467-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T14:44:34.467-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T14:44:34.467-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T14:44:34.467-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T14:44:34.468-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /livros
2025-03-31T14:44:34.468-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /livros using org.springframework.security.authorization.AuthenticatedAuthorizationManager@671cf2c7
2025-03-31T14:44:34.469-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated io.github.cursosb.libraryapi.security.CustomAuthentication@3325803f
2025-03-31T14:44:34.470-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /livros
2025-03-31T14:44:34.470-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/livros", parameters={}
2025-03-31T14:44:34.472-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to io.github.cursosb.libraryapi.controller.LivroController#salvar(CadastroLivroDTO)
2025-03-31T14:44:34.476-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CadastroLivroDTO[isbn=, titulo=Wagner Moura: Do Teatro ao Cinema Internacional, dataPublicacao=2023- (truncated)...]
2025-03-31T14:44:34.478-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler io.github.cursosb.libraryapi.controller.common.GlobalExceptionHandler#handleMethodArgumentNotValidException(MethodArgumentNotValidException)
2025-03-31T14:44:34.479-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-31T14:44:34.480-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ErroResposta[status=422, mensagem=Erro de validao., erros=[ErroCampo[campo=isbn, erro=campo obriga (truncated)...]
2025-03-31T14:44:34.481-03:00 TRACE 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T14:44:34.482-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> io.github.cursosb.libraryapi.controller.LivroController.salvar(io.github.cursosb.libraryapi.controller.dto.CadastroLivroDTO) with 2 errors: [Field error in object 'cadastroLivroDTO' on field 'isbn': rejected value []; codes [NotBlank.cadastroLivroDTO.isbn,NotBlank.isbn,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [cadastroLivroDTO.isbn,isbn]; arguments []; default message [isbn]]; default message [campo obrigatorio]] [Field error in object 'cadastroLivroDTO' on field 'isbn': rejected value []; codes [ISBN.cadastroLivroDTO.isbn,ISBN.isbn,ISBN.java.lang.String,ISBN]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [cadastroLivroDTO.isbn,isbn]; arguments []; default message [isbn],ISBN_13]; default message [ISBN invlido]] ]
2025-03-31T14:44:34.483-03:00 DEBUG 5900 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 422 UNPROCESSABLE_ENTITY
2025-03-31T14:47:05.715-03:00  INFO 12176 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 12176 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T14:47:05.717-03:00 DEBUG 12176 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T14:47:05.718-03:00  INFO 12176 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T14:47:12.714-03:00 DEBUG 12176 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-31T14:47:12.717-03:00 DEBUG 12176 --- [libraryapi] [main] i.g.c.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-31T14:47:14.036-03:00  WARN 12176 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-31T14:47:14.093-03:00 TRACE 12176 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfiguration=io.github.cursosb.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@2cb4e4b1}
2025-03-31T14:47:14.098-03:00  INFO 12176 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-31T14:47:14.812-03:00 DEBUG 12176 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020881afc448@7d4f8b15 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-31T14:47:15.010-03:00 DEBUG 12176 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-31T14:47:15.036-03:00 DEBUG 12176 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-31T14:47:15.077-03:00 DEBUG 12176 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-31T14:47:15.360-03:00 DEBUG 12176 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-31T14:47:15.377-03:00  WARN 12176 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:47:15.377-03:00 DEBUG 12176 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-31T14:47:15.377-03:00  WARN 12176 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:47:15.377-03:00 DEBUG 12176 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-31T14:47:15.377-03:00  WARN 12176 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:47:15.377-03:00 DEBUG 12176 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-31T14:47:15.377-03:00  WARN 12176 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:47:15.378-03:00 DEBUG 12176 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-31T14:47:15.378-03:00  WARN 12176 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:47:15.378-03:00 DEBUG 12176 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-31T14:47:15.378-03:00  WARN 12176 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:47:15.378-03:00 DEBUG 12176 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-31T14:47:15.469-03:00 DEBUG 12176 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-31T14:47:15.522-03:00 DEBUG 12176 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-31T14:47:16.276-03:00  INFO 12176 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 11.122 seconds (process running for 11.628)
2025-03-31T14:47:31.348-03:00  INFO 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-31T14:47:31.349-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-31T14:47:31.350-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-31T14:47:31.350-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-31T14:47:31.354-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@26b37ec
2025-03-31T14:47:31.356-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2a6e710e
2025-03-31T14:47:31.357-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-31T14:47:31.357-03:00  INFO 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2025-03-31T14:47:31.423-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T14:47:31.428-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T14:47:31.429-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T14:47:31.430-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T14:47:31.431-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T14:47:31.432-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T14:47:31.433-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020881afc448@7d4f8b15, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@699f7555, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b929997, org.springframework.security.web.context.SecurityContextHolderFilter@790431bf, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7548d0d, org.springframework.security.web.header.HeaderWriterFilter@1a4bc0df, org.springframework.security.web.csrf.CsrfFilter@2b749404, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@43d5031b, org.springframework.security.web.authentication.logout.LogoutFilter@1b5a6a1c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1dbf21c5, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7cb2f534, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@12223aed, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@54f5457e, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@143dc03a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@50e3019b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@12ca50a5, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@630793f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ca307d3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f66fa18, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40873f0a, org.springframework.security.web.access.ExceptionTranslationFilter@2f6f7113, org.springframework.security.web.access.intercept.AuthorizationFilter@10031e49, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7fece723, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@b9271b6, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@33c6625c, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@545dedf4, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@2bc41bcb]] (7/8)
2025-03-31T14:47:31.436-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-31T14:47:31.443-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-31T14:47:31.454-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-31T14:47:31.461-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-31T14:47:31.467-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-31T14:47:31.487-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-31T14:47:31.491-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-31T14:47:31.497-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020881afc448@7d4f8b15, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@2869ef63]]]
2025-03-31T14:47:31.498-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-31T14:47:31.499-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-31T14:47:31.500-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-31T14:47:31.500-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-31T14:47:31.500-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-31T14:47:31.507-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-03-31T14:47:31.508-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T14:47:31.508-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T14:47:31.515-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-31T14:47:31.927-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-31T14:47:31.931-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-31T14:47:31.932-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-03-31T14:47:31.935-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-03-31T14:47:31.936-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-03-31T14:47:31.937-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-03-31T14:47:31.937-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-03-31T14:47:31.937-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-03-31T14:47:31.937-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T14:47:31.938-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-03-31T14:47:31.938-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T14:47:31.938-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-03-31T14:47:31.939-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T14:47:31.940-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-03-31T14:47:31.943-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-03-31T14:47:31.945-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-03-31T14:47:31.946-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-03-31T14:47:31.950-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-31T14:47:31.951-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized using org.springframework.security.authorization.AuthenticatedAuthorizationManager@482983d0
2025-03-31T14:47:31.953-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-31T14:47:31.968-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-31T14:47:32.064-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue to session
2025-03-31T14:47:32.066-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2025-03-31T14:47:32.076-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@2869ef63, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2ec969ba, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2ec969ba, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2ec969ba, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-03-31T14:47:32.078-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@2ec969ba, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-03-31T14:47:32.079-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@2aecd5a4
2025-03-31T14:47:32.083-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-03-31T14:47:32.084-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T14:47:32.106-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T14:47:32.107-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T14:47:32.108-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T14:47:32.109-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T14:47:32.109-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T14:47:32.109-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T14:47:32.110-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020881afc448@7d4f8b15, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@699f7555, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b929997, org.springframework.security.web.context.SecurityContextHolderFilter@790431bf, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7548d0d, org.springframework.security.web.header.HeaderWriterFilter@1a4bc0df, org.springframework.security.web.csrf.CsrfFilter@2b749404, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@43d5031b, org.springframework.security.web.authentication.logout.LogoutFilter@1b5a6a1c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1dbf21c5, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7cb2f534, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@12223aed, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@54f5457e, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@143dc03a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@50e3019b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@12ca50a5, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@630793f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ca307d3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f66fa18, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40873f0a, org.springframework.security.web.access.ExceptionTranslationFilter@2f6f7113, org.springframework.security.web.access.intercept.AuthorizationFilter@10031e49, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7fece723, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@b9271b6, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@33c6625c, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@545dedf4, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@2bc41bcb]] (7/8)
2025-03-31T14:47:32.110-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@ef4bda0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47cc8bd, org.springframework.security.web.context.SecurityContextHolderFilter@58f0d3b6, org.springframework.security.web.header.HeaderWriterFilter@b0bb7f1, org.springframework.security.web.authentication.logout.LogoutFilter@bfa82bd, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@49f9575d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@34634dff, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@78571fe6, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@703e8fe8, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@6894d28d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@241eba9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@302f535b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@532c4cb, org.springframework.security.web.access.ExceptionTranslationFilter@2119bb3d, org.springframework.security.web.access.intercept.AuthorizationFilter@75a37ebb]] (8/8)
2025-03-31T14:47:32.111-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-03-31T14:47:32.111-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T14:47:32.112-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T14:47:32.113-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T14:47:32.113-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T14:47:32.113-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T14:47:32.114-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T14:47:32.115-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T14:47:32.115-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T14:47:32.116-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T14:47:32.116-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T14:47:32.117-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T14:47:32.117-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T14:47:32.118-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T14:47:32.118-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T14:47:32.119-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession DE1586FAD371D5FCF6C7C6462B9478C8 using the SPRING_SECURITY_CONTEXT session attribute
2025-03-31T14:47:32.119-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T14:47:32.119-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T14:47:32.119-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T14:47:32.120-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T14:47:32.120-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T14:47:32.120-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T14:47:32.120-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T14:47:32.121-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T14:47:32.122-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-03-31T14:47:32.124-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020881afca98@74c08743
2025-03-31T14:47:32.129-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-03-31T14:47:32.135-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-03-31T14:47:32.140-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-03-31T14:47:32.993-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T14:47:32.999-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-31T14:47:33.000-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=DE1586FAD371D5FCF6C7C6462B9478C8], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-31T14:47:37.619-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T14:47:37.620-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T14:47:37.621-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T14:47:37.622-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T14:47:37.622-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T14:47:37.622-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T14:47:37.623-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020881afc448@7d4f8b15, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@699f7555, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b929997, org.springframework.security.web.context.SecurityContextHolderFilter@790431bf, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7548d0d, org.springframework.security.web.header.HeaderWriterFilter@1a4bc0df, org.springframework.security.web.csrf.CsrfFilter@2b749404, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@43d5031b, org.springframework.security.web.authentication.logout.LogoutFilter@1b5a6a1c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1dbf21c5, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7cb2f534, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@12223aed, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@54f5457e, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@143dc03a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@50e3019b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@12ca50a5, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@630793f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ca307d3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f66fa18, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40873f0a, org.springframework.security.web.access.ExceptionTranslationFilter@2f6f7113, org.springframework.security.web.access.intercept.AuthorizationFilter@10031e49, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7fece723, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@b9271b6, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@33c6625c, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@545dedf4, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@2bc41bcb]] (7/8)
2025-03-31T14:47:37.624-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@ef4bda0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47cc8bd, org.springframework.security.web.context.SecurityContextHolderFilter@58f0d3b6, org.springframework.security.web.header.HeaderWriterFilter@b0bb7f1, org.springframework.security.web.authentication.logout.LogoutFilter@bfa82bd, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@49f9575d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@34634dff, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@78571fe6, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@703e8fe8, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@6894d28d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@241eba9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@302f535b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@532c4cb, org.springframework.security.web.access.ExceptionTranslationFilter@2119bb3d, org.springframework.security.web.access.intercept.AuthorizationFilter@75a37ebb]] (8/8)
2025-03-31T14:47:37.625-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-03-31T14:47:37.625-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T14:47:37.626-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T14:47:37.630-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T14:47:37.631-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T14:47:37.631-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T14:47:37.631-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T14:47:37.632-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T14:47:37.632-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T14:47:37.633-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T14:47:37.634-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T14:47:37.638-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-03-31T14:47:37.938-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-03-31T14:47:37.939-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from DE1586FAD371D5FCF6C7C6462B9478C8
2025-03-31T14:47:37.944-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=io.github.cursosb.libraryapi.security.CustomAuthentication@5771f999] to HttpSession [org.apache.catalina.session.StandardSessionFacade@43bc77c]
2025-03-31T14:47:37.944-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to io.github.cursosb.libraryapi.security.CustomAuthentication@5771f999
2025-03-31T14:47:37.946-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2025-03-31T14:47:37.950-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T14:47:37.977-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T14:47:37.981-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T14:47:37.982-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T14:47:37.982-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T14:47:37.983-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T14:47:37.983-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T14:47:37.983-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020881afc448@7d4f8b15, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@699f7555, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b929997, org.springframework.security.web.context.SecurityContextHolderFilter@790431bf, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7548d0d, org.springframework.security.web.header.HeaderWriterFilter@1a4bc0df, org.springframework.security.web.csrf.CsrfFilter@2b749404, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@43d5031b, org.springframework.security.web.authentication.logout.LogoutFilter@1b5a6a1c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1dbf21c5, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7cb2f534, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@12223aed, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@54f5457e, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@143dc03a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@50e3019b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@12ca50a5, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@630793f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ca307d3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f66fa18, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40873f0a, org.springframework.security.web.access.ExceptionTranslationFilter@2f6f7113, org.springframework.security.web.access.intercept.AuthorizationFilter@10031e49, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7fece723, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@b9271b6, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@33c6625c, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@545dedf4, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@2bc41bcb]] (7/8)
2025-03-31T14:47:37.984-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2025-03-31T14:47:37.985-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-31T14:47:37.986-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-31T14:47:37.988-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-31T14:47:37.988-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-31T14:47:37.989-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-31T14:47:37.990-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-31T14:47:37.990-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020881afc448@7d4f8b15, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@2869ef63]]]
2025-03-31T14:47:37.991-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-31T14:47:37.991-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-31T14:47:37.991-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-31T14:47:37.992-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-31T14:47:37.992-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-31T14:47:37.993-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=io.github.cursosb.libraryapi.security.CustomAuthentication@5771f999] from SPRING_SECURITY_CONTEXT
2025-03-31T14:47:37.994-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-31T14:47:38.004-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-31T14:47:38.004-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-31T14:47:38.040-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-03-31T14:47:38.042-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] izationCodeRequestAuthenticationProvider : Saved authorization
2025-03-31T14:47:38.042-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-03-31T14:47:38.045-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/authorized?code=TMsMsdPp9VI2o_etinXY8-NJIf8GmuDYymwNUdD1Lg-GhMoXXG8KuXxPPQ6xHo__rITtW-jUIhQSCshhafG4xBoWbq8jmqSxoHv9KC1iLqCfnnkxKR2noOGpXEJlYINU
2025-03-31T14:47:38.048-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T14:47:38.585-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T14:47:38.586-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T14:47:38.587-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T14:47:38.587-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T14:47:38.587-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T14:47:38.588-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T14:47:38.588-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020881afc448@7d4f8b15, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@699f7555, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b929997, org.springframework.security.web.context.SecurityContextHolderFilter@790431bf, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7548d0d, org.springframework.security.web.header.HeaderWriterFilter@1a4bc0df, org.springframework.security.web.csrf.CsrfFilter@2b749404, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@43d5031b, org.springframework.security.web.authentication.logout.LogoutFilter@1b5a6a1c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1dbf21c5, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7cb2f534, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@12223aed, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@54f5457e, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@143dc03a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@50e3019b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@12ca50a5, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@630793f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ca307d3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f66fa18, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40873f0a, org.springframework.security.web.access.ExceptionTranslationFilter@2f6f7113, org.springframework.security.web.access.intercept.AuthorizationFilter@10031e49, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7fece723, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@b9271b6, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@33c6625c, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@545dedf4, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@2bc41bcb]] (7/8)
2025-03-31T14:47:38.589-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-03-31T14:47:38.590-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-31T14:47:38.591-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-31T14:47:38.592-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-31T14:47:38.592-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-31T14:47:38.593-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-31T14:47:38.594-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-31T14:47:38.594-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020881afc448@7d4f8b15, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@2869ef63]]]
2025-03-31T14:47:38.595-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-31T14:47:38.595-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-31T14:47:38.596-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-31T14:47:38.597-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-31T14:47:38.597-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-31T14:47:38.598-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-03-31T14:47:38.598-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-03-31T14:47:38.598-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-03-31T14:47:38.599-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-03-31T14:47:38.603-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-03-31T14:47:38.603-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-03-31T14:47:38.604-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-03-31T14:47:38.612-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-03-31T14:47:38.839-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-03-31T14:47:38.841-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Retrieved authorization with authorization code
2025-03-31T14:47:38.841-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Did not authenticate code verifier since requireProofKey=false
2025-03-31T14:47:38.841-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-03-31T14:47:38.842-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2025-03-31T14:47:38.843-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-03-31T14:47:38.844-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T14:47:38.844-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-03-31T14:47:38.844-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T14:47:38.845-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-03-31T14:47:38.846-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T14:47:38.846-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-03-31T14:47:38.846-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-03-31T14:47:38.847-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-03-31T14:47:38.847-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-03-31T14:47:38.848-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-03-31T14:47:38.848-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@482983d0
2025-03-31T14:47:38.849-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=meu-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-31T14:47:38.850-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (22/26)
2025-03-31T14:47:38.854-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeAuthenticationProvider (1/20)
2025-03-31T14:47:38.856-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] 2AuthorizationCodeAuthenticationProvider : Retrieved registered client
2025-03-31T14:47:38.857-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] 2AuthorizationCodeAuthenticationProvider : Retrieved authorization with authorization code
2025-03-31T14:47:38.857-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] 2AuthorizationCodeAuthenticationProvider : Validated token request parameters
2025-03-31T14:47:39.082-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] 2AuthorizationCodeAuthenticationProvider : Generated access token
2025-03-31T14:47:39.087-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] 2AuthorizationCodeAuthenticationProvider : Generated refresh token
2025-03-31T14:47:39.088-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] 2AuthorizationCodeAuthenticationProvider : Saved authorization
2025-03-31T14:47:39.088-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] 2AuthorizationCodeAuthenticationProvider : Authenticated token request
2025-03-31T14:47:39.174-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T14:47:59.567-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T14:47:59.569-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T14:47:59.569-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T14:47:59.570-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T14:47:59.570-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T14:47:59.570-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T14:47:59.570-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020881afc448@7d4f8b15, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@699f7555, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b929997, org.springframework.security.web.context.SecurityContextHolderFilter@790431bf, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7548d0d, org.springframework.security.web.header.HeaderWriterFilter@1a4bc0df, org.springframework.security.web.csrf.CsrfFilter@2b749404, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@43d5031b, org.springframework.security.web.authentication.logout.LogoutFilter@1b5a6a1c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1dbf21c5, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7cb2f534, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@12223aed, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@54f5457e, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@143dc03a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@50e3019b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@12ca50a5, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@630793f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ca307d3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f66fa18, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40873f0a, org.springframework.security.web.access.ExceptionTranslationFilter@2f6f7113, org.springframework.security.web.access.intercept.AuthorizationFilter@10031e49, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7fece723, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@b9271b6, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@33c6625c, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@545dedf4, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@2bc41bcb]] (7/8)
2025-03-31T14:47:59.571-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@ef4bda0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47cc8bd, org.springframework.security.web.context.SecurityContextHolderFilter@58f0d3b6, org.springframework.security.web.header.HeaderWriterFilter@b0bb7f1, org.springframework.security.web.authentication.logout.LogoutFilter@bfa82bd, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@49f9575d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@34634dff, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@78571fe6, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@703e8fe8, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@6894d28d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@241eba9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@302f535b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@532c4cb, org.springframework.security.web.access.ExceptionTranslationFilter@2119bb3d, org.springframework.security.web.access.intercept.AuthorizationFilter@75a37ebb]] (8/8)
2025-03-31T14:47:59.572-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /livros
2025-03-31T14:47:59.573-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T14:47:59.574-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T14:47:59.575-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T14:47:59.576-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T14:47:59.576-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T14:47:59.576-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T14:47:59.576-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T14:47:59.576-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T14:47:59.577-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T14:47:59.579-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T14:47:59.579-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T14:47:59.579-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T14:47:59.582-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-03-31T14:47:59.607-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Returning no authorities since could not find any claims that might contain scopes
2025-03-31T14:47:59.608-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-03-31T14:47:59.610-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b2219ec, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-31T14:47:59.610-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T14:47:59.616-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T14:47:59.616-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T14:47:59.616-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T14:47:59.617-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T14:47:59.617-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T14:47:59.618-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T14:47:59.619-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing POST /livros
2025-03-31T14:47:59.620-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /livros using org.springframework.security.authorization.AuthenticatedAuthorizationManager@328130b1
2025-03-31T14:47:59.621-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated io.github.cursosb.libraryapi.security.CustomAuthentication@4d2b93b
2025-03-31T14:47:59.622-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /livros
2025-03-31T14:47:59.622-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/livros", parameters={}
2025-03-31T14:47:59.623-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to io.github.cursosb.libraryapi.controller.LivroController#salvar(CadastroLivroDTO)
2025-03-31T14:47:59.903-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CadastroLivroDTO[isbn=, titulo=Wagner Moura: Do Teatro ao Cinema Internacional, dataPublicacao=2023- (truncated)...]
2025-03-31T14:48:00.094-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler io.github.cursosb.libraryapi.controller.common.GlobalExceptionHandler#handleMethodArgumentNotValidException(MethodArgumentNotValidException)
2025-03-31T14:48:00.096-03:00 ERROR 12176 --- [libraryapi] [http-nio-8080-exec-6] i.g.c.l.c.common.GlobalExceptionHandler  : Erro de validao: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> io.github.cursosb.libraryapi.controller.LivroController.salvar(io.github.cursosb.libraryapi.controller.dto.CadastroLivroDTO) with 2 errors: [Field error in object 'cadastroLivroDTO' on field 'isbn': rejected value []; codes [NotBlank.cadastroLivroDTO.isbn,NotBlank.isbn,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [cadastroLivroDTO.isbn,isbn]; arguments []; default message [isbn]]; default message [campo obrigatorio]] [Field error in object 'cadastroLivroDTO' on field 'isbn': rejected value []; codes [ISBN.cadastroLivroDTO.isbn,ISBN.isbn,ISBN.java.lang.String,ISBN]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [cadastroLivroDTO.isbn,isbn]; arguments []; default message [isbn],ISBN_13]; default message [ISBN invlido]] 
2025-03-31T14:48:00.131-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-31T14:48:00.143-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ErroResposta[status=422, mensagem=Erro de validao., erros=[ErroCampo[campo=isbn, erro=campo obriga (truncated)...]
2025-03-31T14:48:00.151-03:00 TRACE 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T14:48:00.153-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> io.github.cursosb.libraryapi.controller.LivroController.salvar(io.github.cursosb.libraryapi.controller.dto.CadastroLivroDTO) with 2 errors: [Field error in object 'cadastroLivroDTO' on field 'isbn': rejected value []; codes [NotBlank.cadastroLivroDTO.isbn,NotBlank.isbn,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [cadastroLivroDTO.isbn,isbn]; arguments []; default message [isbn]]; default message [campo obrigatorio]] [Field error in object 'cadastroLivroDTO' on field 'isbn': rejected value []; codes [ISBN.cadastroLivroDTO.isbn,ISBN.isbn,ISBN.java.lang.String,ISBN]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [cadastroLivroDTO.isbn,isbn]; arguments []; default message [isbn],ISBN_13]; default message [ISBN invlido]] ]
2025-03-31T14:48:00.153-03:00 DEBUG 12176 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 422 UNPROCESSABLE_ENTITY
2025-03-31T14:50:27.958-03:00  INFO 12624 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 12624 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T14:50:27.960-03:00 DEBUG 12624 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T14:50:27.961-03:00  INFO 12624 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T14:50:34.757-03:00 DEBUG 12624 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-31T14:50:34.759-03:00 DEBUG 12624 --- [libraryapi] [main] i.g.c.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-31T14:50:36.036-03:00  WARN 12624 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-31T14:50:36.109-03:00 TRACE 12624 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfiguration=io.github.cursosb.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@4faccb34}
2025-03-31T14:50:36.113-03:00  INFO 12624 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-31T14:50:37.103-03:00 DEBUG 12624 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001eea9afa690@5f10ee00 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-31T14:50:37.274-03:00 DEBUG 12624 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-31T14:50:37.317-03:00 DEBUG 12624 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-31T14:50:37.368-03:00 DEBUG 12624 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-31T14:50:37.721-03:00 DEBUG 12624 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-31T14:50:37.738-03:00  WARN 12624 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:50:37.739-03:00 DEBUG 12624 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-31T14:50:37.739-03:00  WARN 12624 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:50:37.739-03:00 DEBUG 12624 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-31T14:50:37.739-03:00  WARN 12624 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:50:37.739-03:00 DEBUG 12624 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-31T14:50:37.740-03:00  WARN 12624 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:50:37.740-03:00 DEBUG 12624 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-31T14:50:37.740-03:00  WARN 12624 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:50:37.740-03:00 DEBUG 12624 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-31T14:50:37.740-03:00  WARN 12624 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:50:37.741-03:00 DEBUG 12624 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-31T14:50:37.855-03:00 DEBUG 12624 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-31T14:50:37.921-03:00 DEBUG 12624 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-31T14:50:38.647-03:00  INFO 12624 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 11.267 seconds (process running for 11.762)
2025-03-31T14:51:29.582-03:00  INFO 19304 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 19304 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T14:51:29.585-03:00 DEBUG 19304 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T14:51:29.586-03:00  INFO 19304 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T14:51:36.475-03:00 DEBUG 19304 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-31T14:51:36.478-03:00 DEBUG 19304 --- [libraryapi] [main] i.g.c.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-31T14:51:37.791-03:00  WARN 19304 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-31T14:51:37.862-03:00 TRACE 19304 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfiguration=io.github.cursosb.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@b42d1c8}
2025-03-31T14:51:37.866-03:00  INFO 19304 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-31T14:51:38.834-03:00 DEBUG 19304 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000013a4eaf9e00@4a05902b with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-31T14:51:38.972-03:00 DEBUG 19304 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-31T14:51:39.019-03:00 DEBUG 19304 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-31T14:51:39.062-03:00 DEBUG 19304 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-31T14:51:39.399-03:00 DEBUG 19304 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-31T14:51:39.419-03:00  WARN 19304 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:51:39.419-03:00 DEBUG 19304 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-31T14:51:39.419-03:00  WARN 19304 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:51:39.419-03:00 DEBUG 19304 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-31T14:51:39.420-03:00  WARN 19304 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:51:39.420-03:00 DEBUG 19304 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-31T14:51:39.420-03:00  WARN 19304 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:51:39.420-03:00 DEBUG 19304 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-31T14:51:39.420-03:00  WARN 19304 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:51:39.420-03:00 DEBUG 19304 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-31T14:51:39.420-03:00  WARN 19304 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:51:39.420-03:00 DEBUG 19304 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-31T14:51:39.521-03:00 DEBUG 19304 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-31T14:51:39.585-03:00 DEBUG 19304 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-31T14:51:40.376-03:00  INFO 19304 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 11.374 seconds (process running for 11.914)
2025-03-31T14:52:13.089-03:00  INFO 4656 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 4656 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T14:52:13.092-03:00 DEBUG 4656 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T14:52:13.093-03:00  INFO 4656 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T14:54:22.462-03:00  INFO 10360 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 10360 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T14:54:22.464-03:00 DEBUG 10360 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T14:54:22.466-03:00  INFO 10360 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T14:54:29.482-03:00 DEBUG 10360 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-31T14:54:29.486-03:00 DEBUG 10360 --- [libraryapi] [main] i.g.c.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-31T14:56:15.947-03:00  INFO 14228 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 14228 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T14:56:15.950-03:00 DEBUG 14228 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T14:56:15.951-03:00  INFO 14228 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T14:56:22.995-03:00 DEBUG 14228 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-31T14:56:22.999-03:00 DEBUG 14228 --- [libraryapi] [main] i.g.c.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-31T14:56:24.344-03:00  WARN 14228 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-31T14:56:24.442-03:00 TRACE 14228 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfiguration=io.github.cursosb.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@3fe33c59}
2025-03-31T14:56:24.445-03:00  INFO 14228 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-31T14:56:25.501-03:00 DEBUG 14228 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017701afc448@10762309 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-31T14:56:25.657-03:00 DEBUG 14228 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-31T14:56:25.700-03:00 DEBUG 14228 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-31T14:56:25.747-03:00 DEBUG 14228 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-31T14:56:26.062-03:00 DEBUG 14228 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-31T14:56:26.083-03:00  WARN 14228 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:56:26.084-03:00 DEBUG 14228 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-31T14:56:26.084-03:00  WARN 14228 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:56:26.084-03:00 DEBUG 14228 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-31T14:56:26.084-03:00  WARN 14228 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:56:26.084-03:00 DEBUG 14228 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-31T14:56:26.084-03:00  WARN 14228 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:56:26.084-03:00 DEBUG 14228 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-31T14:56:26.085-03:00  WARN 14228 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:56:26.085-03:00 DEBUG 14228 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-31T14:56:26.085-03:00  WARN 14228 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T14:56:26.085-03:00 DEBUG 14228 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-31T14:56:26.192-03:00 DEBUG 14228 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-31T14:56:26.254-03:00 DEBUG 14228 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-31T14:56:27.246-03:00  INFO 14228 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 11.893 seconds (process running for 12.415)
2025-03-31T14:56:43.262-03:00  INFO 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-31T14:56:43.264-03:00 DEBUG 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-31T14:56:43.264-03:00 DEBUG 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-31T14:56:43.264-03:00 DEBUG 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-31T14:56:43.268-03:00 DEBUG 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@44eee485
2025-03-31T14:56:43.269-03:00 DEBUG 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@12b6713c
2025-03-31T14:56:43.270-03:00 DEBUG 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-31T14:56:43.271-03:00  INFO 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2025-03-31T14:56:43.333-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T14:56:43.336-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T14:56:43.337-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T14:56:43.337-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T14:56:43.338-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T14:56:43.339-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T14:56:43.340-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017701afc448@10762309, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@792e327c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ff908f7, org.springframework.security.web.context.SecurityContextHolderFilter@287cfa9c, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7053d6e2, org.springframework.security.web.header.HeaderWriterFilter@1a7084ec, org.springframework.security.web.csrf.CsrfFilter@87ef6de, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@476bdad6, org.springframework.security.web.authentication.logout.LogoutFilter@60c44f6f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@13890ab8, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@36d56d5d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@229cf4e7, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@4f1d97d8, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5fddd0fc, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6f66fa18, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@295f5dd5, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@18be5bce, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c940eab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f2c2278, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@710f7552, org.springframework.security.web.access.ExceptionTranslationFilter@f6776e2, org.springframework.security.web.access.intercept.AuthorizationFilter@73c57370, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@2dcfa917, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@60fc87e8, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@2624dd2c, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2ce1d507, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3890c4da]] (7/8)
2025-03-31T14:56:43.341-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10defcaa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18eb811f, org.springframework.security.web.context.SecurityContextHolderFilter@7dabc2f9, org.springframework.security.web.header.HeaderWriterFilter@7da837af, org.springframework.security.web.authentication.logout.LogoutFilter@307f6602, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3b477ce8, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@e124366, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@ecd7bee, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@302f535b, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@c42ee90, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@65af4162, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a4594b1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f428c45, org.springframework.security.web.access.ExceptionTranslationFilter@4886b6bd, org.springframework.security.web.access.intercept.AuthorizationFilter@11d823a4]] (8/8)
2025-03-31T14:56:43.343-03:00 DEBUG 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /livros
2025-03-31T14:56:43.349-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T14:56:43.363-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T14:56:43.371-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T14:56:43.377-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T14:56:43.383-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T14:56:43.384-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T14:56:43.385-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T14:56:43.385-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T14:56:43.386-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T14:56:43.386-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T14:56:43.386-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T14:56:43.386-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T14:56:43.392-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-03-31T14:56:43.532-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.oauth2.jwt.NimbusJwtDecoder        : Failed to process JWT

com.nimbusds.jose.proc.BadJOSEException: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:357) ~[nimbus-jose-jwt-9.37.3.jar:9.37.3]
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:303) ~[nimbus-jose-jwt-9.37.3.jar:9.37.3]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:158) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:138) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-31T14:56:43.540-03:00 DEBUG 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Failed to authenticate since the JWT was invalid
2025-03-31T14:56:43.549-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Failed to process authentication request

org.springframework.security.oauth2.server.resource.InvalidBearerTokenException: An error occurred while attempting to decode the Jwt: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:103) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.springframework.security.oauth2.jwt.BadJwtException: An error occurred while attempting to decode the Jwt: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:184) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:138) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	... 87 common frames omitted
Caused by: com.nimbusds.jose.proc.BadJOSEException: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:357) ~[nimbus-jose-jwt-9.37.3.jar:9.37.3]
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:303) ~[nimbus-jose-jwt-9.37.3.jar:9.37.3]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:158) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	... 89 common frames omitted

2025-03-31T14:56:43.554-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T14:57:08.664-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T14:57:08.666-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T14:57:08.667-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T14:57:08.668-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T14:57:08.668-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T14:57:08.669-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T14:57:08.669-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017701afc448@10762309, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@792e327c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ff908f7, org.springframework.security.web.context.SecurityContextHolderFilter@287cfa9c, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7053d6e2, org.springframework.security.web.header.HeaderWriterFilter@1a7084ec, org.springframework.security.web.csrf.CsrfFilter@87ef6de, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@476bdad6, org.springframework.security.web.authentication.logout.LogoutFilter@60c44f6f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@13890ab8, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@36d56d5d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@229cf4e7, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@4f1d97d8, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5fddd0fc, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6f66fa18, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@295f5dd5, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@18be5bce, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c940eab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f2c2278, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@710f7552, org.springframework.security.web.access.ExceptionTranslationFilter@f6776e2, org.springframework.security.web.access.intercept.AuthorizationFilter@73c57370, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@2dcfa917, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@60fc87e8, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@2624dd2c, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2ce1d507, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3890c4da]] (7/8)
2025-03-31T14:57:08.670-03:00 DEBUG 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-03-31T14:57:08.670-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-31T14:57:08.671-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-31T14:57:08.671-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-31T14:57:08.672-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-31T14:57:08.688-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-31T14:57:08.689-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-31T14:57:08.695-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017701afc448@10762309, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@fd6784a]]]
2025-03-31T14:57:08.696-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-31T14:57:08.696-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-31T14:57:08.697-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-31T14:57:08.697-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-31T14:57:08.697-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-31T14:57:08.697-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-03-31T14:57:08.698-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-03-31T14:57:08.698-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-03-31T14:57:08.698-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-03-31T14:57:08.705-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-03-31T14:57:08.706-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-03-31T14:57:08.706-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-03-31T14:57:09.124-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-03-31T14:57:09.347-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-03-31T14:57:09.347-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-03-31T14:57:09.349-03:00 DEBUG 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2025-03-31T14:57:09.350-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-03-31T14:57:09.350-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T14:57:09.350-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-03-31T14:57:09.351-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T14:57:09.352-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-03-31T14:57:09.352-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T14:57:09.353-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-03-31T14:57:09.356-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-03-31T14:57:09.357-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-03-31T14:57:09.358-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-03-31T14:57:09.362-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-03-31T14:57:09.363-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@1ed73bff
2025-03-31T14:57:09.365-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=meu-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-31T14:57:09.367-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (22/26)
2025-03-31T14:57:09.374-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2ClientCredentialsAuthenticationProvider (1/20)
2025-03-31T14:57:09.376-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] 2ClientCredentialsAuthenticationProvider : Retrieved registered client
2025-03-31T14:57:09.378-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] 2ClientCredentialsAuthenticationProvider : Validated token request parameters
2025-03-31T14:57:09.433-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] 2ClientCredentialsAuthenticationProvider : Generated access token
2025-03-31T14:57:09.436-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] 2ClientCredentialsAuthenticationProvider : Saved authorization
2025-03-31T14:57:09.436-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] 2ClientCredentialsAuthenticationProvider : Authenticated token request
2025-03-31T14:57:09.514-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T14:57:27.820-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-31T14:57:27.820-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-31T14:57:27.820-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-31T14:57:27.820-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-31T14:57:27.820-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-31T14:57:27.820-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-31T14:57:27.821-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017701afc448@10762309, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@792e327c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ff908f7, org.springframework.security.web.context.SecurityContextHolderFilter@287cfa9c, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7053d6e2, org.springframework.security.web.header.HeaderWriterFilter@1a7084ec, org.springframework.security.web.csrf.CsrfFilter@87ef6de, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@476bdad6, org.springframework.security.web.authentication.logout.LogoutFilter@60c44f6f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@13890ab8, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@36d56d5d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@229cf4e7, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@4f1d97d8, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5fddd0fc, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6f66fa18, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@295f5dd5, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@18be5bce, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c940eab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f2c2278, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@710f7552, org.springframework.security.web.access.ExceptionTranslationFilter@f6776e2, org.springframework.security.web.access.intercept.AuthorizationFilter@73c57370, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@2dcfa917, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@60fc87e8, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@2624dd2c, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2ce1d507, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3890c4da]] (7/8)
2025-03-31T14:57:27.822-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10defcaa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18eb811f, org.springframework.security.web.context.SecurityContextHolderFilter@7dabc2f9, org.springframework.security.web.header.HeaderWriterFilter@7da837af, org.springframework.security.web.authentication.logout.LogoutFilter@307f6602, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3b477ce8, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@e124366, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@ecd7bee, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@302f535b, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@c42ee90, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@65af4162, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a4594b1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f428c45, org.springframework.security.web.access.ExceptionTranslationFilter@4886b6bd, org.springframework.security.web.access.intercept.AuthorizationFilter@11d823a4]] (8/8)
2025-03-31T14:57:27.822-03:00 DEBUG 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /livros
2025-03-31T14:57:27.822-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T14:57:27.823-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T14:57:27.823-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T14:57:27.824-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T14:57:27.824-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T14:57:27.824-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T14:57:27.824-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T14:57:27.824-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T14:57:27.824-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T14:57:27.824-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T14:57:27.824-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T14:57:27.826-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T14:57:27.826-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-03-31T14:57:27.833-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Returning no authorities since could not find any claims that might contain scopes
2025-03-31T14:57:27.833-03:00 DEBUG 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-03-31T14:57:27.835-03:00 DEBUG 14228 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@719fdf54, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-31T14:57:27.836-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T14:57:27.848-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T14:57:27.848-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T14:57:27.848-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T14:57:27.848-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T14:57:27.849-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T14:57:27.849-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T14:57:27.849-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing POST /livros
2025-03-31T14:57:27.850-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /livros using org.springframework.security.authorization.AuthenticatedAuthorizationManager@36530352
2025-03-31T14:57:27.851-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@719fdf54, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-31T14:57:27.855-03:00 DEBUG 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /livros
2025-03-31T14:57:27.859-03:00 DEBUG 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/livros", parameters={}
2025-03-31T14:57:27.862-03:00 DEBUG 14228 --- [libraryapi] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to io.github.cursosb.libraryapi.controller.LivroController#salvar(CadastroLivroDTO)
2025-03-31T14:57:28.045-03:00 DEBUG 14228 --- [libraryapi] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CadastroLivroDTO[isbn=, titulo=Wagner Moura: Do Teatro ao Cinema Internacional, dataPublicacao=2023- (truncated)...]
2025-03-31T14:57:28.166-03:00 DEBUG 14228 --- [libraryapi] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler io.github.cursosb.libraryapi.controller.common.GlobalExceptionHandler#handleMethodArgumentNotValidException(MethodArgumentNotValidException)
2025-03-31T14:57:28.167-03:00 ERROR 14228 --- [libraryapi] [http-nio-8080-exec-4] i.g.c.l.c.common.GlobalExceptionHandler  : Erro de validao: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> io.github.cursosb.libraryapi.controller.LivroController.salvar(io.github.cursosb.libraryapi.controller.dto.CadastroLivroDTO) with 2 errors: [Field error in object 'cadastroLivroDTO' on field 'isbn': rejected value []; codes [ISBN.cadastroLivroDTO.isbn,ISBN.isbn,ISBN.java.lang.String,ISBN]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [cadastroLivroDTO.isbn,isbn]; arguments []; default message [isbn],ISBN_13]; default message [ISBN invlido]] [Field error in object 'cadastroLivroDTO' on field 'isbn': rejected value []; codes [NotBlank.cadastroLivroDTO.isbn,NotBlank.isbn,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [cadastroLivroDTO.isbn,isbn]; arguments []; default message [isbn]]; default message [campo obrigatorio]] 
2025-03-31T14:57:28.188-03:00 DEBUG 14228 --- [libraryapi] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-31T14:57:28.198-03:00 DEBUG 14228 --- [libraryapi] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ErroResposta[status=422, mensagem=Erro de validao., erros=[ErroCampo[campo=isbn, erro=ISBN invlid (truncated)...]
2025-03-31T14:57:28.202-03:00 TRACE 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T14:57:28.205-03:00 DEBUG 14228 --- [libraryapi] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> io.github.cursosb.libraryapi.controller.LivroController.salvar(io.github.cursosb.libraryapi.controller.dto.CadastroLivroDTO) with 2 errors: [Field error in object 'cadastroLivroDTO' on field 'isbn': rejected value []; codes [ISBN.cadastroLivroDTO.isbn,ISBN.isbn,ISBN.java.lang.String,ISBN]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [cadastroLivroDTO.isbn,isbn]; arguments []; default message [isbn],ISBN_13]; default message [ISBN invlido]] [Field error in object 'cadastroLivroDTO' on field 'isbn': rejected value []; codes [NotBlank.cadastroLivroDTO.isbn,NotBlank.isbn,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [cadastroLivroDTO.isbn,isbn]; arguments []; default message [isbn]]; default message [campo obrigatorio]] ]
2025-03-31T14:57:28.206-03:00 DEBUG 14228 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 422 UNPROCESSABLE_ENTITY
2025-03-31T16:12:36.879-03:00  INFO 18364 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 18364 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T16:12:36.892-03:00 DEBUG 18364 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T16:12:36.893-03:00  INFO 18364 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T16:12:44.384-03:00 DEBUG 18364 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-31T16:12:44.388-03:00 DEBUG 18364 --- [libraryapi] [main] i.g.c.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-31T16:12:45.933-03:00  WARN 18364 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-31T16:12:46.001-03:00 TRACE 18364 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfiguration=io.github.cursosb.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@7955b4d4}
2025-03-31T16:12:46.004-03:00  INFO 18364 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-31T16:12:46.741-03:00 DEBUG 18364 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000014a9badb360@7053d6e2 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-31T16:12:46.886-03:00 DEBUG 18364 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 23 mappings in 'requestMappingHandlerMapping'
2025-03-31T16:12:46.923-03:00 DEBUG 18364 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-31T16:12:46.975-03:00 DEBUG 18364 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-31T16:12:47.431-03:00 DEBUG 18364 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-31T16:12:47.455-03:00  WARN 18364 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T16:12:47.456-03:00 DEBUG 18364 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-31T16:12:47.456-03:00  WARN 18364 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T16:12:47.457-03:00 DEBUG 18364 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-31T16:12:47.457-03:00  WARN 18364 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T16:12:47.457-03:00 DEBUG 18364 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-31T16:12:47.457-03:00  WARN 18364 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T16:12:47.457-03:00 DEBUG 18364 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-31T16:12:47.457-03:00  WARN 18364 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T16:12:47.457-03:00 DEBUG 18364 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-31T16:12:47.457-03:00  WARN 18364 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T16:12:47.458-03:00 DEBUG 18364 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-31T16:12:47.458-03:00  WARN 18364 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T16:12:47.458-03:00 DEBUG 18364 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]
2025-03-31T16:12:47.566-03:00 DEBUG 18364 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-31T16:12:47.629-03:00 DEBUG 18364 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-31T16:12:48.716-03:00 DEBUG 18364 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 1 mappings in 'requestMappingHandlerMapping'
2025-03-31T16:12:48.719-03:00 DEBUG 18364 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-31T16:12:48.726-03:00 DEBUG 18364 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-31T16:12:48.739-03:00 DEBUG 18364 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-31T16:12:48.776-03:00  INFO 18364 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 12.477 seconds (process running for 13.023)
2025-03-31T16:12:53.320-03:00  INFO 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-31T16:12:53.321-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-31T16:12:53.321-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-31T16:12:53.322-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-31T16:12:53.326-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@146eda1b
2025-03-31T16:12:53.327-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4159c03b
2025-03-31T16:12:53.328-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-31T16:12:53.329-03:00  INFO 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2025-03-31T16:12:53.388-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-03-31T16:12:53.389-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-03-31T16:12:53.390-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-03-31T16:12:53.392-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-03-31T16:12:53.392-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-03-31T16:12:53.392-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-03-31T16:12:53.394-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-03-31T16:12:53.394-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000014a9badb360@7053d6e2, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1375eaff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b82cbfb, org.springframework.security.web.context.SecurityContextHolderFilter@696faa2b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@33c5e228, org.springframework.security.web.header.HeaderWriterFilter@2a93ad09, org.springframework.security.web.csrf.CsrfFilter@37a26221, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@647ea319, org.springframework.security.web.authentication.logout.LogoutFilter@287cfa9c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@13a590f3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1503ef2, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2de08488, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@227497ef, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2f940a24, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@12046998, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5d676a02, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@550d3cd7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44ee4110, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a7882ea, org.springframework.security.web.access.ExceptionTranslationFilter@642bfa5e, org.springframework.security.web.access.intercept.AuthorizationFilter@50980f1c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@12f35f55, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7fdd29f3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@60fd51a1, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3f570944, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@14fda568]] (8/9)
2025-03-31T16:12:53.396-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4de839c1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71f60091, org.springframework.security.web.context.SecurityContextHolderFilter@3f471e59, org.springframework.security.web.header.HeaderWriterFilter@c634247, org.springframework.security.web.authentication.logout.LogoutFilter@1e9bc8, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@30df67b8, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7359781c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6592f06, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@289bb421, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@23ba2c1e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c0604af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48322f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ca6c047, org.springframework.security.web.access.ExceptionTranslationFilter@41718278, org.springframework.security.web.access.intercept.AuthorizationFilter@69d142f6]] (9/9)
2025-03-31T16:12:53.398-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-03-31T16:12:53.406-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T16:12:53.420-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T16:12:53.426-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T16:12:53.430-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T16:12:53.433-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T16:12:53.434-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T16:12:53.435-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T16:12:53.435-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T16:12:53.436-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T16:12:53.437-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T16:12:53.438-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T16:12:53.439-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T16:12:53.440-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T16:12:53.441-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T16:12:53.442-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-03-31T16:12:53.443-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T16:12:53.443-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T16:12:53.444-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T16:12:53.444-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T16:12:53.444-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T16:12:53.450-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T16:12:53.451-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T16:12:53.452-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T16:12:53.458-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-03-31T16:12:53.466-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000014a9badb9b0@404caf23
2025-03-31T16:12:53.479-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-03-31T16:12:53.485-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-03-31T16:12:53.491-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-03-31T16:12:54.426-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T16:12:54.436-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-31T16:12:54.442-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-31T16:12:59.353-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-03-31T16:12:59.354-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-03-31T16:12:59.355-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-03-31T16:12:59.355-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-03-31T16:12:59.356-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-03-31T16:12:59.356-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-03-31T16:12:59.357-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-03-31T16:12:59.357-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000014a9badb360@7053d6e2, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1375eaff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b82cbfb, org.springframework.security.web.context.SecurityContextHolderFilter@696faa2b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@33c5e228, org.springframework.security.web.header.HeaderWriterFilter@2a93ad09, org.springframework.security.web.csrf.CsrfFilter@37a26221, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@647ea319, org.springframework.security.web.authentication.logout.LogoutFilter@287cfa9c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@13a590f3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1503ef2, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2de08488, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@227497ef, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2f940a24, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@12046998, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5d676a02, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@550d3cd7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44ee4110, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a7882ea, org.springframework.security.web.access.ExceptionTranslationFilter@642bfa5e, org.springframework.security.web.access.intercept.AuthorizationFilter@50980f1c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@12f35f55, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7fdd29f3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@60fd51a1, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3f570944, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@14fda568]] (8/9)
2025-03-31T16:12:59.357-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4de839c1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71f60091, org.springframework.security.web.context.SecurityContextHolderFilter@3f471e59, org.springframework.security.web.header.HeaderWriterFilter@c634247, org.springframework.security.web.authentication.logout.LogoutFilter@1e9bc8, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@30df67b8, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7359781c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6592f06, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@289bb421, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@23ba2c1e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c0604af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48322f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ca6c047, org.springframework.security.web.access.ExceptionTranslationFilter@41718278, org.springframework.security.web.access.intercept.AuthorizationFilter@69d142f6]] (9/9)
2025-03-31T16:12:59.358-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /dashboard
2025-03-31T16:12:59.358-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T16:12:59.359-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T16:12:59.359-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T16:12:59.359-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T16:12:59.360-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T16:12:59.360-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T16:12:59.361-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T16:12:59.361-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T16:12:59.361-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T16:12:59.362-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T16:12:59.362-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T16:12:59.363-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T16:12:59.364-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T16:12:59.365-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T16:12:59.365-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-03-31T16:12:59.365-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T16:12:59.365-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T16:12:59.366-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T16:12:59.367-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T16:12:59.367-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T16:12:59.367-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T16:12:59.368-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T16:12:59.369-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T16:12:59.369-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /dashboard
2025-03-31T16:12:59.370-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /dashboard using org.springframework.security.authorization.AuthenticatedAuthorizationManager@55fd9159
2025-03-31T16:12:59.370-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-31T16:12:59.381-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:45) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-31T16:12:59.457-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/dashboard?continue to session
2025-03-31T16:12:59.467-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@6c5a347d, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-03-31T16:12:59.469-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@40b4a59c
2025-03-31T16:12:59.472-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-03-31T16:12:59.473-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T16:12:59.490-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-03-31T16:12:59.491-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-03-31T16:12:59.492-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-03-31T16:12:59.493-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-03-31T16:12:59.493-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-03-31T16:12:59.494-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-03-31T16:12:59.494-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-03-31T16:12:59.495-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000014a9badb360@7053d6e2, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1375eaff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b82cbfb, org.springframework.security.web.context.SecurityContextHolderFilter@696faa2b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@33c5e228, org.springframework.security.web.header.HeaderWriterFilter@2a93ad09, org.springframework.security.web.csrf.CsrfFilter@37a26221, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@647ea319, org.springframework.security.web.authentication.logout.LogoutFilter@287cfa9c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@13a590f3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1503ef2, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2de08488, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@227497ef, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2f940a24, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@12046998, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5d676a02, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@550d3cd7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44ee4110, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a7882ea, org.springframework.security.web.access.ExceptionTranslationFilter@642bfa5e, org.springframework.security.web.access.intercept.AuthorizationFilter@50980f1c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@12f35f55, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7fdd29f3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@60fd51a1, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3f570944, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@14fda568]] (8/9)
2025-03-31T16:12:59.497-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4de839c1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71f60091, org.springframework.security.web.context.SecurityContextHolderFilter@3f471e59, org.springframework.security.web.header.HeaderWriterFilter@c634247, org.springframework.security.web.authentication.logout.LogoutFilter@1e9bc8, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@30df67b8, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7359781c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6592f06, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@289bb421, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@23ba2c1e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c0604af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48322f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ca6c047, org.springframework.security.web.access.ExceptionTranslationFilter@41718278, org.springframework.security.web.access.intercept.AuthorizationFilter@69d142f6]] (9/9)
2025-03-31T16:12:59.497-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-03-31T16:12:59.497-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T16:12:59.498-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T16:12:59.499-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T16:12:59.499-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T16:12:59.499-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T16:12:59.501-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T16:12:59.502-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T16:12:59.502-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T16:12:59.503-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T16:12:59.503-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T16:12:59.503-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T16:12:59.503-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T16:12:59.503-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T16:12:59.504-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T16:12:59.505-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 78AACA005C9CC5CBFD44C4E8976169CB using the SPRING_SECURITY_CONTEXT session attribute
2025-03-31T16:12:59.505-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T16:12:59.505-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T16:12:59.505-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T16:12:59.506-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T16:12:59.506-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T16:12:59.506-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T16:12:59.506-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T16:12:59.507-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T16:12:59.509-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-03-31T16:12:59.509-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000014a9badb9b0@404caf23
2025-03-31T16:12:59.511-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-03-31T16:12:59.513-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-03-31T16:12:59.513-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-03-31T16:12:59.519-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T16:12:59.526-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-31T16:12:59.528-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=78AACA005C9CC5CBFD44C4E8976169CB], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-31T16:13:00.172-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-03-31T16:13:00.175-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-03-31T16:13:00.175-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-03-31T16:13:00.176-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-03-31T16:13:00.177-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-03-31T16:13:00.178-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-03-31T16:13:00.178-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-03-31T16:13:00.178-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000014a9badb360@7053d6e2, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1375eaff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b82cbfb, org.springframework.security.web.context.SecurityContextHolderFilter@696faa2b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@33c5e228, org.springframework.security.web.header.HeaderWriterFilter@2a93ad09, org.springframework.security.web.csrf.CsrfFilter@37a26221, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@647ea319, org.springframework.security.web.authentication.logout.LogoutFilter@287cfa9c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@13a590f3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1503ef2, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2de08488, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@227497ef, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2f940a24, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@12046998, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5d676a02, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@550d3cd7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44ee4110, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a7882ea, org.springframework.security.web.access.ExceptionTranslationFilter@642bfa5e, org.springframework.security.web.access.intercept.AuthorizationFilter@50980f1c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@12f35f55, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7fdd29f3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@60fd51a1, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3f570944, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@14fda568]] (8/9)
2025-03-31T16:13:00.178-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4de839c1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71f60091, org.springframework.security.web.context.SecurityContextHolderFilter@3f471e59, org.springframework.security.web.header.HeaderWriterFilter@c634247, org.springframework.security.web.authentication.logout.LogoutFilter@1e9bc8, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@30df67b8, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7359781c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6592f06, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@289bb421, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@23ba2c1e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c0604af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48322f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ca6c047, org.springframework.security.web.access.ExceptionTranslationFilter@41718278, org.springframework.security.web.access.intercept.AuthorizationFilter@69d142f6]] (9/9)
2025-03-31T16:13:00.179-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2025-03-31T16:13:00.179-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T16:13:00.179-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T16:13:00.179-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T16:13:00.180-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T16:13:00.180-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T16:13:00.181-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T16:13:00.181-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T16:13:00.182-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T16:13:00.182-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T16:13:00.182-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T16:13:00.182-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T16:13:00.183-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T16:13:00.184-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T16:13:00.184-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T16:13:00.184-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 78AACA005C9CC5CBFD44C4E8976169CB using the SPRING_SECURITY_CONTEXT session attribute
2025-03-31T16:13:00.185-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T16:13:00.185-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T16:13:00.185-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T16:13:00.186-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T16:13:00.186-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T16:13:00.187-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T16:13:00.187-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T16:13:00.187-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T16:13:00.188-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /favicon.ico
2025-03-31T16:13:00.189-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /favicon.ico using org.springframework.security.authorization.AuthenticatedAuthorizationManager@55fd9159
2025-03-31T16:13:00.190-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=78AACA005C9CC5CBFD44C4E8976169CB], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-31T16:13:00.190-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=78AACA005C9CC5CBFD44C4E8976169CB], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter.doFilterInternal(JwtCustomAuthenticationFilter.java:45) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-31T16:13:00.195-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Did not save request since it did not match [And [Not [Ant [pattern='/**/favicon.*']], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@6c5a347d, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[*/*]]], Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@6c5a347d, matchingMediaTypes=[multipart/form-data], useEquals=false, ignoredMediaTypes=[*/*]]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@6c5a347d, matchingMediaTypes=[text/event-stream], useEquals=false, ignoredMediaTypes=[*/*]]]]]
2025-03-31T16:13:00.195-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@6c5a347d, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-03-31T16:13:00.197-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@40b4a59c
2025-03-31T16:13:00.197-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-03-31T16:13:00.197-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T16:13:00.204-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-03-31T16:13:00.204-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-03-31T16:13:00.204-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-03-31T16:13:00.204-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-03-31T16:13:00.204-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-03-31T16:13:00.204-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-03-31T16:13:00.205-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-03-31T16:13:00.205-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000014a9badb360@7053d6e2, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1375eaff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b82cbfb, org.springframework.security.web.context.SecurityContextHolderFilter@696faa2b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@33c5e228, org.springframework.security.web.header.HeaderWriterFilter@2a93ad09, org.springframework.security.web.csrf.CsrfFilter@37a26221, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@647ea319, org.springframework.security.web.authentication.logout.LogoutFilter@287cfa9c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@13a590f3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1503ef2, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2de08488, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@227497ef, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2f940a24, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@12046998, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5d676a02, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@550d3cd7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44ee4110, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a7882ea, org.springframework.security.web.access.ExceptionTranslationFilter@642bfa5e, org.springframework.security.web.access.intercept.AuthorizationFilter@50980f1c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@12f35f55, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7fdd29f3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@60fd51a1, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3f570944, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@14fda568]] (8/9)
2025-03-31T16:13:00.206-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4de839c1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71f60091, org.springframework.security.web.context.SecurityContextHolderFilter@3f471e59, org.springframework.security.web.header.HeaderWriterFilter@c634247, org.springframework.security.web.authentication.logout.LogoutFilter@1e9bc8, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@30df67b8, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7359781c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6592f06, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@289bb421, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@23ba2c1e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c0604af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48322f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ca6c047, org.springframework.security.web.access.ExceptionTranslationFilter@41718278, org.springframework.security.web.access.intercept.AuthorizationFilter@69d142f6]] (9/9)
2025-03-31T16:13:00.206-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-03-31T16:13:00.206-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T16:13:00.207-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T16:13:00.207-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T16:13:00.208-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T16:13:00.208-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T16:13:00.209-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T16:13:00.209-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T16:13:00.210-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T16:13:00.210-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T16:13:00.211-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T16:13:00.211-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T16:13:00.211-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T16:13:00.212-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T16:13:00.212-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T16:13:00.212-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 78AACA005C9CC5CBFD44C4E8976169CB using the SPRING_SECURITY_CONTEXT session attribute
2025-03-31T16:13:00.213-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T16:13:00.213-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T16:13:00.213-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T16:13:00.214-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T16:13:00.214-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T16:13:00.214-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T16:13:00.214-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T16:13:00.215-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T16:13:00.215-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-03-31T16:13:00.216-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000014a9badb9b0@404caf23
2025-03-31T16:13:00.217-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-03-31T16:13:00.217-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-03-31T16:13:00.218-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-03-31T16:13:00.221-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T16:13:00.228-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-31T16:13:00.230-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=78AACA005C9CC5CBFD44C4E8976169CB], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-31T16:13:13.332-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-03-31T16:13:13.333-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-03-31T16:13:13.334-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-03-31T16:13:13.335-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-03-31T16:13:13.335-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-03-31T16:13:13.335-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-03-31T16:13:13.335-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-03-31T16:13:13.336-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000014a9badb360@7053d6e2, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1375eaff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b82cbfb, org.springframework.security.web.context.SecurityContextHolderFilter@696faa2b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@33c5e228, org.springframework.security.web.header.HeaderWriterFilter@2a93ad09, org.springframework.security.web.csrf.CsrfFilter@37a26221, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@647ea319, org.springframework.security.web.authentication.logout.LogoutFilter@287cfa9c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@13a590f3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1503ef2, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2de08488, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@227497ef, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2f940a24, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@12046998, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5d676a02, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@550d3cd7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44ee4110, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a7882ea, org.springframework.security.web.access.ExceptionTranslationFilter@642bfa5e, org.springframework.security.web.access.intercept.AuthorizationFilter@50980f1c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@12f35f55, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7fdd29f3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@60fd51a1, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3f570944, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@14fda568]] (8/9)
2025-03-31T16:13:13.336-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4de839c1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71f60091, org.springframework.security.web.context.SecurityContextHolderFilter@3f471e59, org.springframework.security.web.header.HeaderWriterFilter@c634247, org.springframework.security.web.authentication.logout.LogoutFilter@1e9bc8, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@30df67b8, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7359781c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6592f06, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@289bb421, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@23ba2c1e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c0604af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48322f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ca6c047, org.springframework.security.web.access.ExceptionTranslationFilter@41718278, org.springframework.security.web.access.intercept.AuthorizationFilter@69d142f6]] (9/9)
2025-03-31T16:13:13.337-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-03-31T16:13:13.337-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T16:13:13.338-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T16:13:13.340-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T16:13:13.340-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T16:13:13.341-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T16:13:13.342-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T16:13:13.342-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T16:13:13.343-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T16:13:13.344-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T16:13:13.344-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T16:13:13.356-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-03-31T16:13:14.780-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-9] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-03-31T16:13:14.781-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 78AACA005C9CC5CBFD44C4E8976169CB
2025-03-31T16:13:14.794-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=io.github.cursosb.libraryapi.security.CustomAuthentication@3b5ecd1f] to HttpSession [org.apache.catalina.session.StandardSessionFacade@68f68f90]
2025-03-31T16:13:14.795-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to io.github.cursosb.libraryapi.security.CustomAuthentication@3b5ecd1f
2025-03-31T16:13:14.796-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/dashboard?continue
2025-03-31T16:13:14.796-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T16:13:14.847-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-03-31T16:13:14.848-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-03-31T16:13:14.849-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-03-31T16:13:14.849-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-03-31T16:13:14.849-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-03-31T16:13:14.850-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-03-31T16:13:14.850-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-03-31T16:13:14.850-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000014a9badb360@7053d6e2, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1375eaff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b82cbfb, org.springframework.security.web.context.SecurityContextHolderFilter@696faa2b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@33c5e228, org.springframework.security.web.header.HeaderWriterFilter@2a93ad09, org.springframework.security.web.csrf.CsrfFilter@37a26221, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@647ea319, org.springframework.security.web.authentication.logout.LogoutFilter@287cfa9c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@13a590f3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1503ef2, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2de08488, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@227497ef, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2f940a24, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@12046998, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5d676a02, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@550d3cd7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44ee4110, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a7882ea, org.springframework.security.web.access.ExceptionTranslationFilter@642bfa5e, org.springframework.security.web.access.intercept.AuthorizationFilter@50980f1c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@12f35f55, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7fdd29f3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@60fd51a1, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3f570944, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@14fda568]] (8/9)
2025-03-31T16:13:14.851-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4de839c1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71f60091, org.springframework.security.web.context.SecurityContextHolderFilter@3f471e59, org.springframework.security.web.header.HeaderWriterFilter@c634247, org.springframework.security.web.authentication.logout.LogoutFilter@1e9bc8, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@30df67b8, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7359781c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6592f06, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@289bb421, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@23ba2c1e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c0604af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48322f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ca6c047, org.springframework.security.web.access.ExceptionTranslationFilter@41718278, org.springframework.security.web.access.intercept.AuthorizationFilter@69d142f6]] (9/9)
2025-03-31T16:13:14.852-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /dashboard?continue
2025-03-31T16:13:14.852-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T16:13:14.853-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T16:13:14.853-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T16:13:14.854-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T16:13:14.858-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T16:13:14.861-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T16:13:14.863-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T16:13:14.865-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T16:13:14.867-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T16:13:14.867-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T16:13:14.867-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T16:13:14.867-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T16:13:14.869-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T16:13:14.869-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T16:13:14.870-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=io.github.cursosb.libraryapi.security.CustomAuthentication@3b5ecd1f] from SPRING_SECURITY_CONTEXT
2025-03-31T16:13:14.870-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T16:13:14.917-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : Removing DefaultSavedRequest from session if present
2025-03-31T16:13:14.919-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8080/dashboard?continue
2025-03-31T16:13:14.928-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T16:13:14.937-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T16:13:14.940-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T16:13:14.943-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T16:13:14.948-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /dashboard?continue
2025-03-31T16:13:14.949-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /dashboard?continue using org.springframework.security.authorization.AuthenticatedAuthorizationManager@55fd9159
2025-03-31T16:13:14.952-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated io.github.cursosb.libraryapi.security.CustomAuthentication@3b5ecd1f
2025-03-31T16:13:14.957-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /dashboard?continue
2025-03-31T16:13:14.959-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/dashboard?continue", parameters={masked}
2025-03-31T16:13:14.970-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to io.github.cursosb.libraryapi.controller.DashboardController#dashboard(Model)
2025-03-31T16:13:15.646-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T16:13:15.661-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-31T16:13:16.255-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-03-31T16:13:16.257-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-03-31T16:13:16.258-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-03-31T16:13:16.259-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-03-31T16:13:16.260-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-03-31T16:13:16.262-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-03-31T16:13:16.264-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-03-31T16:13:16.266-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000014a9badb360@7053d6e2, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1375eaff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b82cbfb, org.springframework.security.web.context.SecurityContextHolderFilter@696faa2b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@33c5e228, org.springframework.security.web.header.HeaderWriterFilter@2a93ad09, org.springframework.security.web.csrf.CsrfFilter@37a26221, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@647ea319, org.springframework.security.web.authentication.logout.LogoutFilter@287cfa9c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@13a590f3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1503ef2, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2de08488, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@227497ef, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2f940a24, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@12046998, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5d676a02, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@550d3cd7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44ee4110, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a7882ea, org.springframework.security.web.access.ExceptionTranslationFilter@642bfa5e, org.springframework.security.web.access.intercept.AuthorizationFilter@50980f1c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@12f35f55, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7fdd29f3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@60fd51a1, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3f570944, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@14fda568]] (8/9)
2025-03-31T16:13:16.268-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4de839c1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71f60091, org.springframework.security.web.context.SecurityContextHolderFilter@3f471e59, org.springframework.security.web.header.HeaderWriterFilter@c634247, org.springframework.security.web.authentication.logout.LogoutFilter@1e9bc8, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@30df67b8, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7359781c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6592f06, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@289bb421, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@23ba2c1e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c0604af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48322f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ca6c047, org.springframework.security.web.access.ExceptionTranslationFilter@41718278, org.springframework.security.web.access.intercept.AuthorizationFilter@69d142f6]] (9/9)
2025-03-31T16:13:16.274-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /dashboard/updates
2025-03-31T16:13:16.275-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T16:13:16.278-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T16:13:16.281-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T16:13:16.282-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T16:13:16.283-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T16:13:16.283-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T16:13:16.284-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T16:13:16.284-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T16:13:16.284-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T16:13:16.285-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T16:13:16.285-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T16:13:16.286-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T16:13:16.286-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T16:13:16.287-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T16:13:16.287-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=io.github.cursosb.libraryapi.security.CustomAuthentication@3b5ecd1f] from SPRING_SECURITY_CONTEXT
2025-03-31T16:13:16.288-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T16:13:16.288-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T16:13:16.289-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T16:13:16.294-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T16:13:16.303-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T16:13:16.304-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T16:13:16.305-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /dashboard/updates
2025-03-31T16:13:16.308-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /dashboard/updates using org.springframework.security.authorization.AuthenticatedAuthorizationManager@55fd9159
2025-03-31T16:13:16.308-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated io.github.cursosb.libraryapi.security.CustomAuthentication@3b5ecd1f
2025-03-31T16:13:16.313-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /dashboard/updates
2025-03-31T16:13:16.315-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/dashboard/updates", parameters={}
2025-03-31T16:13:16.318-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to io.github.cursosb.libraryapi.controller.DashboardController#streamDashboardUpdates()
2025-03-31T16:13:16.335-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-03-31T16:13:16.335-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-03-31T16:13:16.335-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-03-31T16:13:16.335-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-03-31T16:13:16.337-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-03-31T16:13:16.337-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-03-31T16:13:16.338-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-03-31T16:13:16.338-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000014a9badb360@7053d6e2, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1375eaff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b82cbfb, org.springframework.security.web.context.SecurityContextHolderFilter@696faa2b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@33c5e228, org.springframework.security.web.header.HeaderWriterFilter@2a93ad09, org.springframework.security.web.csrf.CsrfFilter@37a26221, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@647ea319, org.springframework.security.web.authentication.logout.LogoutFilter@287cfa9c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@13a590f3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1503ef2, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2de08488, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@227497ef, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2f940a24, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@12046998, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5d676a02, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@550d3cd7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44ee4110, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a7882ea, org.springframework.security.web.access.ExceptionTranslationFilter@642bfa5e, org.springframework.security.web.access.intercept.AuthorizationFilter@50980f1c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@12f35f55, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7fdd29f3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@60fd51a1, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3f570944, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@14fda568]] (8/9)
2025-03-31T16:13:16.339-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4de839c1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71f60091, org.springframework.security.web.context.SecurityContextHolderFilter@3f471e59, org.springframework.security.web.header.HeaderWriterFilter@c634247, org.springframework.security.web.authentication.logout.LogoutFilter@1e9bc8, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@30df67b8, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7359781c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6592f06, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@289bb421, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@23ba2c1e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c0604af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48322f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ca6c047, org.springframework.security.web.access.ExceptionTranslationFilter@41718278, org.springframework.security.web.access.intercept.AuthorizationFilter@69d142f6]] (9/9)
2025-03-31T16:13:16.340-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2025-03-31T16:13:16.340-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T16:13:16.341-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T16:13:16.341-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T16:13:16.342-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T16:13:16.343-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T16:13:16.343-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T16:13:16.343-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T16:13:16.343-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T16:13:16.344-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T16:13:16.344-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T16:13:16.344-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T16:13:16.344-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T16:13:16.344-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T16:13:16.344-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T16:13:16.345-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=io.github.cursosb.libraryapi.security.CustomAuthentication@3b5ecd1f] from SPRING_SECURITY_CONTEXT
2025-03-31T16:13:16.345-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T16:13:16.346-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T16:13:16.346-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T16:13:16.346-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T16:13:16.346-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T16:13:16.346-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T16:13:16.350-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /favicon.ico
2025-03-31T16:13:16.350-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /favicon.ico using org.springframework.security.authorization.AuthenticatedAuthorizationManager@55fd9159
2025-03-31T16:13:16.351-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated io.github.cursosb.libraryapi.security.CustomAuthentication@3b5ecd1f
2025-03-31T16:13:16.352-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /favicon.ico
2025-03-31T16:13:16.353-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/favicon.ico", parameters={}
2025-03-31T16:13:16.356-03:00  WARN 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No mapping for GET /favicon.ico
2025-03-31T16:13:16.367-03:00  WARN 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No endpoint GET /favicon.ico.
2025-03-31T16:13:16.372-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T16:13:16.372-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/dashboard/updates"
2025-03-31T16:13:16.373-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /favicon.ico.]
2025-03-31T16:13:16.373-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-03-31T16:13:16.385-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-03-31T16:13:16.386-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T16:13:16.391-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-03-31T16:13:16.392-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-03-31T16:13:16.392-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-03-31T16:13:16.393-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-03-31T16:13:16.393-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-03-31T16:13:16.394-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-03-31T16:13:16.394-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-03-31T16:13:16.394-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000014a9badb360@7053d6e2, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1375eaff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b82cbfb, org.springframework.security.web.context.SecurityContextHolderFilter@696faa2b, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@33c5e228, org.springframework.security.web.header.HeaderWriterFilter@2a93ad09, org.springframework.security.web.csrf.CsrfFilter@37a26221, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@647ea319, org.springframework.security.web.authentication.logout.LogoutFilter@287cfa9c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@13a590f3, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@1503ef2, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@23180ee3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2de08488, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@227497ef, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2f940a24, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@12046998, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5d676a02, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@550d3cd7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44ee4110, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a7882ea, org.springframework.security.web.access.ExceptionTranslationFilter@642bfa5e, org.springframework.security.web.access.intercept.AuthorizationFilter@50980f1c, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@12f35f55, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7fdd29f3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@60fd51a1, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3f570944, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@14fda568]] (8/9)
2025-03-31T16:13:16.394-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4de839c1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71f60091, org.springframework.security.web.context.SecurityContextHolderFilter@3f471e59, org.springframework.security.web.header.HeaderWriterFilter@c634247, org.springframework.security.web.authentication.logout.LogoutFilter@1e9bc8, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@30df67b8, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7359781c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6592f06, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@289bb421, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@23ba2c1e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c0604af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48322f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ca6c047, org.springframework.security.web.access.ExceptionTranslationFilter@41718278, org.springframework.security.web.access.intercept.AuthorizationFilter@69d142f6]] (9/9)
2025-03-31T16:13:16.395-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-03-31T16:13:16.395-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T16:13:16.396-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T16:13:16.396-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T16:13:16.396-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T16:13:16.397-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T16:13:16.397-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T16:13:16.397-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T16:13:16.397-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T16:13:16.397-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T16:13:16.398-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T16:13:16.398-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T16:13:16.398-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T16:13:16.398-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T16:13:16.398-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T16:13:16.399-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T16:13:16.399-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T16:13:16.399-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T16:13:16.399-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T16:13:16.399-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T16:13:16.400-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-03-31T16:13:16.400-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@55fd9159
2025-03-31T16:13:16.400-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=io.github.cursosb.libraryapi.security.CustomAuthentication@3b5ecd1f] from SPRING_SECURITY_CONTEXT
2025-03-31T16:13:16.400-03:00 TRACE 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated io.github.cursosb.libraryapi.security.CustomAuthentication@3b5ecd1f
2025-03-31T16:13:16.401-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-03-31T16:13:16.402-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-03-31T16:13:16.404-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-03-31T16:13:16.411-03:00 TRACE 18364 --- [libraryapi] [pool-1-thread-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T16:13:16.441-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json]
2025-03-31T16:13:16.447-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Mar 31 16:13:16 BRT 2025, status=404, error=Not Found, path=/favicon.ico}]
2025-03-31T16:13:16.510-03:00 DEBUG 18364 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-03-31T16:19:42.114-03:00  INFO 12360 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 12360 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T16:19:42.116-03:00 DEBUG 12360 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T16:19:42.117-03:00  INFO 12360 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T16:19:50.247-03:00 DEBUG 12360 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-31T16:19:50.251-03:00 DEBUG 12360 --- [libraryapi] [main] i.g.c.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-31T16:19:52.300-03:00  WARN 12360 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-31T16:19:52.441-03:00 TRACE 12360 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfiguration=io.github.cursosb.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@4fc00158}
2025-03-31T16:19:52.447-03:00  INFO 12360 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-31T16:19:54.813-03:00 DEBUG 12360 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001c301ad9bd8@618dbfd4 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-31T16:19:55.175-03:00 DEBUG 12360 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 23 mappings in 'requestMappingHandlerMapping'
2025-03-31T16:19:55.256-03:00 DEBUG 12360 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-31T16:19:55.374-03:00 DEBUG 12360 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-31T16:19:56.365-03:00 DEBUG 12360 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-31T16:19:56.397-03:00  WARN 12360 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T16:19:56.398-03:00 DEBUG 12360 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-31T16:19:56.399-03:00  WARN 12360 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T16:19:56.400-03:00 DEBUG 12360 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-31T16:19:56.400-03:00  WARN 12360 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T16:19:56.401-03:00 DEBUG 12360 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-31T16:19:56.401-03:00  WARN 12360 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T16:19:56.402-03:00 DEBUG 12360 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-31T16:19:56.402-03:00  WARN 12360 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T16:19:56.402-03:00 DEBUG 12360 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-31T16:19:56.402-03:00  WARN 12360 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T16:19:56.403-03:00 DEBUG 12360 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-31T16:19:56.403-03:00  WARN 12360 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T16:19:56.404-03:00 DEBUG 12360 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]
2025-03-31T16:19:56.658-03:00 DEBUG 12360 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-31T16:19:56.786-03:00 DEBUG 12360 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-31T16:19:59.207-03:00 DEBUG 12360 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 1 mappings in 'requestMappingHandlerMapping'
2025-03-31T16:19:59.211-03:00 DEBUG 12360 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-31T16:19:59.225-03:00 DEBUG 12360 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-31T16:19:59.257-03:00 DEBUG 12360 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-31T16:19:59.331-03:00  INFO 12360 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 17.807 seconds (process running for 18.524)
2025-03-31T16:20:02.959-03:00  INFO 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-31T16:20:02.960-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-31T16:20:02.961-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-31T16:20:02.961-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-31T16:20:02.966-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1d88414a
2025-03-31T16:20:02.968-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2a59034e
2025-03-31T16:20:02.969-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-31T16:20:02.970-03:00  INFO 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2025-03-31T16:20:03.030-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-03-31T16:20:03.033-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-03-31T16:20:03.034-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-03-31T16:20:03.037-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-03-31T16:20:03.037-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-03-31T16:20:03.038-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-03-31T16:20:03.039-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-03-31T16:20:03.039-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001c301ad9bd8@618dbfd4, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@66ed3a81, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b58dfce, org.springframework.security.web.context.SecurityContextHolderFilter@585a2ad9, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3ed3990d, org.springframework.security.web.header.HeaderWriterFilter@580882fb, org.springframework.security.web.csrf.CsrfFilter@52ed42d6, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@23180ee3, org.springframework.security.web.authentication.logout.LogoutFilter@3be22500, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2f940a24, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@ba1edf4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@36f2a2a3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@7b28ce3c, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@647ea319, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2e1437aa, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4731c9af, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5ecc530, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2cf62699, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@95aa79c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b43c92b, org.springframework.security.web.access.ExceptionTranslationFilter@3e242f6e, org.springframework.security.web.access.intercept.AuthorizationFilter@87ef6de, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@12cd63a6, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@6659e7f5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5f84a1a6, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@6a2d066d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@2e652f4e]] (8/9)
2025-03-31T16:20:03.041-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2e159b36, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21a38547, org.springframework.security.web.context.SecurityContextHolderFilter@2492f6fb, org.springframework.security.web.header.HeaderWriterFilter@697b105e, org.springframework.security.web.authentication.logout.LogoutFilter@359c9b3b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@183c6db3, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6592f06, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@304394d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@43eb44f4, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@d319d2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61e7d7f2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40053c7a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c088812, org.springframework.security.web.access.ExceptionTranslationFilter@2a28bf25, org.springframework.security.web.access.intercept.AuthorizationFilter@31167d7]] (9/9)
2025-03-31T16:20:03.043-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-03-31T16:20:03.049-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T16:20:03.059-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T16:20:03.067-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T16:20:03.073-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T16:20:03.077-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T16:20:03.079-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T16:20:03.080-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T16:20:03.080-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T16:20:03.081-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T16:20:03.081-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T16:20:03.082-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T16:20:03.082-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T16:20:03.083-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T16:20:03.083-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T16:20:03.084-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-03-31T16:20:03.084-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T16:20:03.084-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T16:20:03.085-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T16:20:03.085-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T16:20:03.085-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T16:20:03.089-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T16:20:03.090-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T16:20:03.091-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T16:20:03.096-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-03-31T16:20:03.098-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001c301ada228@38e4b93f
2025-03-31T16:20:03.111-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-03-31T16:20:03.121-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-03-31T16:20:03.127-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-03-31T16:20:03.976-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T16:20:03.984-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-31T16:20:03.990-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-31T16:20:08.417-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-03-31T16:20:08.419-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-03-31T16:20:08.419-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-03-31T16:20:08.420-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-03-31T16:20:08.421-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-03-31T16:20:08.423-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-03-31T16:20:08.425-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-03-31T16:20:08.428-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001c301ad9bd8@618dbfd4, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@66ed3a81, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b58dfce, org.springframework.security.web.context.SecurityContextHolderFilter@585a2ad9, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3ed3990d, org.springframework.security.web.header.HeaderWriterFilter@580882fb, org.springframework.security.web.csrf.CsrfFilter@52ed42d6, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@23180ee3, org.springframework.security.web.authentication.logout.LogoutFilter@3be22500, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2f940a24, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@ba1edf4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@36f2a2a3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@7b28ce3c, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@647ea319, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2e1437aa, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4731c9af, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5ecc530, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2cf62699, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@95aa79c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b43c92b, org.springframework.security.web.access.ExceptionTranslationFilter@3e242f6e, org.springframework.security.web.access.intercept.AuthorizationFilter@87ef6de, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@12cd63a6, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@6659e7f5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5f84a1a6, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@6a2d066d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@2e652f4e]] (8/9)
2025-03-31T16:20:08.433-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2e159b36, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21a38547, org.springframework.security.web.context.SecurityContextHolderFilter@2492f6fb, org.springframework.security.web.header.HeaderWriterFilter@697b105e, org.springframework.security.web.authentication.logout.LogoutFilter@359c9b3b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@183c6db3, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6592f06, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@304394d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@43eb44f4, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@d319d2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61e7d7f2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40053c7a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c088812, org.springframework.security.web.access.ExceptionTranslationFilter@2a28bf25, org.springframework.security.web.access.intercept.AuthorizationFilter@31167d7]] (9/9)
2025-03-31T16:20:08.434-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-03-31T16:20:08.435-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T16:20:08.436-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T16:20:08.437-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T16:20:08.439-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T16:20:08.440-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T16:20:08.446-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T16:20:08.447-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T16:20:08.448-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T16:20:08.448-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T16:20:08.448-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T16:20:08.454-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-03-31T16:20:09.827-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-1] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-03-31T16:20:09.912-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=io.github.cursosb.libraryapi.security.CustomAuthentication@4d74a9eb] to HttpSession [org.apache.catalina.session.StandardSessionFacade@78def5fd]
2025-03-31T16:20:09.920-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to io.github.cursosb.libraryapi.security.CustomAuthentication@4d74a9eb
2025-03-31T16:20:09.923-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /
2025-03-31T16:20:09.924-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T16:20:09.961-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-03-31T16:20:09.962-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-03-31T16:20:09.962-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-03-31T16:20:09.962-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-03-31T16:20:09.964-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-03-31T16:20:09.967-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-03-31T16:20:09.970-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-03-31T16:20:09.975-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001c301ad9bd8@618dbfd4, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@66ed3a81, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b58dfce, org.springframework.security.web.context.SecurityContextHolderFilter@585a2ad9, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3ed3990d, org.springframework.security.web.header.HeaderWriterFilter@580882fb, org.springframework.security.web.csrf.CsrfFilter@52ed42d6, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@23180ee3, org.springframework.security.web.authentication.logout.LogoutFilter@3be22500, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2f940a24, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@ba1edf4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@36f2a2a3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@7b28ce3c, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@647ea319, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2e1437aa, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4731c9af, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5ecc530, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2cf62699, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@95aa79c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b43c92b, org.springframework.security.web.access.ExceptionTranslationFilter@3e242f6e, org.springframework.security.web.access.intercept.AuthorizationFilter@87ef6de, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@12cd63a6, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@6659e7f5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5f84a1a6, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@6a2d066d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@2e652f4e]] (8/9)
2025-03-31T16:20:09.976-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2e159b36, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21a38547, org.springframework.security.web.context.SecurityContextHolderFilter@2492f6fb, org.springframework.security.web.header.HeaderWriterFilter@697b105e, org.springframework.security.web.authentication.logout.LogoutFilter@359c9b3b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@183c6db3, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6592f06, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@304394d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@43eb44f4, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@d319d2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61e7d7f2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40053c7a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c088812, org.springframework.security.web.access.ExceptionTranslationFilter@2a28bf25, org.springframework.security.web.access.intercept.AuthorizationFilter@31167d7]] (9/9)
2025-03-31T16:20:09.976-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /
2025-03-31T16:20:09.978-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T16:20:09.979-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T16:20:09.981-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T16:20:09.983-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T16:20:09.987-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T16:20:09.989-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T16:20:09.989-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T16:20:09.990-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T16:20:09.991-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T16:20:09.992-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T16:20:09.994-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T16:20:09.995-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T16:20:09.995-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T16:20:09.996-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T16:20:09.996-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=io.github.cursosb.libraryapi.security.CustomAuthentication@4d74a9eb] from SPRING_SECURITY_CONTEXT
2025-03-31T16:20:09.996-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T16:20:09.997-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T16:20:09.997-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T16:20:09.997-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T16:20:09.998-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T16:20:09.998-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T16:20:09.999-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /
2025-03-31T16:20:10.005-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET / using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6dd98dda
2025-03-31T16:20:10.010-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated io.github.cursosb.libraryapi.security.CustomAuthentication@4d74a9eb
2025-03-31T16:20:10.013-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /
2025-03-31T16:20:10.014-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/", parameters={}
2025-03-31T16:20:10.015-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to io.github.cursosb.libraryapi.controller.LoginViewController#paginaHome(Authentication, Model)
2025-03-31T16:20:10.167-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T16:20:10.173-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-31T16:20:21.105-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-03-31T16:20:21.107-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-03-31T16:20:21.109-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-03-31T16:20:21.111-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-03-31T16:20:21.114-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-03-31T16:20:21.115-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-03-31T16:20:21.116-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-03-31T16:20:21.117-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001c301ad9bd8@618dbfd4, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@66ed3a81, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b58dfce, org.springframework.security.web.context.SecurityContextHolderFilter@585a2ad9, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3ed3990d, org.springframework.security.web.header.HeaderWriterFilter@580882fb, org.springframework.security.web.csrf.CsrfFilter@52ed42d6, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@23180ee3, org.springframework.security.web.authentication.logout.LogoutFilter@3be22500, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2f940a24, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@ba1edf4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@36f2a2a3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@7b28ce3c, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@647ea319, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2e1437aa, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4731c9af, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5ecc530, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2cf62699, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@95aa79c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b43c92b, org.springframework.security.web.access.ExceptionTranslationFilter@3e242f6e, org.springframework.security.web.access.intercept.AuthorizationFilter@87ef6de, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@12cd63a6, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@6659e7f5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5f84a1a6, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@6a2d066d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@2e652f4e]] (8/9)
2025-03-31T16:20:21.117-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2e159b36, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21a38547, org.springframework.security.web.context.SecurityContextHolderFilter@2492f6fb, org.springframework.security.web.header.HeaderWriterFilter@697b105e, org.springframework.security.web.authentication.logout.LogoutFilter@359c9b3b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@183c6db3, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6592f06, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@304394d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@43eb44f4, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@d319d2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61e7d7f2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40053c7a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c088812, org.springframework.security.web.access.ExceptionTranslationFilter@2a28bf25, org.springframework.security.web.access.intercept.AuthorizationFilter@31167d7]] (9/9)
2025-03-31T16:20:21.118-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /dashboard?continue
2025-03-31T16:20:21.119-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T16:20:21.119-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T16:20:21.121-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T16:20:21.122-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T16:20:21.122-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T16:20:21.122-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T16:20:21.122-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T16:20:21.122-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T16:20:21.123-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T16:20:21.123-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T16:20:21.123-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T16:20:21.123-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T16:20:21.124-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T16:20:21.127-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T16:20:21.129-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=io.github.cursosb.libraryapi.security.CustomAuthentication@4d74a9eb] from SPRING_SECURITY_CONTEXT
2025-03-31T16:20:21.129-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T16:20:21.167-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : No saved request
2025-03-31T16:20:21.168-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T16:20:21.169-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T16:20:21.170-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T16:20:21.171-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T16:20:21.172-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /dashboard?continue
2025-03-31T16:20:21.173-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /dashboard?continue using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6dd98dda
2025-03-31T16:20:21.174-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated io.github.cursosb.libraryapi.security.CustomAuthentication@4d74a9eb
2025-03-31T16:20:21.175-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /dashboard?continue
2025-03-31T16:20:21.176-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/dashboard?continue", parameters={masked}
2025-03-31T16:20:21.177-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to io.github.cursosb.libraryapi.controller.DashboardController#dashboard(Model)
2025-03-31T16:20:21.720-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T16:20:21.749-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-31T16:20:22.769-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-03-31T16:20:22.773-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-03-31T16:20:22.774-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-03-31T16:20:22.782-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-03-31T16:20:22.785-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-03-31T16:20:22.788-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-03-31T16:20:22.791-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-03-31T16:20:22.803-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001c301ad9bd8@618dbfd4, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@66ed3a81, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b58dfce, org.springframework.security.web.context.SecurityContextHolderFilter@585a2ad9, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3ed3990d, org.springframework.security.web.header.HeaderWriterFilter@580882fb, org.springframework.security.web.csrf.CsrfFilter@52ed42d6, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@23180ee3, org.springframework.security.web.authentication.logout.LogoutFilter@3be22500, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@2f940a24, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@ba1edf4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@36f2a2a3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@7b28ce3c, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@647ea319, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2e1437aa, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4731c9af, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5ecc530, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2cf62699, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@95aa79c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b43c92b, org.springframework.security.web.access.ExceptionTranslationFilter@3e242f6e, org.springframework.security.web.access.intercept.AuthorizationFilter@87ef6de, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@12cd63a6, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@6659e7f5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5f84a1a6, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@6a2d066d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@2e652f4e]] (8/9)
2025-03-31T16:20:22.805-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2e159b36, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21a38547, org.springframework.security.web.context.SecurityContextHolderFilter@2492f6fb, org.springframework.security.web.header.HeaderWriterFilter@697b105e, org.springframework.security.web.authentication.logout.LogoutFilter@359c9b3b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@183c6db3, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6592f06, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@304394d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@43eb44f4, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@d319d2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61e7d7f2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40053c7a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c088812, org.springframework.security.web.access.ExceptionTranslationFilter@2a28bf25, org.springframework.security.web.access.intercept.AuthorizationFilter@31167d7]] (9/9)
2025-03-31T16:20:22.806-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /dashboard/updates
2025-03-31T16:20:22.807-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T16:20:22.809-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T16:20:22.810-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T16:20:22.813-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T16:20:22.815-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T16:20:22.817-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T16:20:22.818-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T16:20:22.820-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T16:20:22.820-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T16:20:22.821-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T16:20:22.822-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T16:20:22.824-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T16:20:22.826-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T16:20:22.828-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T16:20:22.828-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=io.github.cursosb.libraryapi.security.CustomAuthentication@4d74a9eb] from SPRING_SECURITY_CONTEXT
2025-03-31T16:20:22.828-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T16:20:22.829-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T16:20:22.829-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T16:20:22.829-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T16:20:22.830-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T16:20:22.830-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T16:20:22.831-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /dashboard/updates
2025-03-31T16:20:22.831-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /dashboard/updates using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6dd98dda
2025-03-31T16:20:22.831-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated io.github.cursosb.libraryapi.security.CustomAuthentication@4d74a9eb
2025-03-31T16:20:22.833-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /dashboard/updates
2025-03-31T16:20:22.833-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/dashboard/updates", parameters={}
2025-03-31T16:20:22.836-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to io.github.cursosb.libraryapi.controller.DashboardController#streamDashboardUpdates()
2025-03-31T16:20:22.923-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/dashboard/updates"
2025-03-31T16:20:22.945-03:00 DEBUG 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-03-31T16:20:22.947-03:00 TRACE 12360 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T16:20:22.983-03:00 TRACE 12360 --- [libraryapi] [pool-1-thread-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T16:37:14.345-03:00  INFO 17976 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 17976 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T16:37:14.348-03:00 DEBUG 17976 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T16:37:14.349-03:00  INFO 17976 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T16:37:21.376-03:00 ERROR 17976 --- [libraryapi] [main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtCustomAuthenticationFilter' defined in file [C:\Users\gaabr\git\repository4\libraryapi\target\classes\io\github\cursosb\libraryapi\security\JwtCustomAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'usuarioService' defined in file [C:\Users\gaabr\git\repository4\libraryapi\target\classes\io\github\cursosb\libraryapi\service\UsuarioService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'usuarioRepository' defined in io.github.cursosb.libraryapi.repository.UsuarioRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Reason: Failed to create query for method public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Operand of 'member of' operator must be a plural path
2025-03-31T16:37:21.416-03:00  WARN 17976 --- [libraryapi] [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1758)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1583)
2025-03-31T16:37:21.417-03:00  WARN 17976 --- [libraryapi] [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1758)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1583)
2025-03-31T16:37:21.421-03:00  WARN 17976 --- [libraryapi] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-03-31T16:37:21.492-03:00 ERROR 17976 --- [libraryapi] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:619) ~[spring-context-6.1.13.jar:6.1.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.4.jar:3.3.4]
	at io.github.cursosb.libraryapi.LibraryapiApplication.main(LibraryapiApplication.java:27) ~[classes/:na]
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:516) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:222) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-3.3.4.jar:3.3.4]
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtCustomAuthenticationFilter' defined in file [C:\Users\gaabr\git\repository4\libraryapi\target\classes\io\github\cursosb\libraryapi\security\JwtCustomAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'usuarioService' defined in file [C:\Users\gaabr\git\repository4\libraryapi\target\classes\io\github\cursosb\libraryapi\service\UsuarioService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'usuarioRepository' defined in io.github.cursosb.libraryapi.repository.UsuarioRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Reason: Failed to create query for method public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Operand of 'member of' operator must be a plural path
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:174) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:169) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:154) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4412) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128) ~[spring-boot-3.3.4.jar:3.3.4]
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'usuarioService' defined in file [C:\Users\gaabr\git\repository4\libraryapi\target\classes\io\github\cursosb\libraryapi\service\UsuarioService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'usuarioRepository' defined in io.github.cursosb.libraryapi.repository.UsuarioRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Reason: Failed to create query for method public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Operand of 'member of' operator must be a plural path
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.13.jar:6.1.13]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usuarioRepository' defined in io.github.cursosb.libraryapi.repository.UsuarioRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Reason: Failed to create query for method public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Operand of 'member of' operator must be a plural path
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.13.jar:6.1.13]
	... 68 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Reason: Failed to create query for method public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Operand of 'member of' operator must be a plural path
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:119) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:103) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:286) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:292) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.13.jar:6.1.13]
	... 79 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Operand of 'member of' operator must be a plural path
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:124) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:258) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115) ~[spring-data-commons-3.3.4.jar:3.3.4]
	... 91 common frames omitted
Caused by: org.hibernate.query.SemanticException: Operand of 'member of' operator must be a plural path
	at org.hibernate.query.sqm.internal.SqmCriteriaNodeBuilder.createSqmMemberOfPredicate(SqmCriteriaNodeBuilder.java:2428) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.sqm.internal.SqmCriteriaNodeBuilder.isMember(SqmCriteriaNodeBuilder.java:2405) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.sqm.internal.SqmCriteriaNodeBuilder.isMember(SqmCriteriaNodeBuilder.java:190) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryCreator$PredicateBuilder.isMember(JpaQueryCreator.java:333) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.JpaQueryCreator$PredicateBuilder.build(JpaQueryCreator.java:292) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.JpaQueryCreator.toPredicate(JpaQueryCreator.java:210) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.JpaQueryCreator.create(JpaQueryCreator.java:121) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.JpaQueryCreator.create(JpaQueryCreator.java:1) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.query.parser.AbstractQueryCreator.createCriteria(AbstractQueryCreator.java:119) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.query.parser.AbstractQueryCreator.createQuery(AbstractQueryCreator.java:95) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.query.parser.AbstractQueryCreator.createQuery(AbstractQueryCreator.java:81) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery$QueryPreparer.<init>(PartTreeJpaQuery.java:224) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery$CountQueryPreparer.<init>(PartTreeJpaQuery.java:370) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:103) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	... 95 common frames omitted

2025-03-31T16:48:55.820-03:00  INFO 4344 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 4344 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T16:48:55.823-03:00 DEBUG 4344 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T16:48:55.824-03:00  INFO 4344 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T16:49:02.553-03:00 ERROR 4344 --- [libraryapi] [main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtCustomAuthenticationFilter' defined in file [C:\Users\gaabr\git\repository4\libraryapi\target\classes\io\github\cursosb\libraryapi\security\JwtCustomAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'usuarioService' defined in file [C:\Users\gaabr\git\repository4\libraryapi\target\classes\io\github\cursosb\libraryapi\service\UsuarioService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'usuarioRepository' defined in io.github.cursosb.libraryapi.repository.UsuarioRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Reason: Failed to create query for method public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Operand of 'member of' operator must be a plural path
2025-03-31T16:49:02.597-03:00  WARN 4344 --- [libraryapi] [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1758)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1583)
2025-03-31T16:49:02.598-03:00  WARN 4344 --- [libraryapi] [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1758)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1583)
2025-03-31T16:49:02.602-03:00  WARN 4344 --- [libraryapi] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-03-31T16:49:02.683-03:00 ERROR 4344 --- [libraryapi] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:619) ~[spring-context-6.1.13.jar:6.1.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.4.jar:3.3.4]
	at io.github.cursosb.libraryapi.LibraryapiApplication.main(LibraryapiApplication.java:27) ~[classes/:na]
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:516) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:222) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-3.3.4.jar:3.3.4]
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtCustomAuthenticationFilter' defined in file [C:\Users\gaabr\git\repository4\libraryapi\target\classes\io\github\cursosb\libraryapi\security\JwtCustomAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'usuarioService' defined in file [C:\Users\gaabr\git\repository4\libraryapi\target\classes\io\github\cursosb\libraryapi\service\UsuarioService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'usuarioRepository' defined in io.github.cursosb.libraryapi.repository.UsuarioRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Reason: Failed to create query for method public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Operand of 'member of' operator must be a plural path
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:174) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:169) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:154) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4412) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128) ~[spring-boot-3.3.4.jar:3.3.4]
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'usuarioService' defined in file [C:\Users\gaabr\git\repository4\libraryapi\target\classes\io\github\cursosb\libraryapi\service\UsuarioService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'usuarioRepository' defined in io.github.cursosb.libraryapi.repository.UsuarioRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Reason: Failed to create query for method public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Operand of 'member of' operator must be a plural path
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.13.jar:6.1.13]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usuarioRepository' defined in io.github.cursosb.libraryapi.repository.UsuarioRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Reason: Failed to create query for method public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Operand of 'member of' operator must be a plural path
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.13.jar:6.1.13]
	... 68 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Reason: Failed to create query for method public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Operand of 'member of' operator must be a plural path
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:119) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:103) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:286) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:292) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.13.jar:6.1.13]
	... 79 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Operand of 'member of' operator must be a plural path
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:124) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:258) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115) ~[spring-data-commons-3.3.4.jar:3.3.4]
	... 91 common frames omitted
Caused by: org.hibernate.query.SemanticException: Operand of 'member of' operator must be a plural path
	at org.hibernate.query.sqm.internal.SqmCriteriaNodeBuilder.createSqmMemberOfPredicate(SqmCriteriaNodeBuilder.java:2428) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.sqm.internal.SqmCriteriaNodeBuilder.isMember(SqmCriteriaNodeBuilder.java:2405) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.sqm.internal.SqmCriteriaNodeBuilder.isMember(SqmCriteriaNodeBuilder.java:190) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryCreator$PredicateBuilder.isMember(JpaQueryCreator.java:333) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.JpaQueryCreator$PredicateBuilder.build(JpaQueryCreator.java:292) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.JpaQueryCreator.toPredicate(JpaQueryCreator.java:210) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.JpaQueryCreator.create(JpaQueryCreator.java:121) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.JpaQueryCreator.create(JpaQueryCreator.java:1) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.query.parser.AbstractQueryCreator.createCriteria(AbstractQueryCreator.java:119) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.query.parser.AbstractQueryCreator.createQuery(AbstractQueryCreator.java:95) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.query.parser.AbstractQueryCreator.createQuery(AbstractQueryCreator.java:81) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery$QueryPreparer.<init>(PartTreeJpaQuery.java:224) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery$CountQueryPreparer.<init>(PartTreeJpaQuery.java:370) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:103) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	... 95 common frames omitted

2025-03-31T16:53:17.438-03:00  INFO 9544 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 9544 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T16:53:17.440-03:00 DEBUG 9544 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T16:53:17.441-03:00  INFO 9544 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T16:53:24.018-03:00 ERROR 9544 --- [libraryapi] [main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtCustomAuthenticationFilter' defined in file [C:\Users\gaabr\git\repository4\libraryapi\target\classes\io\github\cursosb\libraryapi\security\JwtCustomAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'usuarioService' defined in file [C:\Users\gaabr\git\repository4\libraryapi\target\classes\io\github\cursosb\libraryapi\service\UsuarioService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'usuarioRepository' defined in io.github.cursosb.libraryapi.repository.UsuarioRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Reason: Failed to create query for method public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Operand of 'member of' operator must be a plural path
2025-03-31T16:53:24.056-03:00  WARN 9544 --- [libraryapi] [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1758)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1583)
2025-03-31T16:53:24.056-03:00  WARN 9544 --- [libraryapi] [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1758)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1583)
2025-03-31T16:53:24.059-03:00  WARN 9544 --- [libraryapi] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-03-31T16:53:24.125-03:00 ERROR 9544 --- [libraryapi] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:619) ~[spring-context-6.1.13.jar:6.1.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.4.jar:3.3.4]
	at io.github.cursosb.libraryapi.LibraryapiApplication.main(LibraryapiApplication.java:27) ~[classes/:na]
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:516) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:222) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-3.3.4.jar:3.3.4]
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtCustomAuthenticationFilter' defined in file [C:\Users\gaabr\git\repository4\libraryapi\target\classes\io\github\cursosb\libraryapi\security\JwtCustomAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'usuarioService' defined in file [C:\Users\gaabr\git\repository4\libraryapi\target\classes\io\github\cursosb\libraryapi\service\UsuarioService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'usuarioRepository' defined in io.github.cursosb.libraryapi.repository.UsuarioRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Reason: Failed to create query for method public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Operand of 'member of' operator must be a plural path
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:174) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:169) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:154) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4412) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128) ~[spring-boot-3.3.4.jar:3.3.4]
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'usuarioService' defined in file [C:\Users\gaabr\git\repository4\libraryapi\target\classes\io\github\cursosb\libraryapi\service\UsuarioService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'usuarioRepository' defined in io.github.cursosb.libraryapi.repository.UsuarioRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Reason: Failed to create query for method public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Operand of 'member of' operator must be a plural path
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.13.jar:6.1.13]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usuarioRepository' defined in io.github.cursosb.libraryapi.repository.UsuarioRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Reason: Failed to create query for method public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Operand of 'member of' operator must be a plural path
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.13.jar:6.1.13]
	... 68 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Reason: Failed to create query for method public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Operand of 'member of' operator must be a plural path
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:119) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:103) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:286) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:292) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.13.jar:6.1.13]
	... 79 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract long io.github.cursosb.libraryapi.repository.UsuarioRepository.countByRolesContaining(java.lang.String); Operand of 'member of' operator must be a plural path
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:124) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:258) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115) ~[spring-data-commons-3.3.4.jar:3.3.4]
	... 91 common frames omitted
Caused by: org.hibernate.query.SemanticException: Operand of 'member of' operator must be a plural path
	at org.hibernate.query.sqm.internal.SqmCriteriaNodeBuilder.createSqmMemberOfPredicate(SqmCriteriaNodeBuilder.java:2428) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.sqm.internal.SqmCriteriaNodeBuilder.isMember(SqmCriteriaNodeBuilder.java:2405) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.sqm.internal.SqmCriteriaNodeBuilder.isMember(SqmCriteriaNodeBuilder.java:190) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryCreator$PredicateBuilder.isMember(JpaQueryCreator.java:333) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.JpaQueryCreator$PredicateBuilder.build(JpaQueryCreator.java:292) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.JpaQueryCreator.toPredicate(JpaQueryCreator.java:210) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.JpaQueryCreator.create(JpaQueryCreator.java:121) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.JpaQueryCreator.create(JpaQueryCreator.java:1) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.query.parser.AbstractQueryCreator.createCriteria(AbstractQueryCreator.java:119) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.query.parser.AbstractQueryCreator.createQuery(AbstractQueryCreator.java:95) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.repository.query.parser.AbstractQueryCreator.createQuery(AbstractQueryCreator.java:81) ~[spring-data-commons-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery$QueryPreparer.<init>(PartTreeJpaQuery.java:224) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery$CountQueryPreparer.<init>(PartTreeJpaQuery.java:370) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:103) ~[spring-data-jpa-3.3.4.jar:3.3.4]
	... 95 common frames omitted

2025-03-31T16:56:49.914-03:00  INFO 17776 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.1 with PID 17776 (C:\Users\gaabr\git\repository4\libraryapi\target\classes started by gaabr in C:\Users\gaabr\git\repository4\libraryapi)
2025-03-31T16:56:49.916-03:00 DEBUG 17776 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-03-31T16:56:49.918-03:00  INFO 17776 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-31T16:56:56.604-03:00 DEBUG 17776 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-31T16:56:56.607-03:00 DEBUG 17776 --- [libraryapi] [main] i.g.c.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-31T16:56:57.889-03:00  WARN 17776 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-31T16:56:57.953-03:00 TRACE 17776 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfiguration=io.github.cursosb.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@a9f7cf8}
2025-03-31T16:56:57.957-03:00  INFO 17776 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-31T16:56:58.581-03:00 DEBUG 17776 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000019ea9ad7468@5aadad55 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-31T16:56:58.722-03:00 DEBUG 17776 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-31T16:56:58.749-03:00 DEBUG 17776 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-31T16:56:58.796-03:00 DEBUG 17776 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-31T16:56:59.242-03:00 DEBUG 17776 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-31T16:56:59.260-03:00  WARN 17776 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T16:56:59.261-03:00 DEBUG 17776 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-31T16:56:59.261-03:00  WARN 17776 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T16:56:59.261-03:00 DEBUG 17776 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-31T16:56:59.261-03:00  WARN 17776 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T16:56:59.261-03:00 DEBUG 17776 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-31T16:56:59.261-03:00  WARN 17776 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T16:56:59.261-03:00 DEBUG 17776 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-31T16:56:59.262-03:00  WARN 17776 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T16:56:59.262-03:00 DEBUG 17776 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-31T16:56:59.262-03:00  WARN 17776 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T16:56:59.262-03:00 DEBUG 17776 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-31T16:56:59.262-03:00  WARN 17776 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-31T16:56:59.262-03:00 DEBUG 17776 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]
2025-03-31T16:56:59.367-03:00 DEBUG 17776 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-31T16:56:59.421-03:00 DEBUG 17776 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-31T16:57:00.427-03:00 DEBUG 17776 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 1 mappings in 'requestMappingHandlerMapping'
2025-03-31T16:57:00.430-03:00 DEBUG 17776 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-31T16:57:00.439-03:00 DEBUG 17776 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-31T16:57:00.454-03:00 DEBUG 17776 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-31T16:57:00.489-03:00  INFO 17776 --- [libraryapi] [main] i.g.c.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 11.177 seconds (process running for 11.707)
2025-03-31T16:57:04.909-03:00  INFO 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-31T16:57:04.911-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-31T16:57:04.914-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-31T16:57:04.916-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-31T16:57:04.919-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@242b48ef
2025-03-31T16:57:04.923-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3e2d5b6
2025-03-31T16:57:04.925-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-31T16:57:04.925-03:00  INFO 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms
2025-03-31T16:57:04.974-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-03-31T16:57:04.977-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-03-31T16:57:04.979-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-03-31T16:57:04.979-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-03-31T16:57:04.980-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-03-31T16:57:04.981-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-03-31T16:57:04.982-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-03-31T16:57:04.983-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000019ea9ad7468@5aadad55, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@43d9161e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@570f0cd3, org.springframework.security.web.context.SecurityContextHolderFilter@249b2dd4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@4e8fab14, org.springframework.security.web.header.HeaderWriterFilter@11514c77, org.springframework.security.web.csrf.CsrfFilter@95aa79c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5c608988, org.springframework.security.web.authentication.logout.LogoutFilter@313c7515, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1fa81c78, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@6caffb24, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@36ccc844, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2dbdd3f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@361a1ec3, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7aeb4c8a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5c1a728, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@12046998, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4127f82a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f37f2e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e3b032e, org.springframework.security.web.access.ExceptionTranslationFilter@7ae5231c, org.springframework.security.web.access.intercept.AuthorizationFilter@53080ec0, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@36d56d5d, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@66d1cdea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@134b19ae, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7b28ce3c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3cf828db]] (8/9)
2025-03-31T16:57:04.983-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4eb50d60, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45578b4e, org.springframework.security.web.context.SecurityContextHolderFilter@48322f0, org.springframework.security.web.header.HeaderWriterFilter@2c0604af, org.springframework.security.web.authentication.logout.LogoutFilter@17556c0a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7240599c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@8e164f2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@69d142f6, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1eb08757, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@367e0b0e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b7e6e2d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e9bc8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a916ea3, org.springframework.security.web.access.ExceptionTranslationFilter@3f471e59, org.springframework.security.web.access.intercept.AuthorizationFilter@5aa943c5]] (9/9)
2025-03-31T16:57:04.985-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-03-31T16:57:04.991-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T16:57:05.007-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T16:57:05.015-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T16:57:05.019-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T16:57:05.024-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T16:57:05.025-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T16:57:05.026-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T16:57:05.027-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T16:57:05.027-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T16:57:05.028-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T16:57:05.028-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T16:57:05.028-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T16:57:05.029-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T16:57:05.030-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T16:57:05.031-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-03-31T16:57:05.031-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T16:57:05.031-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T16:57:05.032-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T16:57:05.032-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T16:57:05.033-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T16:57:05.036-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T16:57:05.038-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T16:57:05.039-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T16:57:05.044-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-03-31T16:57:05.047-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000019ea9ad7ab8@45763485
2025-03-31T16:57:05.055-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-03-31T16:57:05.064-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-03-31T16:57:05.068-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-03-31T16:57:05.926-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T16:57:05.936-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-31T16:57:05.940-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-31T16:57:11.301-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-03-31T16:57:11.310-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-03-31T16:57:11.313-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-03-31T16:57:11.315-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-03-31T16:57:11.318-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-03-31T16:57:11.321-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-03-31T16:57:11.324-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-03-31T16:57:11.333-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000019ea9ad7468@5aadad55, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@43d9161e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@570f0cd3, org.springframework.security.web.context.SecurityContextHolderFilter@249b2dd4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@4e8fab14, org.springframework.security.web.header.HeaderWriterFilter@11514c77, org.springframework.security.web.csrf.CsrfFilter@95aa79c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5c608988, org.springframework.security.web.authentication.logout.LogoutFilter@313c7515, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1fa81c78, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@6caffb24, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@36ccc844, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2dbdd3f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@361a1ec3, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7aeb4c8a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5c1a728, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@12046998, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4127f82a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f37f2e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e3b032e, org.springframework.security.web.access.ExceptionTranslationFilter@7ae5231c, org.springframework.security.web.access.intercept.AuthorizationFilter@53080ec0, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@36d56d5d, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@66d1cdea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@134b19ae, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7b28ce3c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3cf828db]] (8/9)
2025-03-31T16:57:11.334-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4eb50d60, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45578b4e, org.springframework.security.web.context.SecurityContextHolderFilter@48322f0, org.springframework.security.web.header.HeaderWriterFilter@2c0604af, org.springframework.security.web.authentication.logout.LogoutFilter@17556c0a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7240599c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@8e164f2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@69d142f6, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1eb08757, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@367e0b0e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b7e6e2d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e9bc8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a916ea3, org.springframework.security.web.access.ExceptionTranslationFilter@3f471e59, org.springframework.security.web.access.intercept.AuthorizationFilter@5aa943c5]] (9/9)
2025-03-31T16:57:11.335-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-03-31T16:57:11.335-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T16:57:11.336-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T16:57:11.337-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T16:57:11.338-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T16:57:11.338-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T16:57:11.339-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T16:57:11.339-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T16:57:11.496-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=662945896957-mvtncnd0cr1hku3hv20udg2ds8kv8lsc.apps.googleusercontent.com&scope=openid%20profile%20email&state=n_Ni0bWxn3LHfuxPxS0FuzwsPIJ7fekgpVGqjHEXpb0%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google&nonce=zinEFUwZzrz3A-v5jjODqID1aRNl7RtsiMFHJsgJwhg
2025-03-31T16:57:11.497-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T16:57:15.607-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-03-31T16:57:15.607-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-03-31T16:57:15.608-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-03-31T16:57:15.609-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-03-31T16:57:15.609-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-03-31T16:57:15.610-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-03-31T16:57:15.610-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-03-31T16:57:15.611-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000019ea9ad7468@5aadad55, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@43d9161e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@570f0cd3, org.springframework.security.web.context.SecurityContextHolderFilter@249b2dd4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@4e8fab14, org.springframework.security.web.header.HeaderWriterFilter@11514c77, org.springframework.security.web.csrf.CsrfFilter@95aa79c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5c608988, org.springframework.security.web.authentication.logout.LogoutFilter@313c7515, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1fa81c78, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@6caffb24, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@36ccc844, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2dbdd3f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@361a1ec3, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7aeb4c8a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5c1a728, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@12046998, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4127f82a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f37f2e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e3b032e, org.springframework.security.web.access.ExceptionTranslationFilter@7ae5231c, org.springframework.security.web.access.intercept.AuthorizationFilter@53080ec0, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@36d56d5d, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@66d1cdea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@134b19ae, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7b28ce3c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3cf828db]] (8/9)
2025-03-31T16:57:15.611-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4eb50d60, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45578b4e, org.springframework.security.web.context.SecurityContextHolderFilter@48322f0, org.springframework.security.web.header.HeaderWriterFilter@2c0604af, org.springframework.security.web.authentication.logout.LogoutFilter@17556c0a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7240599c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@8e164f2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@69d142f6, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1eb08757, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@367e0b0e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b7e6e2d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e9bc8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a916ea3, org.springframework.security.web.access.ExceptionTranslationFilter@3f471e59, org.springframework.security.web.access.intercept.AuthorizationFilter@5aa943c5]] (9/9)
2025-03-31T16:57:15.612-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=n_Ni0bWxn3LHfuxPxS0FuzwsPIJ7fekgpVGqjHEXpb0%3D&code=4%2F0AQSTgQGnC1xJTuffaJWQle2mPtIog1lnXrJVWI6TFrVFHI7KNqtuz94nlmi4H2k6DEHycw&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=0&prompt=none
2025-03-31T16:57:15.612-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T16:57:15.615-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T16:57:15.615-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T16:57:15.616-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T16:57:15.616-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T16:57:15.617-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T16:57:15.617-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T16:57:15.618-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T16:57:15.633-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2LoginAuthenticationProvider (1/4)
2025-03-31T16:57:15.634-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OidcAuthorizationCodeAuthenticationProvider (2/4)
2025-03-31T16:57:15.972-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : HTTP POST https://www.googleapis.com/oauth2/v4/token
2025-03-31T16:57:15.983-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-03-31T16:57:15.987-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Writing [{grant_type=[authorization_code], code=[4/0AQSTgQGnC1xJTuffaJWQle2mPtIog1lnXrJVWI6TFrVFHI7KNqtuz94nlmi4H2k6DEHycw], redirect_uri=[http://localhost:8080/login/oauth2/code/google]}] as "application/x-www-form-urlencoded;charset=UTF-8"
2025-03-31T16:57:17.045-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2025-03-31T16:57:17.051-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Reading to [org.springframework.security.oauth2.core.endpoint.OAuth2AccessTokenResponse] as "application/json;charset=utf-8"
2025-03-31T16:57:17.362-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : HTTP GET https://www.googleapis.com/oauth2/v3/certs
2025-03-31T16:57:17.365-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2025-03-31T16:57:17.613-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2025-03-31T16:57:17.613-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json;charset=UTF-8"
2025-03-31T16:57:17.652-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-1] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-03-31T16:57:17.653-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 82677A0012E2977A413CA80EB0645A65
2025-03-31T16:57:17.656-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [106159094357514674198], Granted Authorities: [[OIDC_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{at_hash=HdURap7st_L7xNZ2kAVXqw, aud=[662945896957-mvtncnd0cr1hku3hv20udg2ds8kv8lsc.apps.googleusercontent.com], sub=106159094357514674198, email_verified=true, azp=662945896957-mvtncnd0cr1hku3hv20udg2ds8kv8lsc.apps.googleusercontent.com, iss=https://accounts.google.com, name=Astro, given_name=Astro, exp=2025-03-31T20:57:15Z, nonce=zinEFUwZzrz3A-v5jjODqID1aRNl7RtsiMFHJsgJwhg, iat=2025-03-31T19:57:15Z, email=gaabrieloool@gmail.com}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=82677A0012E2977A413CA80EB0645A65], Granted Authorities=[OIDC_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@7aba971e]
2025-03-31T16:57:17.657-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [106159094357514674198], Granted Authorities: [[OIDC_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{at_hash=HdURap7st_L7xNZ2kAVXqw, aud=[662945896957-mvtncnd0cr1hku3hv20udg2ds8kv8lsc.apps.googleusercontent.com], sub=106159094357514674198, email_verified=true, azp=662945896957-mvtncnd0cr1hku3hv20udg2ds8kv8lsc.apps.googleusercontent.com, iss=https://accounts.google.com, name=Astro, given_name=Astro, exp=2025-03-31T20:57:15Z, nonce=zinEFUwZzrz3A-v5jjODqID1aRNl7RtsiMFHJsgJwhg, iat=2025-03-31T19:57:15Z, email=gaabrieloool@gmail.com}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=82677A0012E2977A413CA80EB0645A65], Granted Authorities=[OIDC_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-03-31T16:57:18.193-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /
2025-03-31T16:57:18.194-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T16:57:18.213-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-03-31T16:57:18.214-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-03-31T16:57:18.214-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-03-31T16:57:18.214-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-03-31T16:57:18.215-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-03-31T16:57:18.216-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-03-31T16:57:18.216-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-03-31T16:57:18.216-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000019ea9ad7468@5aadad55, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@43d9161e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@570f0cd3, org.springframework.security.web.context.SecurityContextHolderFilter@249b2dd4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@4e8fab14, org.springframework.security.web.header.HeaderWriterFilter@11514c77, org.springframework.security.web.csrf.CsrfFilter@95aa79c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5c608988, org.springframework.security.web.authentication.logout.LogoutFilter@313c7515, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1fa81c78, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@6caffb24, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@36ccc844, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2dbdd3f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@361a1ec3, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7aeb4c8a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5c1a728, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@12046998, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4127f82a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f37f2e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e3b032e, org.springframework.security.web.access.ExceptionTranslationFilter@7ae5231c, org.springframework.security.web.access.intercept.AuthorizationFilter@53080ec0, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@36d56d5d, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@66d1cdea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@134b19ae, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7b28ce3c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3cf828db]] (8/9)
2025-03-31T16:57:18.217-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4eb50d60, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45578b4e, org.springframework.security.web.context.SecurityContextHolderFilter@48322f0, org.springframework.security.web.header.HeaderWriterFilter@2c0604af, org.springframework.security.web.authentication.logout.LogoutFilter@17556c0a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7240599c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@8e164f2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@69d142f6, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1eb08757, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@367e0b0e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b7e6e2d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e9bc8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a916ea3, org.springframework.security.web.access.ExceptionTranslationFilter@3f471e59, org.springframework.security.web.access.intercept.AuthorizationFilter@5aa943c5]] (9/9)
2025-03-31T16:57:18.217-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /
2025-03-31T16:57:18.217-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T16:57:18.218-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T16:57:18.218-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T16:57:18.219-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T16:57:18.220-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T16:57:18.221-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T16:57:18.222-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T16:57:18.223-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T16:57:18.224-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T16:57:18.225-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T16:57:18.225-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T16:57:18.225-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T16:57:18.226-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T16:57:18.226-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T16:57:18.227-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=io.github.cursosb.libraryapi.security.CustomAuthentication@6ea943b4] from SPRING_SECURITY_CONTEXT
2025-03-31T16:57:18.227-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T16:57:18.228-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T16:57:18.228-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T16:57:18.228-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T16:57:18.229-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T16:57:18.229-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T16:57:18.230-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /
2025-03-31T16:57:18.230-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET / using org.springframework.security.authorization.AuthenticatedAuthorizationManager@188e2151
2025-03-31T16:57:18.232-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated io.github.cursosb.libraryapi.security.CustomAuthentication@6ea943b4
2025-03-31T16:57:18.236-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /
2025-03-31T16:57:18.237-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/", parameters={}
2025-03-31T16:57:18.237-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to io.github.cursosb.libraryapi.controller.LoginViewController#paginaHome(Authentication, Model)
2025-03-31T16:57:18.306-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T16:57:18.309-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-31T16:57:23.869-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-03-31T16:57:23.870-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-03-31T16:57:23.871-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-03-31T16:57:23.872-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-03-31T16:57:23.873-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-03-31T16:57:23.875-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-03-31T16:57:23.875-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-03-31T16:57:23.876-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000019ea9ad7468@5aadad55, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@43d9161e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@570f0cd3, org.springframework.security.web.context.SecurityContextHolderFilter@249b2dd4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@4e8fab14, org.springframework.security.web.header.HeaderWriterFilter@11514c77, org.springframework.security.web.csrf.CsrfFilter@95aa79c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5c608988, org.springframework.security.web.authentication.logout.LogoutFilter@313c7515, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1fa81c78, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@6caffb24, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@36ccc844, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2dbdd3f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@361a1ec3, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7aeb4c8a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5c1a728, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@12046998, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4127f82a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f37f2e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e3b032e, org.springframework.security.web.access.ExceptionTranslationFilter@7ae5231c, org.springframework.security.web.access.intercept.AuthorizationFilter@53080ec0, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@36d56d5d, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@66d1cdea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@134b19ae, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7b28ce3c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3cf828db]] (8/9)
2025-03-31T16:57:23.877-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4eb50d60, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45578b4e, org.springframework.security.web.context.SecurityContextHolderFilter@48322f0, org.springframework.security.web.header.HeaderWriterFilter@2c0604af, org.springframework.security.web.authentication.logout.LogoutFilter@17556c0a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7240599c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@8e164f2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@69d142f6, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1eb08757, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@367e0b0e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b7e6e2d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e9bc8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a916ea3, org.springframework.security.web.access.ExceptionTranslationFilter@3f471e59, org.springframework.security.web.access.intercept.AuthorizationFilter@5aa943c5]] (9/9)
2025-03-31T16:57:23.878-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /logout
2025-03-31T16:57:23.878-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T16:57:23.879-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T16:57:23.879-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T16:57:23.879-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T16:57:23.881-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T16:57:23.881-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=io.github.cursosb.libraryapi.security.CustomAuthentication@6ea943b4] from SPRING_SECURITY_CONTEXT
2025-03-31T16:57:23.882-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Logging out [io.github.cursosb.libraryapi.security.CustomAuthentication@6ea943b4]
2025-03-31T16:57:23.883-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session D7116193A24D0B2DBE3E3725AA4E5D9F
2025-03-31T16:57:23.885-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login?logout
2025-03-31T16:57:23.885-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T16:57:23.906-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2025-03-31T16:57:23.913-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2025-03-31T16:57:23.916-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2025-03-31T16:57:23.917-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2025-03-31T16:57:23.918-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2025-03-31T16:57:23.919-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2025-03-31T16:57:23.920-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2025-03-31T16:57:23.920-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000019ea9ad7468@5aadad55, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@43d9161e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@570f0cd3, org.springframework.security.web.context.SecurityContextHolderFilter@249b2dd4, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@4e8fab14, org.springframework.security.web.header.HeaderWriterFilter@11514c77, org.springframework.security.web.csrf.CsrfFilter@95aa79c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@5c608988, org.springframework.security.web.authentication.logout.LogoutFilter@313c7515, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1fa81c78, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@6caffb24, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@36ccc844, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2dbdd3f2, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@361a1ec3, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7aeb4c8a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5c1a728, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@12046998, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4127f82a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f37f2e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e3b032e, org.springframework.security.web.access.ExceptionTranslationFilter@7ae5231c, org.springframework.security.web.access.intercept.AuthorizationFilter@53080ec0, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@36d56d5d, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@66d1cdea, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@134b19ae, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@7b28ce3c, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3cf828db]] (8/9)
2025-03-31T16:57:23.921-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4eb50d60, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45578b4e, org.springframework.security.web.context.SecurityContextHolderFilter@48322f0, org.springframework.security.web.header.HeaderWriterFilter@2c0604af, org.springframework.security.web.authentication.logout.LogoutFilter@17556c0a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7240599c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@8e164f2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@69d142f6, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1eb08757, io.github.cursosb.libraryapi.security.JwtCustomAuthenticationFilter@367e0b0e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b7e6e2d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e9bc8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a916ea3, org.springframework.security.web.access.ExceptionTranslationFilter@3f471e59, org.springframework.security.web.access.intercept.AuthorizationFilter@5aa943c5]] (9/9)
2025-03-31T16:57:23.922-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /login?logout
2025-03-31T16:57:23.922-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-31T16:57:23.923-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-31T16:57:23.924-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-31T16:57:23.924-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-31T16:57:23.925-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-31T16:57:23.925-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-31T16:57:23.925-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-31T16:57:23.925-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-31T16:57:23.925-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-31T16:57:23.925-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-31T16:57:23.927-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-31T16:57:23.929-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-31T16:57:23.932-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-31T16:57:23.934-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-31T16:57:23.937-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-03-31T16:57:23.938-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T16:57:23.938-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-31T16:57:23.938-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-31T16:57:23.940-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-31T16:57:23.943-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-31T16:57:23.946-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-31T16:57:23.949-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-31T16:57:23.951-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-31T16:57:23.954-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /login?logout
2025-03-31T16:57:23.955-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login?logout using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000019ea9ad7ab8@45763485
2025-03-31T16:57:23.957-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /login?logout
2025-03-31T16:57:23.960-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/login?logout", parameters={masked}
2025-03-31T16:57:23.962-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-03-31T16:57:23.965-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-31T16:57:23.983-03:00 DEBUG 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-31T16:57:23.988-03:00 TRACE 17776 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
